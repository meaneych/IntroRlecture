<!DOCTYPE html>
<html>
<head>
  <title>Another Introductory R Session</title>
  <meta charset="utf-8">
  <meta name="description" content="Another Introductory R Session">
  <meta name="author" content="Christopher Meaney">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/tomorrow.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="libraries/widgets/nvd3/css/nv.d3.css"></link>
<link rel=stylesheet href="libraries/widgets/nvd3/css/rNVD3.css"></link>
<link rel=stylesheet href="./assets/css/codefont.css"></link>
<link rel=stylesheet href="./assets/css/codemargin.css"></link>
<link rel=stylesheet href="./assets/css/outfont.css"></link>
<link rel=stylesheet href="./assets/css/outmargin.css"></link>
<link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> 
  <script data-main="libraries/frameworks/io2012/js/slides" 
    src="libraries/frameworks/io2012/js/require-1.0.8.min.js">
  </script>
  
  <script src="libraries/widgets/nvd3/js/jquery-1.8.2.min.js"></script>
<script src="libraries/widgets/nvd3/js/d3.v3.min.js"></script>
<script src="libraries/widgets/nvd3/js/nv.d3.min-new.js"></script>
<script src="libraries/widgets/nvd3/js/fisheye.js"></script>


</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Another Introductory R Session</h1>
    <h2>Getting You &quot;R Aware&quot; And Beyond</h2>
    <p>Christopher Meaney<br/>Biostatistician, University of Toronto</p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="nobackground" id="slide-1" style="background:;">
  <hgroup>
    <h2>Overview of Workshop</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>A Quick Intro to Everything R </li>
<li>Data Structures </li>
<li>Control Structures</li>
<li>User Defined Functions</li>
<li>Working with Strings</li>
<li>Data Manipulation </li>
<li>Advanced Data Manipulation (plyr and reshape)</li>
<li>Random Number Generation</li>
<li>Input/Output in R (Connections)</li>
<li>R Graphics (Traditional graphics, grid graphics, lattice and ggplot2)</li>
<li>Descriptive Statistics</li>
<li>Inference: Estimation and Hypothesis Testing</li>
<li>Regression Models in R</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-2" style="background:;">
  <hgroup>
    <h2>Overview of Workshop</h2>
  </hgroup>
  <article data-timings="">
    <p>The workshop has been divided into 13 modules. </p>

<p>Flow of workshop:</p>

<ul>
<li>Step 1: Didactic lecture introducing concepts in each module</li>
<li>Step 2: Lab session where participants work on problems related to each module</li>
<li>Repeat 13 times and we&#39;re done!!</li>
</ul>

<p>The workshop takes place over two days, and my goal for presenting the materials is as follows:</p>

<ul>
<li>Complete modules 1-8 on day 1: A more computer science oriented day.

<ul>
<li>Examples in this section of the workshop tend to be small and <a href="http://stackoverflow.com/questions/5963269/how-to-make-a-great-r-reproducible-example">reproducible</a>. </li>
</ul></li>
<li>Compelte modules 9-13 on day 2: A more statistics oriented day.

<ul>
<li>Examples in this section tend to be larger and use real datasets.</li>
</ul></li>
</ul>

<p>Feel free to ask questions at any time!!</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-3" style="background:;">
  <hgroup>
    <h2>What is R?</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-4" style="background:;">
  <hgroup>
    <h2>So What is R?</h2>
  </hgroup>
  <article data-timings="">
    <p><a href="http://www.r-project.org/about.html">The R Project for Statistical Computing</a> state the following: &quot;R is a language and environment for statistical computing and graphics. It is a GNU project which is similar to the S language and environment which was developed at Bell Laboratories. The S language is often the vehicle of choice for research in statistical methodology, and R provides an Open Source route to participation in that activity. R, like S, is designed around a true computer language, and it allows users to add additional functionality by defining new functions. Many users think of R as a statistics system. We prefer to think of it of an environment within which statistical techniques are implemented.&quot;</p>

<p><a href="http://en.wikipedia.org/wiki/R_(programming_language)">Wikipedia</a> defines R as: &quot;...a free software programming language and software environment for statistical computing and graphics.&quot;</p>

<p>The folks at <a href="http://www.inside-r.org/what-is-r">Inside-R</a> give the following definition: &quot;...R is a complete, interactive, object-oriented language: designed by statisticians, for statisticians. The language provides objects, operators and functions that make the process of exploring, modeling, and visualizing data a natural one. Complete data analyses can often be represented in just a few lines of code.&quot; </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="myslide" style="background:;">
  <hgroup>
    <h2>Revolution Analytics Take on R</h2>
  </hgroup>
  <article data-timings="">
    <script>
$('#myslide').on('slideenter', function(){
  $(this).find('article')
    .append('<iframe width="640" height="360" src="http://www.youtube.com/embed/TR2bHSJ_eck?feature=player_detailpage" frameborder="0" allowfullscreen></iframe>')
});
$('#myslide').on('slideleave', function(){
  $(this).find('iframe').remove();
});
</script>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-6" style="background:;">
  <hgroup>
    <h2>Why Bother Learning R?</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-7" style="background:;">
  <hgroup>
    <h2>What Some Bloggers are Saying About R</h2>
  </hgroup>
  <article data-timings="">
    <p>Francis Smith gives 5 good reasons to learn R:</p>

<ol>
<li>R is free</li>
<li>R is popular</li>
<li>R is powerful</li>
<li>R is flexible</li>
<li>R is well supported</li>
</ol>

<p>Check out his full blog post <a href="http://www.econometricsbysimulation.com/2014/03/why-use-r-five-reasons.html">here</a></p>

<p>David Smith speaks to some of the economic incentives associated with learning R <a href="http://blog.revolutionanalytics.com/2014/02/r-salary-surveys.html">here</a>. Basically, R is a highly valued skill in today&#39;s labour market! (And those are the types of skills educators/universities should be teaching students!)</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-8" style="background:;">
  <hgroup>
    <h2>Some More Reasons to Learn R</h2>
  </hgroup>
  <article data-timings="">
    <p>This comes from the <a href="http://www.inside-r.org/why-use-r">inside-R</a> folks again:</p>

<ol>
<li>R is free</li>
<li>R is a language</li>
<li>Graphics and data visualization</li>
<li>A flexible toolkit for data visualization</li>
<li>Access to powerful and cutting edge analytics</li>
<li>A robust and vibrant community</li>
<li>Unlimited possibilities</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-9" style="background:;">
  <hgroup>
    <h2>And Even More Reasons to Learn R</h2>
  </hgroup>
  <article data-timings="">
    <p>This time we get <a href="http://www.revolutionanalytics.com/what-r">Revolution Analytics</a> take again:</p>

<ol>
<li>Every data analytics technique at your fingertips</li>
<li>Create beautiful and unique data visualizations</li>
<li>Get better results faster</li>
<li>Draw on the talents of top data scientists worldwide</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-10" style="background:;">
  <hgroup>
    <h2>Learning R Might Not be a &quot;Walk in the Park&quot;</h2>
  </hgroup>
  <article data-timings="">
    <p>Tal Yorkini shares his struggles in the following quote: &quot;...Anyway, this anecdote is basically a microcosm of my entire experience with R. I suspect many other people will relate. Basically what it boils down to is that R gives you a certain amount of rope to work with. If you don’t know what you’re doing at all, you will most likely end up accidentally hanging yourself with that rope. If, on the other hand, you’re a veritable R guru, you will most likely use that rope to tie some really fancy knots, scale tall buildings, fashion yourself a space tuxedo, and, eventually, colonize brave new statistical worlds. For everyone in between novice and guru (e.g., me), using R on a regular basis is a continual exercise in alternately thinking “this is fucking awesome” and banging your head against the wall in frustration at the sheer stupidity (either your own, or that of the people who designed this awful language). But the good news is that the longer you use R, the more of the former and the fewer of the latter experiences you have. And at the end of the day, it’s totally worth it: the language is powerful enough to make you forget all of the weird syntax, strange naming conventions, choking on large datasets, and issues with data type conversions.&quot;</p>

<p>Again, the whole article can be accessed at his blog <a href="http://www.talyarkoni.org/blog/2012/06/08/r-the-master-troll-of-statistical-languages/">here</a>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-11" style="background:;">
  <hgroup>
    <h2>Getting Started with R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-12" style="background:;">
  <hgroup>
    <h2>We All Have to Start Our R Journey Somewhere...</h2>
  </hgroup>
  <article data-timings="">
    <p>Your first task will be to locate and download the version of R which is compatible with your computers operating system and hardware specifications.</p>

<ul>
<li>Windows users can download R <a href="http://cran.r-project.org/bin/windows/">here</a></li>
<li>Mac users can download R <a href="http://cran.r-project.org/bin/macosx/">here</a></li>
<li>Linux users can download R <a href="http://cran.r-project.org/bin/linux/">here</a></li>
</ul>

<p>Relevant information about the installation process can be found at the <a href="http://www.r-project.org">R Project</a> website.</p>

<p><a href="http://cran.utstat.utoronto.ca">CRAN</a> (the Comprehensive R Archive Network) will have a lot of similarly valuable information. n.b. You should usually/always choose to download R files from your (geographically) closest CRAN mirror. For us, that&#39;s the utstat CRAN mirror hosted by the folks from the Department of Statistics at the University of Toronto.  </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-13" style="background:;">
  <hgroup>
    <h2>Learning Materials on the R Project Website</h2>
  </hgroup>
  <article data-timings="">
    <p>R core team members have spent time creating a series of comprehensive and well written manuals relevant to all those attempting to learn the R language. Check em out at the links given below:</p>

<ol>
<li><a href="http://cran.r-project.org/doc/manuals/r-release/R-intro.pdf">An Introduction to R</a> </li>
<li><a href="http://cran.r-project.org/doc/manuals/r-release/R-admin.pdf">R Installation and Administration</a></li>
<li><a href="http://cran.r-project.org/doc/manuals/r-release/R-exts.pdf">Writing R Extensions</a> </li>
<li><a href="http://cran.r-project.org/doc/manuals/r-release/R-lang.pdf">The R Language Definition</a></li>
<li><a href="http://cran.r-project.org/doc/manuals/r-release/R-ints.pdf">R Internals</a></li>
<li><a href="http://cran.r-project.org/doc/manuals/r-release/fullrefman.pdf">R Reference Index</a> n.b. This is a 9Mb download (be patient).</li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-14" style="background:;">
  <hgroup>
    <h2>Other Great Sources of R Information</h2>
  </hgroup>
  <article data-timings="">
    <p>The Internet is a great resource of R information. Some of my favourite R related sites include:</p>

<ul>
<li><a href="http://www.r-project.org">The R Project for Statistical Computing</a></li>
<li><a href="http://cran.r-project.org/web/views/">CRAN task views</a></li>
<li><a href="http://www.rseek.org">http://www.rseek.org</a></li>
<li><a href="http://www.inside-r.org/">http://www.inside-r.org/</a></li>
<li><a href="http://crantastic.org">http://crantastic.org</a></li>
<li><a href="http://www.statmethods.net">http://www.statmethods.net</a></li>
<li><a href="http://www.r-bloggers.com">http://www.r-bloggers.com</a></li>
<li><a href="http://stats.stackexchange.com">http://stats.stackexchange.com</a></li>
<li><a href="http://stackoverflow.com">http://stackoverflow.com</a></li>
</ul>

<p>The list is above is by no means &quot;complete&quot;. If you&#39;re totally lost on what to do in R a quick <a href="www.google.ca">google</a> search is usually a good first place to start. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-15" style="background:;">
  <hgroup>
    <h2>Some of the Books I Used to Learn R</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><a href="http://www.amazon.com/Introductory-Statistics-R-Computing/dp/0387790535/ref=sr_1_1?ie=UTF8&amp;qid=1400472149&amp;sr=8-1&amp;keywords=dalgaard">Introductory Statistics with R. Peter Dalgaard</a></li>
<li><a href="http://www.amazon.com/Modern-Applied-Statistics-Computing/dp/0387954570/ref=sr_1_1?ie=UTF8&amp;qid=1400472198&amp;sr=8-1&amp;keywords=modern+applied+statistics+with+s">Modern Applied Statistics with S. Bill Venables &amp; Brian Ripley</a></li>
<li><a href="http://www.amazon.com/Graphics-Second-Edition-Chapman-Series/dp/1439831769">R Graphics. Paul Murrell</a></li>
<li><a href="http://www.amazon.com/R-Graphics-Cookbook-Winston-Chang/dp/1449316956/ref=sr_1_1?ie=UTF8&amp;qid=1400472251&amp;sr=8-1&amp;keywords=r+graphics+cookbook">R Graphics Cookbook. Winston Chang</a></li>
<li><a href="http://www.amazon.com/ggplot2-Elegant-Graphics-Data-Analysis/dp/0387981403/ref=sr_1_1?ie=UTF8&amp;qid=1400472285&amp;sr=8-1&amp;keywords=ggplot2">ggplot2: Elegant Graphics for Data Analysis. Hadley Wickham</a></li>
<li><a href="http://www.amazon.com/Lattice-Multivariate-Data-Visualization-Use/dp/0387759689/ref=sr_1_1?ie=UTF8&amp;qid=1400472331&amp;sr=8-1&amp;keywords=lattice+data">lattice: Mutlivariate Data Visualization with R. Deepayan Sarkar</a></li>
<li><a href="http://www.amazon.com/First-Course-Statistical-Programming/dp/0521694248/ref=sr_1_1?ie=UTF8&amp;qid=1400472386&amp;sr=8-1&amp;keywords=braun+and+murdoch">A First Course in Statistical Programming with R. John Braun &amp; Duncan Murdoch</a></li>
<li><a href="http://www.amazon.com/Introduction-Scientific-Programming-Simulation-Chapman/dp/1420068725/ref=sr_1_3?ie=UTF8&amp;qid=1400472439&amp;sr=8-3&amp;keywords=scientific+computing+in+r">Introduction to Scientific Computing and Simulation in R. Owen Jones et al</a></li>
<li><a href="http://www.amazon.com/The-Art-Programming-Statistical-Software/dp/1593273843/ref=sr_1_sc_1?ie=UTF8&amp;qid=1400472502&amp;sr=8-1-spell&amp;keywords=R+matlof">The Art of R Programming. Norman Matloff</a></li>
<li><a href="http://www.amazon.com/Data-Manipulation-R-Use/dp/0387747303/ref=sr_1_1?ie=UTF8&amp;qid=1400472537&amp;sr=8-1&amp;keywords=R+spector">Data Manipulation with R. Phil Spector</a></li>
<li><a href="http://www.amazon.com/Software-Data-Analysis-Programming-Statistics/dp/0387759352/ref=sr_1_1?ie=UTF8&amp;qid=1400472580&amp;sr=8-1&amp;keywords=R+john+chambers">Software for Data Analysis: Programming with R. John Chambers</a></li>
<li><a href="http://adv-r.had.co.nz">Advanced R Programming. Hadley Wickham</a></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-16" style="background:;">
  <hgroup>
    <h2>Our First R Session</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-17" style="background:;">
  <hgroup>
    <h2>How to Interact with R</h2>
  </hgroup>
  <article data-timings="">
    <p>There are two ways to conduct statistical analysis in R:</p>

<ul>
<li>Interactive mode</li>
<li>Batch mode</li>
</ul>

<p>In this talk, we will focus on interactive mode. </p>

<p>Google &quot;batch processing in R&quot; for more information on running R from the command line. </p>

<p>And check out the <code>source()</code> function for similar (but subtly different) functionality allowing users to submit statements to R via a file. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-18" style="background:;">
  <hgroup>
    <h2>How are R works in a Nutshell</h2>
  </hgroup>
  <article data-timings="">
    <p>R works by using a &quot;read-evaluate-print&quot; loop. </p>

<ul>
<li>You type some statements at the command prompt (or statements are read from a file).</li>
<li>The parser breaks down syntactically correct statements into machine readable code. </li>
<li>The R evaluator executes parsed R expressions and returned values are printed to the console (or some other device) or stored internally as some kind of object. </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-19" style="background:;">
  <hgroup>
    <h2>Interactive Mode or Scripts</h2>
  </hgroup>
  <article data-timings="">
    <p>Typically, analysts do NOT type their R statements directly into the console. Rather they write scripts in some sort of a text file which contain the statements which are then passed to the console (evaluator).</p>

<p>There are many popular editors and IDE&#39;s (interactive development evironments) which can be used to write these scripts. Some of them include:</p>

<ul>
<li><a href="http://ess.r-project.org/">ESS</a></li>
<li><a href="http://www.vim.org/scripts/script.php?script_id=2628">VIM</a></li>
<li><a href="http://nbcgib.uesc.br/lec/software/editores/tinn-r/en">Tinn-R</a></li>
<li><a href="http://www.rstudio.com">R Studio</a></li>
</ul>

<p>I do not talk about these tools. They are outside the scope of the lecture. Just know they exist and can ehance your workflow. So check em out...</p>

<p>Also, I use syntax highlighting to emphasize R code in this lecture. Simply copy/paste highlighted syntax into your console to reproduce results. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-20" style="background:;">
  <hgroup>
    <h2>What Your R Console Looks Like (for Mac OS X)</h2>
  </hgroup>
  <article data-timings="">
    <div style='text-align: center;'>
    <img height='400' src='/Users/chris/Documents/Rlecture/LectureImages/RConsoleMac.png' />
</div>

<p>Spend some time checking out the drop down menu options. And read the contents printed to the console upon start up.  </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-21" style="background:;">
  <hgroup>
    <h2>Hints About R Functionality Appear at Start-Up</h2>
  </hgroup>
  <article data-timings="">
    <p>Upon start up the R console lists: R version, copyright information and platform information. These information can be VERY useful when debugging problems in your code. Or when trying to replicate others code. Type <code>sessionInfo()</code> in the console for more information. </p>

<p>Additional information on R licensing is output. Further details can be obtained using the <code>license()</code> function. </p>

<p>Other useful functions include:</p>

<ul>
<li><code>contributors()</code></li>
<li><code>citation()</code></li>
<li><code>news()</code> n.b. This might overload your console window.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-22" style="background:;">
  <hgroup>
    <h2>Essential Functions for Controlling Your Workspace</h2>
  </hgroup>
  <article data-timings="">
    <p>The following functions give information about objects in your R session:</p>

<ul>
<li><code>ls()</code> and <code>objects()</code> functions list objects in a given environment</li>
<li><code>exists()</code> tests for the existence of certain objects in a given environment</li>
<li><code>serch()</code> and <code>searchpaths()</code> lists attached packages and directory locations</li>
<li><code>rm()</code> can be used to remove objects from an environment</li>
</ul>

<p>The following functions get/set working directories for your R session:</p>

<ul>
<li><code>getwd()</code> and <code>setwd()</code></li>
</ul>

<p>One can source a <code>script.R</code> file using <code>source()</code></p>

<p>And one can end an R session using <code>q()</code></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-23" style="background:;">
  <hgroup>
    <h2>R Packages</h2>
  </hgroup>
  <article data-timings="">
    <p>Many operators/functions come shipped with a base R installation. Just type <code>ls(&quot;package:base&quot;)</code> into your console to verify this fact. However, it is often the case that one wants to apply a function to data which is not provided by base R. In this case, one can extend R functionality through user contributed packages.</p>

<p>All packages are listed and must be downloaded from <a href="http://cran.utstat.utoronto.ca/">CRAN</a></p>

<p>The following are useful functions for packages management:</p>

<ul>
<li><code>install.packages()</code> can be used to download packages</li>
<li><code>library()</code> or <code>require()</code> can be used to load your downloaded package into your current R session</li>
<li> <code>installed.packages()</code> can be used to list all installed packages in a certain version of R</li>
</ul>

<p>We will give a more thorough introduction to various R packages later in this talk. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-24" style="background:;">
  <hgroup>
    <h2>Getting Help in R</h2>
  </hgroup>
  <article data-timings="">
    <p>R comes equipped with many useful functions that can be used to obtain help when things aren&#39;t going well or when you just need more information. Some useful functions include: </p>

<ul>
<li><code>?</code></li>
<li><code>help()</code></li>
<li><code>help.start()</code></li>
<li><code>help.search()</code></li>
<li><code>RSiteSearch()</code></li>
<li><code>apropos()</code></li>
<li><code>demo()</code></li>
<li><code>example()</code></li>
<li><code>vignette()</code></li>
</ul>

<p>You can also <a href="www.google.ca">google</a> the <code>sos</code> package, which provides a useful set of tools for obtaining help in R. More information on <code>sos</code> can be found <a href="http://cran.r-project.org/web/packages/sos/vignettes/sos.pdf">here</a></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-25" style="background:;">
  <hgroup>
    <h2>Before Getting Started...Some General R Principles</h2>
  </hgroup>
  <article data-timings="">
    <p>Everything in R is an object!</p>

<p>In R we often attempt to create objects, applying functions/operators to these objects, and obtaining returned outputs  (perhaps in the form of new objects).</p>

<p>In fact, functions and basic operators are themselves objects in R.</p>

<p>For example: type <code>?&quot;*&quot;</code> into the console to read more about the base R arithmetic operators. Further, type <code>?pi</code> into the console to learn more about the numeric constant pi. Or type, <code>?sqrt</code> to learn more about the square root function.</p>

<p>With these simple facts/tools in mind we will begin our R journey as many people have before us: &quot;Using R as a Big Calculator&quot;.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="outmargin codemargin nobackground" id="slide-26" style="background:;">
  <hgroup>
    <h2>R Can be Used as a Big Calculator</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">## Addition
1 + 1
</code></pre>

<pre><code>## [1] 2
</code></pre>

<pre><code class="r">## Exponentiation followed by multiplication (BEDMAS)
4*5^2
</code></pre>

<pre><code>## [1] 100
</code></pre>

<pre><code class="r">## Area of a circle of radius r=2
pi*2^2
</code></pre>

<pre><code>## [1] 12.57
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="outmargin codemargin nobackground" id="slide-27" style="background:;">
  <hgroup>
    <h2>R Can be Used as a Big Calculator</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">## Natural logarithm of 1 multiplied by exponential (function) evaluated at 0
log(1)*exp(0)
</code></pre>

<pre><code>## [1] 0
</code></pre>

<pre><code class="r">## Factorial of 5
factorial(5)
</code></pre>

<pre><code>## [1] 120
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="outmargin codemargin nobackground" id="slide-28" style="background:;">
  <hgroup>
    <h2>R Can be Used as a Big Calculator (with Objects)</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">## Addition
a &lt;- 1
b &lt;- 1
a + b
</code></pre>

<pre><code>## [1] 2
</code></pre>

<p><br/>
This basic OO example acts to demonstrate a few things:</p>

<ul>
<li><code>a</code> is the name of a variable/symbol. It acts as a &quot;container&quot; for the number 1. </li>
<li><code>b</code> is the name of a variable/symbol. It acts as a &quot;container&quot; for the number 1.</li>
<li><code>&lt;-</code> is a the assignment operator.</li>
<li>After designating <code>a</code> and <code>b</code> as variables/symbols, the <code>+</code> operator/function accepts the two arguments. The R interpretter recognizes the command as a valid R function, evaluates the function call accordingly and returns/prints the function value to the R console. </li>
<li>Type the following into the console <code>&quot;+&quot;(a,b)</code>. It does the same thing and acts to explicitly demonstrate <code>+</code> is a function which can take on arguments <code>a</code> and <code>b</code>.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="outmargin codemargin nobackground" id="slide-29" style="background:;">
  <hgroup>
    <h2>R as a Big Calculator with Objects</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">## Area of a circle of radius in the set r=(1,2,3)
radius &lt;- c(1,2,3)
area &lt;- pi*radius^2
cat(area, sep=&quot;\n&quot;)
</code></pre>

<p>3.142<br/>12.57<br/>28.27</p>

<p><br/>
A slightly more complicated OO example:</p>

<ul>
<li>Here we start by assigning (<code>&lt;-</code>) the values 1, 2, and 3 to a numeric vector (also a &quot;container&quot; for data) of variable name <code>radius</code>.</li>
<li><code>c(...)</code> is a very important function in R which acts to combine numeric, integer, character, logical, complex or raw values into a <code>vector</code>. It is an essential building block for other data structures in R.</li>
<li>Given the vector named <code>radius</code> we square (<code>^2</code>) all elements and multiply them by <code>pi</code> (an internal R Constant). The result is a new object called <code>area</code> which we print to the console.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-30" style="background:;">
  <hgroup>
    <h2>Some Other Useful R Math Functions</h2>
  </hgroup>
  <article data-timings="">
    <table><thead>
<tr>
<th>Math Functions</th>
<th align="right">R Command</th>
</tr>
</thead><tbody>
<tr>
<td>Arithmetic Math Operators</td>
<td align="right"><code>+, -, *, /, ^, %%, %/%</code></td>
</tr>
<tr>
<td>Misc. Math Functions</td>
<td align="right"><code>abs(), sqrt(), sign()</code></td>
</tr>
<tr>
<td>More Misc. Math Functions</td>
<td align="right"><code>ceiling(), floor(), round(), signif(), trunc()</code></td>
</tr>
<tr>
<td>More Misc. Math Functions</td>
<td align="right"><code>sum(), diff(), prod(), cumsum(), cumprod()</code></td>
</tr>
<tr>
<td>Logarithmic and Exponential Functions</td>
<td align="right"><code>log(), log2(), log10, exp()</code></td>
</tr>
<tr>
<td>Trigonometric Functions</td>
<td align="right"><code>sin(), cos(), tan(), asin(), acos(), atan()</code></td>
</tr>
</tbody></table>

<p><br/>
To learn more about base R syntax precedence, math operators, functions and constants type the following help commands into the console:</p>

<ul>
<li>?Syntax</li>
<li>?Math</li>
<li>?Ops</li>
<li>?Special</li>
<li>?Constants</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="outmargn codemargin nobackground" id="slide-31" style="background:;">
  <hgroup>
    <h2>R Functions for Descriptive Statistics</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(1,2,3,4,5)
mean(a)
</code></pre>

<pre><code>## [1] 3
</code></pre>

<pre><code class="r">median(a)
</code></pre>

<pre><code>## [1] 3
</code></pre>

<pre><code class="r">var(a)
</code></pre>

<pre><code>## [1] 2.5
</code></pre>

<pre><code class="r">sd(a)
</code></pre>

<pre><code>## [1] 1.581
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="outmargn codemargin nobackground" id="slide-32" style="background:;">
  <hgroup>
    <h2>R Functions for Descriptive Statistics</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(1,2,3,4,5)
summary(a)
</code></pre>

<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##       1       2       3       3       4       5
</code></pre>

<pre><code class="r">range(a)
</code></pre>

<pre><code>## [1] 1 5
</code></pre>

<pre><code class="r">min(a)
</code></pre>

<pre><code>## [1] 1
</code></pre>

<pre><code class="r">max(a)
</code></pre>

<pre><code>## [1] 5
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-33" style="background:;">
  <hgroup>
    <h2>Tabulation is easy in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(1,2,3,4,5)
table(a)
</code></pre>

<pre><code>## a
## 1 2 3 4 5 
## 1 1 1 1 1
</code></pre>

<pre><code class="r">prop.table(table(a))
</code></pre>

<pre><code>## a
##   1   2   3   4   5 
## 0.2 0.2 0.2 0.2 0.2
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-34" style="background:;">
  <hgroup>
    <h2>Some Basic R Plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(1,2,3,4,5)
pie(table(a))
</code></pre>

<p><img src="assets/fig/intro_pie.png" title="plot of chunk intro_pie" alt="plot of chunk intro_pie" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-35" style="background:;">
  <hgroup>
    <h2>Some Basic R Plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(1,2,3,4,5)
b &lt;- c(1,2,3,4,5)
cor(a,b)
</code></pre>

<pre><code>## [1] 1
</code></pre>

<pre><code class="r">plot(a,b,type=&quot;b&quot;)
</code></pre>

<p><img src="assets/fig/intro_scatter.png" title="plot of chunk intro_scatter" alt="plot of chunk intro_scatter" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="outmargn codemargin nobackground" id="slide-36" style="background:;">
  <hgroup>
    <h2>R Functions for Descriptive Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>This example was similar to the previous. Here we create a vector of 5 numbers using <code>c(1,2,3,4,5)</code> and we assign it to the variable/symbolic name <code>a</code> and <code>b</code> using the assignment operator (<code>&lt;-</code>)</p>

<p>The ease at which statistical summaries can be generated on data objects is one of R&#39;s greatest strengths. In this simple example we saw how R can be used to produce:</p>

<ul>
<li>Univariate statistical estimates</li>
<li>Bivariate statistical estimates</li>
<li>Tabulate discrete variables, and estimate the PMF</li>
<li>Plot univariate and bivariate data</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-37" style="background:;">
  <hgroup>
    <h2>Other useful R functions/operators</h2>
  </hgroup>
  <article data-timings="">
    <p>Hadley Wickham (R guru) lists many other useful R operators/functions in the <a href="http://adv-r.had.co.nz/Vocabulary.html">vocabulary</a> section of his online text.</p>

<p>Tom Short also created an awesome <a href="http://cran.r-project.org/doc/contrib/Short-refcard.pdf">R Reference Card</a> that enumerates many useful R operators/functions...  </p>

<p>So far we&#39;ve briefly touched on a very few number of these operators/functions. Over the course of this two day lecture I will slowly introduce you to some of the base R functions and other contributed functions that I think are most important in R programming.</p>

<p>When preparing this presentation (June 2014) there were 5563 contributed packages on CRAN each with it&#39;s own functions. Learning all of the functions would be close to impossible. For that reason we stress core functionality and programming basics, in hopes that a sound introduction will allow you to explore these packages and expand R functionality for your specific data analytic demands. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-38" style="background:;">
  <hgroup>
    <h2>Summary of our First R Session</h2>
  </hgroup>
  <article data-timings="">
    <p>Everything in R is an object</p>

<ul>
<li>The goal is to use R functions/operators (which are themselves first class objects) to return values to the console (or other devices) or create new objects</li>
</ul>

<p>The command prompt symbol <code>&gt;</code> indicates that the R console is ready to read, parse and evaluate new expressions. If the command prompt symbol is absent (or appears as <code>+</code>) R has not finsihed processing previously submitted commands.</p>

<p>The most important functions we introduced so far are likely:</p>

<ul>
<li><code>?</code> to obtain help</li>
<li><code>&lt;-</code> to assign variable/symbolic names to objects <a href="http://journal.r-project.org/archive/2012-2/RJournal_2012-2_Baaaath.pdf">(Variable naming conventions)</a></li>
<li><code>c(...)</code> to combine elements into a vector</li>
<li><code>q()</code>  can be used to quit R</li>
</ul>

<p>A final hint...R is CASE SENSITIVE (so watch out for that).</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-39" style="background:;">
  <hgroup>
    <h2>Laboratory Session (5-10 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-40" style="background:;">
  <article data-timings="">
    <p>Lab Objectives:</p>

<ul>
<li>Spend some time fooling around with R.</li>
<li>Use <code>c(...)</code> and the assingment operator (<code>&lt;-</code>) to create some objects.</li>
<li>Apply some of the basic math/statistics functions to these objects.</li>
<li>Explore and familiarize yourself with some functions on <a href="http://cran.r-project.org/doc/contrib/Short-refcard.pdf">Tom</a> /<a href="http://adv-r.had.co.nz/Vocabulary.html">Hadley&#39;s</a> list. 

<ul>
<li>Use R help (<code>?some.function</code>) to learn more about these functions. </li>
<li>Explore the examples of how the functions work. For exmaple, try something like <code>example(mean)</code>. </li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-41" style="background:;">
  <hgroup>
    <h2>Data Structures in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-42" style="background:;">
  <hgroup>
    <h2>Data Structures in R</h2>
  </hgroup>
  <article data-timings="">
    <p>In most programming languages, variables provide a means of accessing data stored in memory. In R we cannot directly control memory allocation. Rather R comes equipped with a set of data structures which we refer to as objects and which act as containers for our data. </p>

<p>The most basic data structure in R is a vector.</p>

<p>R does not have scalars like other languages. </p>

<p>There are 6 basic (&quot;atomic&quot;) vector types: logical, integer, numeric, complex, character and raw. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-43" style="background:;">
  <hgroup>
    <h2>Data Structures in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can  determine the properties of (vector type) objects using the functions: <code>typeof()</code>, <code>mode()</code> and <code>storage.mode()</code></p>

<table><thead>
<tr>
<th><code>typeof()</code></th>
<th><code>mode()</code></th>
<th align="right"><code>storage.mode()</code></th>
</tr>
</thead><tbody>
<tr>
<td>logical</td>
<td>logical</td>
<td align="right">logical</td>
</tr>
<tr>
<td>integer</td>
<td>numeric</td>
<td align="right">integer</td>
</tr>
<tr>
<td>double</td>
<td>numeric</td>
<td align="right">double</td>
</tr>
<tr>
<td>complex</td>
<td>complex</td>
<td align="right">complex</td>
</tr>
<tr>
<td>character</td>
<td>character</td>
<td align="right">character</td>
</tr>
<tr>
<td>raw</td>
<td>raw</td>
<td align="right">raw</td>
</tr>
</tbody></table>

<p><br/></p>

<p>In this talk we will only really encounter logical, integer, numeric and character vactors. So in the next slides we will explore the properties of these types of vectors in greater detail.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-44" style="background:;">
  <hgroup>
    <h2>Numeric vectors in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(1.2, 2.3)
a
</code></pre>

<pre><code>## [1] 1.2 2.3
</code></pre>

<pre><code class="r">typeof(a)
</code></pre>

<pre><code>## [1] &quot;double&quot;
</code></pre>

<pre><code class="r">mode(a)
</code></pre>

<pre><code>## [1] &quot;numeric&quot;
</code></pre>

<pre><code class="r">storage.mode(a)
</code></pre>

<pre><code>## [1] &quot;double&quot;
</code></pre>

<p><br/></p>

<p>We can test the &quot;type/mode&quot; of a vector using the functions: <code>is.numeric()</code> or <code>is.double()</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-45" style="background:;">
  <hgroup>
    <h2>Integer vectors in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(1L, 2L, 1:3)
a
</code></pre>

<pre><code>## [1] 1 2 1 2 3
</code></pre>

<pre><code class="r">typeof(a)
</code></pre>

<pre><code>## [1] &quot;integer&quot;
</code></pre>

<pre><code class="r">mode(a)
</code></pre>

<pre><code>## [1] &quot;numeric&quot;
</code></pre>

<pre><code class="r">storage.mode(a)
</code></pre>

<pre><code>## [1] &quot;integer&quot;
</code></pre>

<p>We can test the &quot;type/mode&quot; of a vector using <code>is.integer()</code>. <code>1L</code> makes it clear to the evaluator that 1 is to be interpretted as an integer. <code>:</code> creates sequences of values.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-46" style="background:;">
  <hgroup>
    <h2>Logical vectors in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(TRUE, FALSE, TRUE, TRUE, F, rep(T, 2))
a
</code></pre>

<pre><code>## [1]  TRUE FALSE  TRUE  TRUE FALSE  TRUE  TRUE
</code></pre>

<pre><code class="r">typeof(a)
</code></pre>

<pre><code>## [1] &quot;logical&quot;
</code></pre>

<pre><code class="r">mode(a)
</code></pre>

<pre><code>## [1] &quot;logical&quot;
</code></pre>

<pre><code class="r">storage.mode(a)
</code></pre>

<pre><code>## [1] &quot;logical&quot;
</code></pre>

<p>Here <code>T</code>, <code>F</code>, <code>TRUE</code> and <code>FALSE</code> are reserved words in the R language representing logical values TRUE and FALSE. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-47" style="background:;">
  <hgroup>
    <h2>Characters vectors in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(letters[1:3], LETTERS[24:26], &quot;chris&quot;)
a
</code></pre>

<pre><code>## [1] &quot;a&quot;     &quot;b&quot;     &quot;c&quot;     &quot;X&quot;     &quot;Y&quot;     &quot;Z&quot;     &quot;chris&quot;
</code></pre>

<pre><code class="r">typeof(a)
</code></pre>

<pre><code>## [1] &quot;character&quot;
</code></pre>

<pre><code class="r">mode(a)
</code></pre>

<pre><code>## [1] &quot;character&quot;
</code></pre>

<pre><code class="r">storage.mode(a)
</code></pre>

<pre><code>## [1] &quot;character&quot;
</code></pre>

<p>The operators/functions <code>letters</code> and <code>LETTERS</code> are built in R constants. Try <code>?Constants</code>, <code>?letters</code> and <code>?LETTERS</code> to learn more. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-48" style="background:;">
  <hgroup>
    <h2>A few ways to create the same numeric vector</h2>
  </hgroup>
  <article data-timings="">
    <p>In R there usually exist multiple ways to skin a cat. Take the following example:</p>

<p><br/></p>

<pre><code class="r">numvec1 &lt;- c(1,2,3)
numvec1
</code></pre>

<pre><code>## [1] 1 2 3
</code></pre>

<pre><code class="r">numvec2 &lt;- seq(from=1, to=3, by=1)
numvec2
</code></pre>

<pre><code>## [1] 1 2 3
</code></pre>

<pre><code class="r">numvec3 &lt;- 1:3
numvec3
</code></pre>

<pre><code>## [1] 1 2 3
</code></pre>

<p>Here we use three different R functions to accomplish the same endpoint, namely: <code>c(...)</code>, <code>seq()</code> and <code>:</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-49" style="background:;">
  <hgroup>
    <h2>Vector conversion in R</h2>
  </hgroup>
  <article data-timings="">
    <p>A potentially strange aspect of R is that it is possible to create an object of a certain &quot;type/mode&quot; and then simply convert it to some other mode. </p>

<p>In some cases variable conversion can be useful when conducting data manipulation. In other cases, it fails miserably (and likely rightfully so)...</p>

<p>The new functions to check out include:</p>

<ul>
<li><code>as.numeric()</code></li>
<li><code>as.integer()</code></li>
<li><code>as.logical()</code></li>
<li><code>as.character()</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-50" style="background:;">
  <hgroup>
    <h2>Vector conversion in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">vec1 &lt;- c(T,F,T,F)
as.numeric(vec1)
</code></pre>

<pre><code>## [1] 1 0 1 0
</code></pre>

<pre><code class="r">vec2 &lt;- c(letters[1:3])
as.numeric(vec2)
</code></pre>

<pre><code>## Warning: NAs introduced by coercion
</code></pre>

<pre><code>## [1] NA NA NA
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-51" style="background:;">
  <hgroup>
    <h2>Vector conversion in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">vec3 &lt;- c(-2.5,-1.2,0,1L,2.1)
as.logical(vec3)
</code></pre>

<pre><code>## [1]  TRUE  TRUE FALSE  TRUE  TRUE
</code></pre>

<pre><code class="r">as.character(vec3)
</code></pre>

<pre><code>## [1] &quot;-2.5&quot; &quot;-1.2&quot; &quot;0&quot;    &quot;1&quot;    &quot;2.1&quot;
</code></pre>

<pre><code class="r">as.integer(vec3)
</code></pre>

<pre><code>## [1] -2 -1  0  1  2
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-52" style="background:;">
  <hgroup>
    <h2>Vector conversion in R</h2>
  </hgroup>
  <article data-timings="">
    <p>In R we cannot create vectors of mixed type. If we attempt to do so R will perform vector conversion on it&#39;s own.</p>

<p><br/></p>

<pre><code class="r">typeof(c(1.2,1L))
</code></pre>

<pre><code>## [1] &quot;double&quot;
</code></pre>

<pre><code class="r">c(0,T,1,F)
</code></pre>

<pre><code>## [1] 0 1 1 0
</code></pre>

<pre><code class="r">c(1,&quot;chris&quot;,2,&quot;dog&quot;)
</code></pre>

<pre><code>## [1] &quot;1&quot;     &quot;chris&quot; &quot;2&quot;     &quot;dog&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-53" style="background:;">
  <hgroup>
    <h2>We stray off on a tangent now...</h2>
  </hgroup>
  <article data-timings="">
    <p>A few examples ago we encountered a special constant which is very important in R, namely: <code>NA</code>. We use <code>NA</code> to represent data which are missing or not available.</p>

<p><br/></p>

<pre><code class="r">a &lt;- c(1,2,3,4,5,NA)
is.na(a)
</code></pre>

<pre><code>## [1] FALSE FALSE FALSE FALSE FALSE  TRUE
</code></pre>

<pre><code class="r">mean(a)
</code></pre>

<pre><code>## [1] NA
</code></pre>

<pre><code class="r">mean(a, na.rm=TRUE)
</code></pre>

<pre><code>## [1] 3
</code></pre>

<p><br/>
We must take care to handle <code>NA</code> values appropriately. Also, note we can specify the type of NA, namely: <code>NA_real_</code>, <code>NA_integer_</code>, <code>NA_character_</code> or <code>NA_complex_</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-54" style="background:;">
  <hgroup>
    <h2>Another tangent...More special R values</h2>
  </hgroup>
  <article data-timings="">
    <p>Some other special R values include: </p>

<ul>
<li><code>NaN</code> Not a number</li>
<li><code>Inf</code> Positive infinity</li>
<li><code>-Inf</code> Negative infinity</li>
</ul>

<pre><code class="r">0/0
</code></pre>

<pre><code>## [1] NaN
</code></pre>

<pre><code class="r">1/0
</code></pre>

<pre><code>## [1] Inf
</code></pre>

<pre><code class="r">-1/0
</code></pre>

<pre><code>## [1] -Inf
</code></pre>

<p>The <code>typeof()</code> returned for all special values above is <code>double</code>. The <code>mode()</code> is <code>numeric</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-55" style="background:;">
  <hgroup>
    <h2>A final tangent...</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>NULL</code> object is used to specify empty objects. Or possibily to remove parts of complex objects. It strips an object of all associated data elements and attributes.</p>

<p><br/></p>

<p>We can test the <code>NULL</code> property using <code>is.null()</code> and we can set the <code>NULL</code> property using <code>as.null()</code>.</p>

<p><br/></p>

<pre><code class="r">a &lt;- c(1,2,3)
is.null(a)
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<pre><code class="r">as.null(a)
</code></pre>

<pre><code>## NULL
</code></pre>

<pre><code class="r">is.null(a)
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-56" style="background:;">
  <hgroup>
    <h2>Getting back on track...vector indexing</h2>
  </hgroup>
  <article data-timings="">
    <p>We can extract ANY elements of an R vector using vector indexing operators/functions.</p>

<p><br/></p>

<pre><code class="r">a &lt;- c(1:5,NA)
length(a)
</code></pre>

<pre><code>## [1] 6
</code></pre>

<pre><code class="r">a[1]
</code></pre>

<pre><code>## [1] 1
</code></pre>

<pre><code class="r">a[is.na(a)==FALSE]
</code></pre>

<pre><code>## [1] 1 2 3 4 5
</code></pre>

<pre><code class="r">a[c(1,2,6)]
</code></pre>

<pre><code>## [1]  1  2 NA
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-57" style="background:;">
  <hgroup>
    <h2>Named vector elements</h2>
  </hgroup>
  <article data-timings="">
    <p>It is possible to name elements of a vector. These named elements can then be used in vector indexing (or element extraction).</p>

<p><br/></p>

<pre><code class="r">a &lt;- c(first=1, second=2, third=3)
a
</code></pre>

<pre><code>##  first second  third 
##      1      2      3
</code></pre>

<pre><code class="r">a[c(&quot;first&quot;,&quot;third&quot;)]
</code></pre>

<pre><code>## first third 
##     1     3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-58" style="background:;">
  <hgroup>
    <h2>Vector Recycling</h2>
  </hgroup>
  <article data-timings="">
    <p>We can apply functions to vectors. If the vectors are the same length these commands will usually be performed element by element. </p>

<p><br/></p>

<pre><code class="r">a &lt;- 1:3
b &lt;- 4:6
a
</code></pre>

<pre><code>## [1] 1 2 3
</code></pre>

<pre><code class="r">b
</code></pre>

<pre><code>## [1] 4 5 6
</code></pre>

<pre><code class="r">a+b
</code></pre>

<pre><code>## [1] 5 7 9
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-59" style="background:;">
  <hgroup>
    <h2>Vector Recycling</h2>
  </hgroup>
  <article data-timings="">
    <p>If the vectors are not the same length then R will &quot;recycle&quot; the elements of the shorter vector and apply them to the longer vector. R will also throw up a warning at this point that the vectors are not the same length and that recycling has occurred. For example:</p>

<pre><code class="r">a &lt;- 1:3
b &lt;- 4:5
a
</code></pre>

<pre><code>## [1] 1 2 3
</code></pre>

<pre><code class="r">b
</code></pre>

<pre><code>## [1] 4 5
</code></pre>

<pre><code class="r">a+b
</code></pre>

<pre><code>## Warning: longer object length is not a multiple of shorter object length
</code></pre>

<pre><code>## [1] 5 7 7
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-60" style="background:;">
  <hgroup>
    <h2>Other R Data Structures</h2>
  </hgroup>
  <article data-timings="">
    <p>Vectors act as a basic building block for other R data structures. These more complicated data structures can basically be thought of as extension to vectors accounting for different &quot;types/modes&quot; or heterogeneous lengths:</p>

<p>This useful table is borrowed from <a href="http://adv-r.had.co.nz/Data-structures.html">Hadley&#39;s</a> advanced R text book:</p>

<table><thead>
<tr>
<th>Dimension</th>
<th>Homogeneous type/mode</th>
<th align="right">Heterogeneous type/mode</th>
</tr>
</thead><tbody>
<tr>
<td>1-dimension</td>
<td>Vector</td>
<td align="right">List</td>
</tr>
<tr>
<td>2-dimension</td>
<td>Matrix</td>
<td align="right">Dataframe</td>
</tr>
<tr>
<td>N-dimensions</td>
<td>Array</td>
<td align="right"></td>
</tr>
</tbody></table>

<p><br/>
We will use the following functions to explore the properties of these more complex data types:</p>

<ul>
<li><code>str()</code></li>
<li><code>attributes()</code>

<ul>
<li><code>class()</code>, <code>dim()</code>, <code>names()</code>, etc...</li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-61" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <p>A matrix is a 2-D (flat) data structure which consists of columns (all of the same type/mode - usually numeric) where each column is of a consistent length. We can make a matrix with the <code>matrix()</code> function.</p>

<pre><code class="r">a &lt;- matrix(1:9, ncol=3, nrow=3, byrow=TRUE)
a
</code></pre>

<p><br/>
Check out some of the optional arguments that can be passed to the <code>matrix()</code> function using <code>?matrix</code></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin rowmargin nobackground" id="slide-62" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- matrix(1:9, ncol=3, nrow=3, byrow=TRUE)
str(a)
</code></pre>

<pre><code>##  int [1:3, 1:3] 1 4 7 2 5 8 3 6 9
</code></pre>

<pre><code class="r">class(a)
</code></pre>

<pre><code>## [1] &quot;matrix&quot;
</code></pre>

<pre><code class="r">dim(a)
</code></pre>

<pre><code>## [1] 3 3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin rowmargin nobackground" id="slide-63" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- matrix(1:9, ncol=3, nrow=3, byrow=TRUE)
names(a)
</code></pre>

<pre><code>## NULL
</code></pre>

<pre><code class="r">rownames(a)
</code></pre>

<pre><code>## NULL
</code></pre>

<pre><code class="r">colnames(a)
</code></pre>

<pre><code>## NULL
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin rowmargin nobackground" id="slide-64" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- matrix(1:9, ncol=3, nrow=3, byrow=TRUE)
colnames(a) &lt;- paste0(&quot;COL&quot;,1:3) 
rownames(a) &lt;- paste0(&quot;ROW&quot;,1:3)
typeof(a)
</code></pre>

<pre><code>## [1] &quot;integer&quot;
</code></pre>

<pre><code class="r">str(a)
</code></pre>

<pre><code>##  int [1:3, 1:3] 1 4 7 2 5 8 3 6 9
##  - attr(*, &quot;dimnames&quot;)=List of 2
##   ..$ : chr [1:3] &quot;ROW1&quot; &quot;ROW2&quot; &quot;ROW3&quot;
##   ..$ : chr [1:3] &quot;COL1&quot; &quot;COL2&quot; &quot;COL3&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin rowmargin nobackground" id="slide-65" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- matrix(1:9, ncol=3, nrow=3, byrow=TRUE)
colnames(a) &lt;- paste0(&quot;COL&quot;,1:3) 
rownames(a) &lt;- paste0(&quot;ROW&quot;,1:3)
attributes(a)
</code></pre>

<pre><code>## $dim
## [1] 3 3
## 
## $dimnames
## $dimnames[[1]]
## [1] &quot;ROW1&quot; &quot;ROW2&quot; &quot;ROW3&quot;
## 
## $dimnames[[2]]
## [1] &quot;COL1&quot; &quot;COL2&quot; &quot;COL3&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-66" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <p>You can make matrices of other types as well. Here is a matrix of strings/characters. </p>

<pre><code class="r">a &lt;- matrix(LETTERS[seq(1,26,3)], ncol=3, nrow=3)
colnames(a) &lt;- paste0(&quot;COL&quot;,1:3)
rownames(a) &lt;- paste0(&quot;ROW&quot;,1:3)
a
</code></pre>

<pre><code>##      COL1 COL2 COL3
## ROW1 &quot;A&quot;  &quot;J&quot;  &quot;S&quot; 
## ROW2 &quot;D&quot;  &quot;M&quot;  &quot;V&quot; 
## ROW3 &quot;G&quot;  &quot;P&quot;  &quot;Y&quot;
</code></pre>

<pre><code class="r">typeof(a)
</code></pre>

<pre><code>## [1] &quot;character&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-67" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <p>And here is a matrix of logical values... </p>

<pre><code class="r">a &lt;- matrix(sample(c(T,F),size=9,replace=TRUE), ncol=3, nrow=3)
colnames(a) &lt;- paste0(&quot;COL&quot;,1:3)
rownames(a) &lt;- paste0(&quot;ROW&quot;,1:3)
a
</code></pre>

<pre><code>##       COL1  COL2  COL3
## ROW1  TRUE FALSE FALSE
## ROW2  TRUE  TRUE FALSE
## ROW3 FALSE FALSE FALSE
</code></pre>

<pre><code class="r">typeof(a)
</code></pre>

<pre><code>## [1] &quot;logical&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-68" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Another way to make matrices is via the <code>rbind()</code> and <code>cbind()</code> functions. We basically create vectors and the bind them together either in a row/column wise manner. </p>

<pre><code class="r">a1 &lt;- c(1,1,1)
a2 &lt;- c(2,2,2)
a3 &lt;- c(3,3,3)
mat &lt;- cbind(a1,a2,a3)
colnames(mat) &lt;- paste0(&quot;COL&quot;,1:3)
rownames(mat) &lt;- paste0(&quot;ROW&quot;,1:3)
mat
</code></pre>

<pre><code>##      COL1 COL2 COL3
## ROW1    1    2    3
## ROW2    1    2    3
## ROW3    1    2    3
</code></pre>

<p><br/>
Give the <code>rbind()</code> approach a try on your own. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-69" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can extract elements of matrices via indexing, similar to how we did with vectors. 
<br/></p>

<pre><code class="r">set.seed(12345)
a &lt;- matrix(rnorm(9), ncol=3, nrow=3)
colnames(a) &lt;- paste0(&quot;COL&quot;,1:3)
rownames(a) &lt;- paste0(&quot;ROW&quot;,1:3)
a
</code></pre>

<pre><code>##         COL1    COL2    COL3
## ROW1  0.5855 -0.4535  0.6301
## ROW2  0.7095  0.6059 -0.2762
## ROW3 -0.1093 -1.8180 -0.2842
</code></pre>

<pre><code class="r">a[2:3,1:2]
</code></pre>

<pre><code>##         COL1    COL2
## ROW2  0.7095  0.6059
## ROW3 -0.1093 -1.8180
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-70" style="background:;">
  <hgroup>
    <h2>Matrices in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Another really cool feature about R is how easy it is to implement basic/complex matrix algebra computations. Below are some useful matrix algebra functions:</p>

<ul>
<li><code>nrow()</code> and <code>ncol()</code> count number of rows/columns</li>
<li><code>t()</code> yields matrix transpose</li>
<li><code>diag()</code> extracts diagonal elements matrix</li>
<li><code>upper.tri()</code> and <code>lower.tri()</code> extract upper/lower triangular elements matrix </li>
<li><code>%*%</code> matrix multiplication</li>
<li><code>outer()</code> and <code>%o%</code> perform outer product calculations</li>
<li><code>crossprod()</code> and <code>tcrossprod</code> for various cross product matrices</li>
<li><code>eigen()</code>, <code>svd()</code> and <code>qr()</code> for various matrix decompositions</li>
<li><code>solve</code> to solve linear system equations (invert a matrix)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-71" style="background:;">
  <hgroup>
    <h2>Lists in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Another useful data structure in R is a list. It can also be viewed like a vector, in the sense that it contains elements (which can be indexed by position/name); however, each element can contain different &quot;types/modes&quot; of data (i.e. the type of data in a list does NOT have to be homogeneous). </p>

<p>We can create lists using <code>list()</code></p>

<p>The &quot;type/mode&quot; of a list object is list. </p>

<p>Other important functions for list include:</p>

<ul>
<li><code>is.list()</code></li>
<li><code>as.list()</code></li>
<li><code>unlist()</code></li>
</ul>

<p>All our old favourite functions still apply: <code>str()</code>, <code>attributes()</code>, <code>class()</code>, <code>names()</code>, etc...</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-72" style="background:;">
  <hgroup>
    <h2>Lists in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- list(&quot;R&quot;,rnorm(5),sample(c(T,F),4,replace=TRUE))
a
</code></pre>

<pre><code>## [[1]]
## [1] &quot;R&quot;
## 
## [[2]]
## [1] -0.9193 -0.1162  1.8173  0.3706  0.5202
## 
## [[3]]
## [1]  TRUE  TRUE FALSE  TRUE
</code></pre>

<pre><code class="r">typeof(a)
</code></pre>

<pre><code>## [1] &quot;list&quot;
</code></pre>

<p><br/>
Apply some other functions to the list object <code>a</code> to explore the data structure. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-73" style="background:;">
  <hgroup>
    <h2>Lists in R</h2>
  </hgroup>
  <article data-timings="">
    <p>There are 3 approaches to indexing lists in R: named indexing (<code>$</code>), positional indexing with <code>[]</code>, and positional indexing with <code>[[]]</code>
<br/></p>

<pre><code class="r">a &lt;- list(software=&quot;R&quot;,ran.num=rnorm(5),log.val=c(T,F,T))
a$software
</code></pre>

<pre><code>## [1] &quot;R&quot;
</code></pre>

<pre><code class="r">a[1]
</code></pre>

<pre><code>## $software
## [1] &quot;R&quot;
</code></pre>

<pre><code class="r">a[[1]]
</code></pre>

<pre><code>## [1] &quot;R&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-74" style="background:;">
  <hgroup>
    <h2>Lists in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can also extract individual elements, of list elements (if that makes sense). In the list below, <code>log.val</code> is a logical vector (of length 3). It&#39;s second element is <code>FALSE</code>. We show two methods that work for extracting this value and one which does not work.</p>

<p><br/></p>

<pre><code class="r">a &lt;- list(software=&quot;R&quot;,ran.num=rnorm(5),log.val=c(T,F,T))
a$log.val[2]
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<pre><code class="r">a[[3]][2]
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<pre><code class="r">a[3][2]
</code></pre>

<pre><code>## $&lt;NA&gt;
## NULL
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-75" style="background:;">
  <hgroup>
    <h2>Lists in R</h2>
  </hgroup>
  <article data-timings="">
    <p>List can also be recursive. That is, we can have lists of lists. </p>

<pre><code class="r">a &lt;- list(visit=1, procedure=list(shots=list(type=&quot;flu&quot;, done=T)))
a
</code></pre>

<pre><code>## $visit
## [1] 1
## 
## $procedure
## $procedure$shots
## $procedure$shots$type
## [1] &quot;flu&quot;
## 
## $procedure$shots$done
## [1] TRUE
</code></pre>

<pre><code class="r">is.recursive(a)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-76" style="background:;">
  <hgroup>
    <h2>Lists in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Extracting elements from recursive lists can be a bit tricky. Below we show an example of how to extract the logical element corresponding to the flu shot being done (<code>TRUE</code>) from this recursive structure.</p>

<p><br/></p>

<pre><code class="r">a &lt;- list(visit=1, procedure=list(shots=list(type=&quot;flu&quot;, done=T)))
a[[2]][[1]][2]
</code></pre>

<pre><code>## $done
## [1] TRUE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-77" style="background:;">
  <hgroup>
    <h2>Lists in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Another useful function is <code>unlist()</code>. We use this function when we want to take all of the elements and put them back into vector form. If the &quot;types/modes&quot; of the list elements are mixed/heterogeneous then we have to be cognisant of conversion.
<br/></p>

<pre><code class="r">a &lt;- list(&quot;R&quot;,rnorm(5),c(T,F,T))
unlist(a)
</code></pre>

<pre><code>## [1] &quot;R&quot;                  &quot;-0.481647363694637&quot; &quot;0.620379801298422&quot; 
## [4] &quot;0.612123492650849&quot;  &quot;-0.162310976918126&quot; &quot;0.81187317855386&quot;  
## [7] &quot;TRUE&quot;               &quot;FALSE&quot;              &quot;TRUE&quot;
</code></pre>

<p>An interesting feature we see in this example which hasn&#39;t come up yet (surprisingly) is the numbers <code>[1],[4],[7]</code> on the left side of the output/console. In the R console, R will use these numbers to denote the index of the object at the leftmost position of the new line. So &quot;R&quot; is the first element of the vector. &quot;TRUE&quot; is the seventh element of the vector, etc...</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-78" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>In R, a dataframe is a special type of list object. Basically, it is a list where all elements have the same length (or row dimension). In could also be viewed as a matrix object that has different &quot;types/modes&quot;...but that is naive.</p>

<p>Data frames are used extensively in statistical data analysis. So we will see lots of them in the latter half of the talk. </p>

<p>Data franes mimic the strucutres that Excel, SAS and SPSS users are familiar with (i.e. an item by variable matrix of data). </p>

<p>Data frames typically have certain important attributes: </p>

<ul>
<li><code>names()</code> give the column names of the data frame</li>
<li><code>row.names()</code> give row/item/case names</li>
<li><code>dim()</code> will tell you the number of rows/columns</li>
<li><code>class()</code> will test that the object is a data frame</li>
<li><code>str()</code> and <code>attributes()</code> tie these info together</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-79" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>There are many ways to create data frames in R. On this slide and the ones which follow we demonstrate a few of them.</p>

<pre><code class="r">a &lt;- data.frame(c1=c(1,2,3),c2=c(T,F,T),c3=rnorm(3))
a
</code></pre>

<pre><code>##   c1    c2    c3
## 1  1  TRUE 2.197
## 2  2 FALSE 2.049
## 3  3  TRUE 1.632
</code></pre>

<p>So one useful function is <code>data.frame()</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin. nobackground" id="slide-80" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can also use conversion on a list object. Here the function of choice is <code>as.data.frame()</code>. </p>

<pre><code class="r">a &lt;- as.data.frame(list(c1=c(1,2,3),c2=c(T,F,T),c3=rnorm(3)))
a
</code></pre>

<pre><code>##   c1    c2      c3
## 1  1  TRUE  0.2543
## 2  2 FALSE  0.4912
## 3  3  TRUE -0.3241
</code></pre>

<pre><code class="r">class(a)
</code></pre>

<pre><code>## [1] &quot;data.frame&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-81" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Another &quot;sketchy&quot; way to get a data frame is via <code>rbind()</code> or <code>cbind()</code>. Type/mode conversion will occur behind the scenes (here everything is converted to numeric type).</p>

<pre><code class="r">c1=c(1,2,3)
c2=c(T,F,T)
c3=rnorm(3)
a &lt;- as.data.frame(cbind(c1,c2,c3))
a
</code></pre>

<pre><code>##   c1 c2      c3
## 1  1  1 -1.6621
## 2  2  0  1.7677
## 3  3  1  0.0258
</code></pre>

<pre><code class="r">class(a)
</code></pre>

<pre><code>## [1] &quot;data.frame&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-82" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>R has a package called <code>datasets</code>. Type the following into your R console to learn more about the datasets that come shipped with your R installation: <code>library(help = &quot;datasets&quot;)</code>. These datasets are usually data frames and act as a great learning resource when testing new/unfamiliar R functions. </p>

<p>In the example(s) which follow we are going to work with the <code>cars</code> data frame. Type <code>??cars</code> into the console to then click on the appropriate link to learn more about <code>cars</code>. </p>

<p>In a nutshell, the cars data frame has 2 variables: speed (mph) and stopping distance (ft). We will investigate some functions that can be used to look into the relationship between speed and stopping distance. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-83" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can use the <code>head()</code> and <code>tail()</code> functions to look at the top parts and bottom parts of the <code>cars</code> data frame. Check out the arguments to these functions using R help.</p>

<pre><code class="r">library(datasets)
head(cars)
</code></pre>

<pre><code>##   speed dist
## 1     4    2
## 2     4   10
## 3     7    4
## 4     7   22
## 5     8   16
## 6     9   10
</code></pre>

<pre><code class="r">tail(cars, n=2L)
</code></pre>

<pre><code>##    speed dist
## 49    24  120
## 50    25   85
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-84" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can also check out the structure of the <code>cars</code> data frame.</p>

<pre><code class="r">str(cars)
</code></pre>

<pre><code>## &#39;data.frame&#39;:    50 obs. of  2 variables:
##  $ speed: num  4 4 7 7 8 9 10 10 10 11 ...
##  $ dist : num  2 10 4 22 16 10 18 26 34 17 ...
</code></pre>

<pre><code class="r">class(cars)
</code></pre>

<pre><code>## [1] &quot;data.frame&quot;
</code></pre>

<pre><code class="r">dim(cars)
</code></pre>

<pre><code>## [1] 50  2
</code></pre>

<pre><code class="r">names(cars)
</code></pre>

<pre><code>## [1] &quot;speed&quot; &quot;dist&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-85" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can index data frames just like matrices. We can do positional indexing as in the first example. Or we can do named indexing as in the second/third example.</p>

<pre><code class="r">cars[1:3,2]
</code></pre>

<pre><code>## [1]  2 10  4
</code></pre>

<pre><code class="r">cars[c(1,2,3),&quot;dist&quot;]
</code></pre>

<pre><code>## [1]  2 10  4
</code></pre>

<pre><code class="r">cars$dist[1:3]
</code></pre>

<pre><code>## [1]  2 10  4
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-86" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The specific column vectors in a data frame maintain their &quot;type/mode&quot; identity. We can assess the &quot;type/mode&quot; of elements of a dataframe in a few ways.</p>

<pre><code class="r">class(cars$dist)
</code></pre>

<pre><code>## [1] &quot;numeric&quot;
</code></pre>

<pre><code class="r">sapply(cars,class)
</code></pre>

<pre><code>##     speed      dist 
## &quot;numeric&quot; &quot;numeric&quot;
</code></pre>

<pre><code class="r">for (i in 1:dim(cars)[2]) { print(c(names(cars[i]), class(cars[,i]))) }
</code></pre>

<pre><code>## [1] &quot;speed&quot;   &quot;numeric&quot;
## [1] &quot;dist&quot;    &quot;numeric&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-87" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Generic functions in R include functions like <code>print()</code>, <code>summary()</code>, <code>plot()</code> and others. Essentially, objects have classes. Classes are used to inform methods/dispatchers (<code>?UseMethod</code>) as to the type of object under consideration. These methods then choose the appropriate generic function for the class at hand. </p>

<p>The advantage of this type of an approach to programming is that one does not have to memorize all sorts of functions. I can simply experiment with the language, apply functions like <code>summary()</code> or <code>plot()</code> to a given object (of known class) and see what happens. In R, the result is usually a very sensible output being generated. </p>

<p>On the next two slides we experiment with <code>summary()</code> or <code>plot()</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-88" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">summary(cars)
</code></pre>

<pre><code>##      speed           dist    
##  Min.   : 4.0   Min.   :  2  
##  1st Qu.:12.0   1st Qu.: 26  
##  Median :15.0   Median : 36  
##  Mean   :15.4   Mean   : 43  
##  3rd Qu.:19.0   3rd Qu.: 56  
##  Max.   :25.0   Max.   :120
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-89" style="background:;">
  <hgroup>
    <h2>Data frames in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">plot(cars)
</code></pre>

<p><img src="assets/fig/data_scatter.png" title="plot of chunk data_scatter" alt="plot of chunk data_scatter" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-90" style="background:;">
  <hgroup>
    <h2>Arrays in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Arrays can be viewed as a multi-dimensional (n-dimensional) version of a matrix. All objects in an array must be of the same &quot;type/mode&quot;.</p>

<p>Personally, I do not encounter arrays as much as the other data structures mentioned thus far (i.e. vectors, matrices, lists and data frames).</p>

<p>Many of the functions encountered thus far apply to arrays as well.</p>

<p>On the next slide we show a brief demo of how to generate an array but do not go into any more detail on these types of structures (i.e. just know they exist and might be valuable to you). </p>

<ul>
<li>Panel designs</li>
<li>Spatio-temporal designs</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-91" style="background:;">
  <hgroup>
    <h2>Arrays in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- array(1:18, dim=c(3,3,2))
a
</code></pre>

<pre><code>## , , 1
## 
##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9
## 
## , , 2
## 
##      [,1] [,2] [,3]
## [1,]   10   13   16
## [2,]   11   14   17
## [3,]   12   15   18
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-92" style="background:;">
  <hgroup>
    <h2>Arrays in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can index arrays as well. For example:</p>

<pre><code class="r">a &lt;- array(1:18, dim=c(3,3,2))
a[,,1]
</code></pre>

<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9
</code></pre>

<pre><code class="r">a[1,,]
</code></pre>

<pre><code>##      [,1] [,2]
## [1,]    1   10
## [2,]    4   13
## [3,]    7   16
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-93" style="background:;">
  <hgroup>
    <h2>Other interesting data types in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Two other types of data which R allows for, which have yet to be discussed are:</p>

<ul>
<li><code>factor()</code></li>
<li><code>Dates()</code></li>
</ul>

<p>Factors are used to encode categorical data types (data values which take on a finite number of values). Factor types can be unordered (e.g. red, green, blue) or they can be ordered (e.g. small, medium, large). Explicitly defining a <code>factor</code> data type allows for very elegant handling of these types of data in statistical modelling (think contrasts if you&#39;re familiar with ANOVA). </p>

<p>Dates are perhaps the most difficult/annoying type of data to store in any software/programming language. One reason is because of the arbitry nature of time. And second because of the arbitrary nature of time, many methods exist for considering time as a construct. </p>

<p>In the next few slides we will discuss <code>factor</code> and <code>Date</code> storage in R.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-94" style="background:;">
  <hgroup>
    <h2>Factors in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Factors store data which take on a finite number of values. </p>

<p>Note: factors are NOT &quot;atomic&quot; vectors. Quick quiz, what are the 6 tpyes of &quot;atomic&quot; vectors again?</p>

<p>Factors are actually built on top of integer vectors. The integer vector stores the data corresponding to the actual factor <code>levels</code>. Whereas, a second vector is used to store the data corresponding to the mapping between <code>levels</code> and <code>labels</code>. </p>

<p>Typically, when we want to display discrete data like this we use tabulation - in R this is implemented through the function <code>table()</code>. Table proportions can be easily generated through the use of <code>prop.table()</code>. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-95" style="background:;">
  <hgroup>
    <h2>Factors in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(1234)
a &lt;- factor(sample(c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;),size=10,replace=TRUE))
a
</code></pre>

<pre><code>##  [1] A B B B C B A A B B
## Levels: A B C
</code></pre>

<pre><code class="r">class(a)
</code></pre>

<pre><code>## [1] &quot;factor&quot;
</code></pre>

<pre><code class="r">levels(a)
</code></pre>

<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-96" style="background:;">
  <hgroup>
    <h2>Factors in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Discrete values a factor can take on are called <code>levels</code>. We can associate <code>labels</code> with each <code>level</code>. </p>

<pre><code class="r">set.seed(1234)
a &lt;- factor(sample(c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;),size=10,replace=TRUE), labels=c(&quot;Lab A&quot;, &quot;Lab B&quot;, &quot;Lab C&quot;))
levels(a)
</code></pre>

<pre><code>## [1] &quot;Lab A&quot; &quot;Lab B&quot; &quot;Lab C&quot;
</code></pre>

<pre><code class="r">nlevels(a)
</code></pre>

<pre><code>## [1] 3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-97" style="background:;">
  <hgroup>
    <h2>Factors in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can tabulate factor variable quickly using <code>table()</code> and <code>prop.table()</code>.</p>

<pre><code class="r">set.seed(1234)
a &lt;- factor(sample(c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;),size=10,replace=TRUE))
table(a)
</code></pre>

<pre><code>## a
## A B C 
## 3 6 1
</code></pre>

<pre><code class="r">prop.table(table(a))
</code></pre>

<pre><code>## a
##   A   B   C 
## 0.3 0.6 0.1
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-98" style="background:;">
  <hgroup>
    <h2>Factors in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Here I know there is no female data points in this data vector. That is, it is structurally missing in the data (or it could be a sampling zero). However, I can make this explicit to R at the time of factor assignment.</p>

<pre><code class="r">a &lt;- factor(c(&quot;M&quot;,&quot;M&quot;,&quot;M&quot;),levels=c(&quot;M&quot;,&quot;F&quot;),labels=c(&quot;Male&quot;,&quot;Female&quot;))
table(a)
</code></pre>

<pre><code>## a
##   Male Female 
##      3      0
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-99" style="background:;">
  <hgroup>
    <h2>Factors in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Here we order the factor levels using the argument <code>ordered=TRUE</code> in the <code>factor()</code> call. We make males the first ordered level and females the second ordered level.</p>

<pre><code class="r">a &lt;- factor(c(&quot;F&quot;,&quot;F&quot;,&quot;M&quot;),levels=c(&quot;M&quot;,&quot;F&quot;),labels=c(&quot;Male&quot;,&quot;Female&quot;),ordered=TRUE)
class(a)
</code></pre>

<pre><code>## [1] &quot;ordered&quot; &quot;factor&quot;
</code></pre>

<pre><code class="r">table(a)
</code></pre>

<pre><code>## a
##   Male Female 
##      1      2
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-100" style="background:;">
  <hgroup>
    <h2>Factors in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can also make factors out of continuous variables using the <code>cut()</code> function. Check out the details at <code>?cut</code>.</p>

<pre><code class="r">set.seed(1234)
x &lt;- rnorm(10000)
factor.x &lt;- cut(x,breaks=quantile(x,probs=seq(0,1,0.25)),include.lowest=TRUE)
table(factor.x)
</code></pre>

<pre><code>## factor.x
##    [-3.4,-0.661] (-0.661,0.00463]   (0.00463,0.67]      (0.67,3.62] 
##             2500             2500             2500             2500
</code></pre>

<pre><code class="r">prop.table(table(factor.x))
</code></pre>

<pre><code>## factor.x
##    [-3.4,-0.661] (-0.661,0.00463]   (0.00463,0.67]      (0.67,3.62] 
##             0.25             0.25             0.25             0.25
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-101" style="background:;">
  <hgroup>
    <h2>Factors in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Factors are VERY important when fitting ANOVA type models. n.b. The goal of ANOVA models is to partition the total response variation into that which is attributable to the model (which is made up of possibly many discrete factors and their interactions) and the residual noise which remains (the part of the response variation not explained by the model).</p>

<p>Some important functions to remember for these tasks include:</p>

<ul>
<li><code>factor(..., ordered=)</code></li>
<li><code>C()</code> or <code>contrasts()</code>

<ul>
<li><code>contr.helmert()</code></li>
<li><code>contr.poly()</code></li>
<li><code>contr.sum()</code></li>
<li><code>contr.treatment()</code></li>
</ul></li>
<li><code>interaction(..., drop=)</code></li>
</ul>

<p>If these concepts are unfamiliar review MASS (Venables and Ripley). </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-102" style="background:;">
  <hgroup>
    <h2>Dates in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Braun and Murdoch (p. 21) concur that dates are amongst the most difficult types of data to program with in any language. For example, there exist different calendars (Gregorian and Julian). Years can have different number of days (leap years). Seconds can vary by time zone (leap seconds). Etc... </p>

<p>R has a number of different ways to deal with dates, which include:</p>

<ul>
<li><code>POSIXct</code> for dates and times with time zones</li>
<li><code>POSIXlt</code> for dates and times with time zones (different representation)</li>
<li><code>chron</code> library for dates with times (no time zones)</li>
<li><code>Dates</code> dates without time zones</li>
</ul>

<p>R has a number of different packages to help with date storage and date manipulation/processing:</p>

<ul>
<li><code>chron</code></li>
<li><code>lubridate</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-103" style="background:;">
  <hgroup>
    <h2>Dates in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The POSIX (portable operating system interface for UNIX class) class of dates include <code>POSIXct</code> and <code>POSIXlt</code>. They are the most complex way of representing dates/times and are useful when dates being represented may exist in different time zones.</p>

<ul>
<li><code>POSIXct</code> represents the SIGNED number of seconds since the (arbitrary) time origin of the beginning of 1970. </li>
<li><code>POSIXlt</code> represents time using the following of objects, namely: 

<ul>
<li><code>sec</code> in set 0-61</li>
<li><code>min</code> in set 0-59</li>
<li><code>hour</code> in set 0-23</li>
<li><code>mday</code> in set 0-31</li>
<li><code>mon</code> in set 0-11</li>
<li><code>year</code> since 1900</li>
<li>Other elements include: <code>wday</code>, <code>yday</code>, <code>isdst</code>, <code>zone</code> </li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="noackground" id="slide-104" style="background:;">
  <hgroup>
    <h2>Dates in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">datetime.today &lt;- Sys.time()
datetime.today
</code></pre>

<pre><code>## [1] &quot;2014-06-09 08:57:04 EDT&quot;
</code></pre>

<pre><code class="r">class(datetime.today)
</code></pre>

<pre><code>## [1] &quot;POSIXct&quot; &quot;POSIXt&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-105" style="background:;">
  <hgroup>
    <h2>Dates in R</h2>
  </hgroup>
  <article data-timings="">
    <p>When dealing with just dates (without time or time zone consideration) the <code>Date</code> class of objects is often a sufficient representation. </p>

<p>In the <code>Date</code> class of objects, we store dates as the number of days since <code>1970-01-01</code>. Dates in this format always follow the Gregorian calendar definition of time.</p>

<p>When working with dates there are many useful functions. Two key functions are <code>strptime()</code> and <code>strftime()</code>. Use <code>?strptime</code> to see all the interesting ways we can manipulate a date. </p>

<pre><code class="r">## Our first date
date.today &lt;- Sys.Date()
date.today
</code></pre>

<pre><code>## [1] &quot;2014-06-09&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-106" style="background:;">
  <hgroup>
    <h2>Dates in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">strftime(date.today, &quot;%B&quot;)
</code></pre>

<pre><code>## [1] &quot;June&quot;
</code></pre>

<pre><code class="r">strftime(date.today, &quot;%D&quot;)
</code></pre>

<pre><code>## [1] &quot;06/09/14&quot;
</code></pre>

<pre><code class="r">strftime(date.today, &quot;%Y&quot;)
</code></pre>

<pre><code>## [1] &quot;2014&quot;
</code></pre>

<pre><code class="r">weekdays(date.today)
</code></pre>

<pre><code>## [1] &quot;Monday&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-107" style="background:;">
  <hgroup>
    <h2>Summary of Data Structures Module</h2>
  </hgroup>
  <article data-timings="">
    <p>In this section we introduced many different data structures. The most basic data structure is a vector. Given a vector we showed how to derive the following data structures:</p>

<ul>
<li>Matrices/Arrays</li>
<li>Lists</li>
<li>Data frames</li>
</ul>

<p>Other important data structures in R include:</p>

<ul>
<li>Factors</li>
<li>Dates</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-108" style="background:;">
  <hgroup>
    <h2>Lab Session (20 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-109" style="background:;">
  <hgroup>
    <h2>Lab Session Exercises</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li><p>What are the 6 main types of &quot;atomic&quot; vectors?</p></li>
<li><p>What will the <code>typeof()</code>, <code>mode()</code>, <code>class()</code> etc. be in the following instances?</p>

<ul>
<li><code>c(1,T,F,0)</code></li>
<li><code>c(1,2,3,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;)</code></li>
<li><code>c(1:3)</code> and <code>c(1:3,NA_real_)</code></li>
</ul></li>
<li><p>What will be returned in the following instances?</p>

<ul>
<li><code>sum(c(T,F,F,T,F,T))</code> </li>
<li><code>&quot;three&quot; &gt;= &quot;two&quot;</code></li>
</ul></li>
<li><p>Create the following matrix: <code>mat &lt;- matrix(1:9,ncol=3)</code>.</p>

<ul>
<li>How many ways can you think of to extract the main diagonal of <code>mat</code>?</li>
<li>How many ways can you think of to extract the lower triangular sub-matrix of <code>mat</code>?</li>
</ul></li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="foo" style="background:;">
  <hgroup>
    <h2>Lab Session Exercises</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li><p>Create the following matrix <code>mat &lt;- matrix(1:9,ncol=3)</code>.</p>

<ul>
<li>How many ways can you think of to get the column means of <code>mat</code>? </li>
<li>Same idea with row means.</li>
</ul></li>
<li><p>In matrix notation the OLS/MLE solution for the regression coeffiicients of a linear regression model can be expressed as: </p></li>
</ol>

<p>\[ \hat{\boldsymbol\beta} = (\mathbf{X}^{\rm T}\mathbf{X})^{-1} \mathbf{X}^{\rm T}\mathbf{y} \]</p>

<ul>
<li>Using the cars dataset investigate the relationship between distance (response variable) as a function of speed (independent variable).

<ul>
<li>Create the vector \(\mathbf{y}\) and the design matrix \(\mathbf{X}\). Dont forget the leading column vector of 1&#39;s. Using all of R&#39;s fancy matrix algebra functions estimate the \(\hat{\boldsymbol\beta}\) vector. </li>
<li>Compare your matrix algebra approach with the following code: <code>lm(dist~speed,data=cars)</code></li>
</ul></li>
</ul>

<script>
$("#foo ol").attr('start', 5)
</script>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-111" style="background:;">
  <hgroup>
    <h2>Lab Session Exercises</h2>
  </hgroup>
  <article data-timings="">
    <ol start="7">
<li> Use the following R code to simulate 100 random normal variates. </li> 
</ol>

<pre><code class="r">set.seed(1234)
x &lt;- rnorm(100)
</code></pre>

<ul>
<li>Using the <code>cut()</code> function create a vector from these hundred random normal variables where the values fall between &quot;[min, 0]&quot;, &quot;(0, 1]&quot;, &quot;(1, max]&quot;.</li>
</ul>

<pre><code>## xcut
## [-2.35,0]     (0,1]  (1,2.55] 
##        65        21        14
</code></pre>

<ol start="8">
<li> Create  the following variable `today.date <- Sys.Date()`. </li> 
</ol>

<ul>
<li>Applying R date and string manipulation functions to the object <code>today.date</code> create the following sentence.</li>
</ul>

<pre><code>## [1] &quot;Today, Monday the 09th of June, 2014 is the nicest day I&#39;ve ever seen!&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-112" style="background:;">
  <hgroup>
    <h2>Control Structures in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-113" style="background:;">
  <hgroup>
    <h2>Control Structures in R</h2>
  </hgroup>
  <article data-timings="">
    <p>This module introduces some basic R programming constructs which are the building blocks of many of the complicated programs you may wish to write.</p>

<ul>
<li>Coniditional processing

<ul>
<li>The <code>if</code> and <code>else</code> statements</li>
<li>The vectorized <code>ifelse()</code> function</li>
</ul></li>
<li>Looped execution

<ul>
<li>The <code>for</code> loop</li>
<li>The <code>while</code> loop</li>
</ul></li>
<li>Vectorized programming

<ul>
<li>The <code>apply</code> family of functions, including: <code>apply()</code>, <code>sapply()</code>, <code>lapply()</code>, <code>tapply()</code>, etc... </li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-114" style="background:;">
  <hgroup>
    <h2>The <code>if</code> and <code>else</code> statements</h2>
  </hgroup>
  <article data-timings="">
    <p>We use <code>if</code> statements to &quot;branch&quot; computation in our programs. Essentially, the program will conduct some computation is a certain logical condition returns <code>TRUE</code>, else the program will conduct some other computation if the logical condition returns <code>FALSE</code>.</p>

<p>The basic structure of such a program could look as follows:</p>

<pre><code class="r">if (logical.expression1) {
  expression1
  ...
} else if (logical.expression2){
  expression2
  ...
} else {
  expression3
}
</code></pre>

<p>To learn more about control flow function in R try <code>?&quot;if&quot;</code> and <code>?&quot;else&quot;</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-115" style="background:;">
  <hgroup>
    <h2>The <code>if</code> and <code>else</code> statements</h2>
  </hgroup>
  <article data-timings="">
    <p>This example relates to findings the roots of a <a href="http://en.wikipedia.org/wiki/Quadratic_function">quadratic function</a> (Jones et al, p. 32): </p>

<p>\[f(x)=ax^2+bx+c,\quad a \ne 0\] </p>

<p>The discriminant of the function is calculated as: <code>discrim = b^2 - 4*a*c</code></p>

<p>The value of the roots depend on the discriminant. We will show the roots of this quadratic (polynomial) equation depending on the roots. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-116" style="background:;">
  <hgroup>
    <h2>The <code>if</code> and <code>else</code> statements</h2>
  </hgroup>
  <article data-timings="">
    <p>Lets take <code>a=1</code>, <code>b=4</code>, <code>c=5</code>.</p>

<pre><code class="r">a2=1 ; a1=4 ; a0=5 ;
discrim = a1^2 - 4*a2*a0
if (discrim &gt; 0) {
  r1 &lt;- -a1 + sqrt(a1^2 - 4*a2*a0)/(2*a2)
  r2 &lt;- -a1 - sqrt(a1^2 - 4*a2*a0)/(2*a2)
  roots &lt;- c(r1,r2)
} else if (discrim==0) {
  roots &lt;- c(-a1(2*a2))
} else {
  roots &lt;- c()
}

show(roots)
</code></pre>

<pre><code>## NULL
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-117" style="background:;">
  <hgroup>
    <h2>The <code>if</code> and <code>else</code> statements</h2>
  </hgroup>
  <article data-timings="">
    <p>Lets just make a plot of that function using <code>curve()</code> which verifies there are no real roots: </p>

<p>\[f(x)=a^2+4x+5,\quad a \ne 0\] </p>

<p><img src="assets/fig/control_curve1.png" title="plot of chunk control_curve1" alt="plot of chunk control_curve1" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-118" style="background:;">
  <hgroup>
    <h2>The <code>if</code> and <code>else</code> statements</h2>
  </hgroup>
  <article data-timings="">
    <p>R also comes with a vectorized <code>ifelse()</code> function which can be used for all sorts of things. </p>

<pre><code class="r">set.seed(1234)
a &lt;- rnorm(10)
round(a,digits=2)
</code></pre>

<pre><code>##  [1] -1.21  0.28  1.08 -2.35  0.43  0.51 -0.57 -0.55 -0.56 -0.89
</code></pre>

<pre><code class="r">table(factor(ifelse(a &lt; -0.5, 0, ifelse(a &lt; 0, 1, 2)),level=c(0,1,2)))
</code></pre>

<pre><code>## 
## 0 1 2 
## 6 0 4
</code></pre>

<pre><code class="r">table(cut(a,breaks=c(min(a),-0.5,0,max(a)),include.lowest=TRUE))
</code></pre>

<pre><code>## 
## [-2.35,-0.5]     (-0.5,0]     (0,1.08] 
##            6            0            4
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-119" style="background:;">
  <hgroup>
    <h2>The <code>for</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>for</code> loop is useful for computing grouped expressions. Specifically, where the group of expression varies as a function of an iterating veriable. For example:</p>

<pre><code class="r">for (i in vector) {
  expression.i
  ...
}
</code></pre>

<p>So we define an iterator <code>i</code> and we call the <code>expression.i</code> for as many times as the <code>vector</code> tells us to. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-120" style="background:;">
  <hgroup>
    <h2>The <code>for</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <p>A classic example with <code>for</code> loops is calculating the first, say, N numbers in the <a href="http://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci sequence</a>. This example comes from Bruan &amp; Murdoch (p. 48).</p>

<pre><code class="r">Fibonacci &lt;- numeric(11)
Fibonacci[1] &lt;- 1
Fibonacci[2] &lt;- 1
for (i in 3:12) {
  Fibonacci[i] &lt;- Fibonacci[i-2] + Fibonacci[i-1]
}
show(Fibonacci)
</code></pre>

<pre><code>##  [1]   1   1   2   3   5   8  13  21  34  55  89 144
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-121" style="background:;">
  <hgroup>
    <h2>The <code>for</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <p>Jones et al (p. 33) demonstrate the use of a <code>for</code> loop in vector summation.</p>

<pre><code class="r">x.list &lt;- seq(1,7,by=2)
sum.x &lt;- 0
for (x in x.list) {
  sum.x &lt;- sum.x + x
  cat(&quot;The current value of the loop is&quot;, x, sep=&quot;\n&quot;)
  cat(&quot;The current value of the cumulative sum is&quot;, sum.x, sep=&quot;\n&quot;)  
}
</code></pre>

<p>The results are shown on the next slide. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-122" style="background:;">
  <hgroup>
    <h2>The <code>for</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <pre><code>## The current loop element is 1 
## The current value of the cumulative sum is 1 
## The current loop element is 3 
## The current value of the cumulative sum is 4 
## The current loop element is 5 
## The current value of the cumulative sum is 9 
## The current loop element is 7 
## The current value of the cumulative sum is 16
</code></pre>

<p>Using <code>cat()</code> to display the current value of the iterating variable and also the returned value of the function/expression at a given iteration value can be useful for elucidating the <code>for</code> loop mechanism. And is also a nice debugging technique.   </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-123" style="background:;">
  <hgroup>
    <h2>The <code>while</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>while</code> loop is used to execute a given expression as long as some other logical condition holds true. The <code>while</code> loop take the form:</p>

<pre><code class="r">while (logical.expression) {
  expression.1
  ...
}
</code></pre>

<p>Basically, we evaluate <code>logical.expression</code> if it is <code>TRUE</code> then we evaluate <code>expression.1</code>. Then we re-evaluate the logical expression, if it is still <code>TRUE</code>, then we go back and evluate <code>expression.1</code>. This continues until the <code>logical.expression</code> evaluates to <code>FALSE</code> and we <code>break</code> out of the <code>while</code> loop. </p>

<p>Jones et al (p. 37) call the <code>while</code> loop more fundamental than the <code>for</code> loop, stating that any <code>for</code> loop can be written as a <code>while</code> loop. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-124" style="background:;">
  <hgroup>
    <h2>The <code>while</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <p>In this example we use a <code>while</code> loop to calculate the <a href="http://en.wikipedia.org/wiki/Fibonacci_number">Fibonacci sequence</a> again. </p>

<pre><code class="r">F &lt;- c(1,1)
n &lt;- 2
while (F[n] &lt;= 100) {
  cat(&quot;n = &quot;, n, &quot; F[n] =&quot;, F[n], &quot;\n&quot;)
  n &lt;- n +1
  F[n] &lt;- F[n-1] + F[n-2]
}
</code></pre>

<pre><code>## n =  2  F[n] = 1 
## n =  3  F[n] = 2 
## n =  4  F[n] = 3 
## n =  5  F[n] = 5 
## n =  6  F[n] = 8 
## n =  7  F[n] = 13 
## n =  8  F[n] = 21 
## n =  9  F[n] = 34 
## n =  10  F[n] = 55 
## n =  11  F[n] = 89
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-125" style="background:;">
  <hgroup>
    <h2>The <code>while</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <p>A very important application of <code>while</code> loops in statistics is root finding. That is, finding points where \(x: f(x)=0\).</p>

<p>The <a href="http://en.wikipedia.org/wiki/Newton-Raphson">Newton-Raphson</a> is one such method for numerically finding roots to &quot;nice&quot; continuously differentiable functions \(f(x)\). Basically, the algorithm proceeds with an initial guess at the root value: \(x_0\). Then a better approximation is achieved through the following update formula.</p>

<p>\[ x_{n+1} = x_n - \frac{f(x_n)}{f'(x_n)} \]</p>

<p>Algorithmically, we continue evaluating this update formula until the change in returned values \(f(x_{n+1}) - f(x_n)\) becomes smaller than some threshold/tolerance value. This can be easily applied via a <code>while</code> loop as Braun and Murdoch demonstrate (p. 55).</p>

<p>This simple algorithm could form the (naive) basis of OLS/MLE style optimizers for certain classes of maximization and minimization problems. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-126" style="background:;">
  <hgroup>
    <h2>The <code>while</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <p>Lets start by using the Newton-Raphson method to find the roots of the following polynomial function: \(f(x) = x^3 + 2x^2 - 7\).  </p>

<pre><code class="r">x &lt;- x0 &lt;- 3
f &lt;- x^3 + 2*x^2 - 7
tol &lt;- 0.00001
while(abs(f) &gt; tol) {
  f.prime &lt;- 3*x^2 + 4*x
  x &lt;- x - (f/f.prime)
  f &lt;- x^3 + 2*x^2 - 7
}
show(x)  
</code></pre>

<pre><code>## [1] 1.429
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-127" style="background:;">
  <hgroup>
    <h2>The <code>while</code> loop</h2>
  </hgroup>
  <article data-timings="">
    <p>We can make a plot assessing how close our approximation was to the truth using <code>curve()</code>:</p>

<pre><code class="r">curve(expr=(x^3 + 3*x^2 - 7), from=-9, to=5)
abline(v=x,col=&quot;red&quot;)
</code></pre>

<p><img src="assets/fig/control_curve2.png" title="plot of chunk control_curve2" alt="plot of chunk control_curve2" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-128" style="background:;">
  <hgroup>
    <h2>The <code>apply</code> family of functions</h2>
  </hgroup>
  <article data-timings="">
    <p>Being a functional programming language (where functions are first class objects) it is possible in R to pass a function as an argument in the <code>formals</code> of another function.</p>

<p>The <code>apply</code> family of functions works by applying a function to all selected elements of a <code>list</code> or <code>data.frame</code> or some other R object.</p>

<p>Check out the following functions:</p>

<ul>
<li><code>apply()</code> can apply a function over a vector/array</li>
<li><code>sapply()</code> can apply a function over a vector/array</li>
<li><code>lapply()</code> can apply a function over a list</li>
<li><code>tapply()</code> can apply a function over subsets of data (usually vectors/arrays)</li>
</ul>

<p>The <code>apply()</code> family of functions is very powerful, however, given there are so many variants it can be tricky to learn which functions to apply when (this will come with time and practice).</p>

<p>Also, Hadley Wickham (R guru) has reworked some of these functions and implemented them in his <code>plyr</code> package.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-129" style="background:;">
  <hgroup>
    <h2>The <code>apply</code> family of functions</h2>
  </hgroup>
  <article data-timings="">
    <p>Here we will work with the <code>cars</code> data frame again. We use the <code>apply</code> function to derive some summary values (here over the columns of the <code>data.frame</code>).</p>

<pre><code class="r">suppressPackageStartupMessages(library(datasets))
apply(cars,2,class)
</code></pre>

<pre><code>##     speed      dist 
## &quot;numeric&quot; &quot;numeric&quot;
</code></pre>

<pre><code class="r">apply(cars,2,mean)
</code></pre>

<pre><code>## speed  dist 
## 15.40 42.98
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-130" style="background:;">
  <hgroup>
    <h2>The <code>apply</code> family of functions</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>sapply()</code> function works very similarly to <code>lapply()</code> except might return output in a more appropriate form (i.e. <code>lapply()</code> returns <code>lists</code>; whereas, <code>sapply()</code> can return <code>vectors</code>, <code>matrices</code> and <code>arrays</code>).</p>

<pre><code class="r">sapply(cars,mean)
</code></pre>

<pre><code>## speed  dist 
## 15.40 42.98
</code></pre>

<pre><code class="r">lapply(cars,mean)
</code></pre>

<pre><code>## $speed
## [1] 15.4
## 
## $dist
## [1] 42.98
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-131" style="background:;">
  <hgroup>
    <h2>The <code>apply</code> family of functions</h2>
  </hgroup>
  <article data-timings="">
    <p>Here we compare the <code>tapply()</code>, <code>aggregate()</code> and <code>by()</code> functions.</p>

<pre><code class="r">tapply(cars$speed,ifelse(cars$dist&gt;20,0,1),mean)
</code></pre>

<pre><code>##     0     1 
## 16.95  9.20
</code></pre>

<pre><code class="r">by(cars$speed,ifelse(cars$dist&gt;20,0,1),mean)
</code></pre>

<pre><code>## ifelse(cars$dist &gt; 20, 0, 1): 0
## [1] 16.95
## -------------------------------------------------------- 
## ifelse(cars$dist &gt; 20, 0, 1): 1
## [1] 9.2
</code></pre>

<pre><code class="r">aggregate(cars$speed,list(ifelse(cars$dist&gt;20,0,1)),mean)
</code></pre>

<pre><code>##   Group.1     x
## 1       0 16.95
## 2       1  9.20
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-132" style="background:;">
  <hgroup>
    <h2>Summary of control structures</h2>
  </hgroup>
  <article data-timings="">
    <p>The purpose of this module was to introduce you to basic control structures that can be used to build more complex programs. </p>

<p>In this chapter we demonstrated a number of key concepts:</p>

<ul>
<li>Execution of conditional logical statements with <code>if</code> and <code>else</code></li>
<li>Processing statements over elements of a vector with <code>for</code> loops.</li>
<li>Processing statements while a logical condition is true with <code>while</code> loops</li>
<li>Applying functions over data structures with the <code>apply</code> family of functions</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-133" style="background:;">
  <hgroup>
    <h2>Lab Session (10-20 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-134" style="background:;">
  <hgroup>
    <h2>Lab Session</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li><p>Create the following matrix <code>mat &lt;- matrix(1:9,ncol=3)</code>.</p>

<ul>
<li>How many ways can you think of to extract the main diagonal of <code>mat</code>? </li>
</ul></li>
<li><p>Create the following matrix <code>mat &lt;- matrix(1:9,ncol=3)</code>.</p>

<ul>
<li>How many ways can you think of to get the column means of <code>mat</code>? </li>
</ul></li>
<li><p>Using <code>if</code> and <code>else</code> statements create the following vector of data: </p></li>
</ol>

<pre><code>##  [1] 1 2 3 4 5 2 3 4 5 6 3 4 5 6 7 4 5 6 7 8 5 6 7 8 9
</code></pre>

<ol start="4">
<li> Consider the following number: $ \varphi = \frac{1+\sqrt{5}}{2} = 1.6180339887\ldots. $</li> 
</ol>

<ul>
<li>The number above is called the <a href="http://en.wikipedia.org/wiki/Golden_ratio">golden ratio</a>. It arises as the limit of the ratio of two successive Fibonacci numbers (amongst other ways). Using the programs demonstrated previously to calculate Fibonacci sequences obtain a vector output. Then calculate the ratio of two successive values and see what it converges to in the limit. </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="" id="slide-135" style="background:;">
  <hgroup>
    <h2>Lab Session</h2>
  </hgroup>
  <article data-timings="">
    <ol start="5">
<li> Copy and paste the code below into your console. Explain to yourself what each step is doing. </li>
</ol>

<pre><code class="r">set.seed(123456789)
vec &lt;- numeric(10000)
vec &lt;- sapply(vec,function(x){mean(rgamma(100,1,2))})
plot(density(vec),main=&quot;Plot of mean of 10000 Gamma(1,2) RV&#39;s&quot;, xlab=&quot;Support&quot;, xlim=c(0,1))              
</code></pre>

<ul>
<li>What <a href="http://en.wikipedia.org/wiki/Central_limit_theorem">statistical concept</a> have you just demonstrated to yourself? Does this hold true for other distributions (other than <code>rgamma()</code>)?</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-136" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-137" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Up to this point we have encountered many of R&#39;s functions, perhaps without giving much thought to their inner workings. </p>

<p>Functions or programs or routines are well-defined pieces of code. They take inputs (<code>arguments</code>), perform calculations on these inputs (within some scope/environment), and then return outputs (either to the console, to some other device or as objects). </p>

<p>In R, functions are first class objects, and can themselves be passed to other functions. This is a very powerful approach to programming, and allows R to accomplish tasks in few lines of code, where other programming languages would require many lines of code.</p>

<p>There are 3 parts to all R functions:</p>

<ul>
<li><code>formals()</code> which define the inputs to a function.</li>
<li><code>body()</code> which defines what computations are performed on inputs.</li>
<li><code>environment()</code> returns the environment associated with a given function. </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-138" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>What does open source mean in R?</p>

<ul>
<li>Most people equate open source to the fact that R is freely accessible.</li>
<li>However, perhaps more importantly, open source also means that almost all programs/functions used to conduct data analysis in R are available to investigate, learn from, manipulate and imporve upon. </li>
</ul>

<p>To access the body of a given R function you can:</p>

<ul>
<li>Type the function name into the console without brackets/parentheses.</li>
<li>Use the <code>body()</code> function</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-139" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>In this example we type <code>sd</code> into the console and see what is written about the standard deviation function in R (essentially, all we learn is that it is the square root of the <code>var()</code> function).</p>

<pre><code class="r">sd
</code></pre>

<pre><code>## function (x, na.rm = FALSE) 
## sqrt(var(if (is.vector(x)) x else as.double(x), na.rm = na.rm))
## &lt;bytecode: 0x7fef6b9ca158&gt;
## &lt;environment: namespace:stats&gt;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-140" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can learn a little more about <code>sd()</code> using the following commands:</p>

<pre><code class="r">formals(sd)
</code></pre>

<pre><code>## $x
## 
## 
## $na.rm
## [1] FALSE
</code></pre>

<pre><code class="r">body(sd)
</code></pre>

<pre><code>## sqrt(var(if (is.vector(x)) x else as.double(x), na.rm = na.rm))
</code></pre>

<pre><code class="r">environment(sd)
</code></pre>

<pre><code>## &lt;environment: namespace:stats&gt;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-141" style="background:;">
  <article data-timings="">
    <pre><code class="r">body(var)
</code></pre>

<pre><code>## {
##     if (missing(use)) 
##         use &lt;- if (na.rm) 
##             &quot;na.or.complete&quot;
##         else &quot;everything&quot;
##     na.method &lt;- pmatch(use, c(&quot;all.obs&quot;, &quot;complete.obs&quot;, &quot;pairwise.complete.obs&quot;, 
##         &quot;everything&quot;, &quot;na.or.complete&quot;))
##     if (is.na(na.method)) 
##         stop(&quot;invalid &#39;use&#39; argument&quot;)
##     if (is.data.frame(x)) 
##         x &lt;- as.matrix(x)
##     else stopifnot(is.atomic(x))
##     if (is.data.frame(y)) 
##         y &lt;- as.matrix(y)
##     else stopifnot(is.atomic(y))
##     .Call(C_cov, x, y, na.method, FALSE)
## }
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-142" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Basically, all we can find out is the <code>sd()</code> is related to <code>var()</code>. And further, that <code>var()</code> is computed via a <code>.Call</code> to some C function/routine likely called <code>C_cov</code>. </p>

<p>The moral of the story is that, even though R is open source, and almost all source code is freely viewable/obtainable to the end user,  sometimes it is still difficult to recover information about functions because within them you see things like: <code>.C</code>, <code>.Call</code>, <code>.Fortan</code>, <code>.External</code>, <code>.Internal</code> or <code>.Primitive</code>.</p>

<p>These symbols usually mean that the underlying code you are after is written in some other (compiled) language for speed purposes. I recommend the following articles for help in these scenarios:</p>

<ul>
<li><a href="http://stackoverflow.com/questions/14035506/how-to-see-the-source-code-of-r-internal-or-primitive-function">stackoverflow</a></li>
<li><a href="http://cran.r-project.org/doc/Rnews/Rnews_2006-4.pdf">Uwe Ligges</a></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-143" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The ease at which programmers can generate/create user defined functions is another key selling point for R. Basically, the function called <code>function()</code> will help to create user-defined functions. Try saying that 3 times fast!!</p>

<p>The basic building blocks to an R function look as follows:</p>

<pre><code class="r">function.name &lt;- function(arglist) {
  function.body
  ...
  return(some.value)
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-144" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Here we invesitigate one of the simplest function in any programming language, the <code>hello.world</code> function/routine. The purpose of this simple function is to return the string &quot;Hello World&quot; when the function is called (with no arguments).</p>

<pre><code class="r">hello.world &lt;- function(){
  paste(c(&quot;Hello World&quot;))
}
hello.world()
</code></pre>

<pre><code>## [1] &quot;Hello World&quot;
</code></pre>

<p>We give a name to the function: <code>hello.world</code>. In this case there are no arguments (<code>formals</code>) associated with the function. We define a <code>body</code> to the function, here it just returns the character vector <code>Hello World</code>. Further it was created in the <code>environment</code> called <code>R_GlobalEnv</code> (the R Global Environment). </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-145" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">hello.world &lt;- function(){paste(c(&quot;Hello World&quot;))}
formals(hello.world)
</code></pre>

<pre><code>## NULL
</code></pre>

<pre><code class="r">body(hello.world)
</code></pre>

<pre><code>## {
##     paste(c(&quot;Hello World&quot;))
## }
</code></pre>

<pre><code class="r">environment(hello.world)
</code></pre>

<pre><code>## &lt;environment: R_GlobalEnv&gt;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-146" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>This example comes from Jones et al (p. 65) and relates to calculating a factorial.</p>

<pre><code class="r">fact.func &lt;- function(n) {
  return(prod(1:n))
}
fact.func(5)
</code></pre>

<pre><code>## [1] 120
</code></pre>

<pre><code class="r">factorial(5)
</code></pre>

<pre><code>## [1] 120
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-147" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Another more involved example consider calculating a mean using base R function only (no math).</p>

<pre><code class="r">my.mean &lt;- function(x) {
 tot &lt;- rep(NA,length(x))
 for (i in 1:length(x)) {
  if (i==1){
   tot[i] = 0
  } else {
   tot[i] &lt;- x[i] + tot[i-1] 
  }  
 }
return(tot[length(x)]/length(x))
}
</code></pre>

<p>Can you write a more concise function? Probably. Give it a try!!</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-148" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">my.mean(0:10)
</code></pre>

<pre><code>## [1] 5
</code></pre>

<pre><code class="r">mean(0:10)
</code></pre>

<pre><code>## [1] 5
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-149" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Function can return output other than numeric values (<code>plot()</code> is a good example of this). In this example we write a function that produce a kernel density estimator (<code>?density</code>), gives the same <code>xlim</code>, <code>ylim</code>, <code>xlab</code> and <code>ylab</code> arguments. I want to call this plot on 9 different simulated datasets so I dont want to have to type the same code over-and-over again (I want to automate the process). 
<br/></p>

<pre><code class="r">set.seed(98765)
dens.fun &lt;- function(x) {
  p &lt;- plot(density(x), xlim=c(0,1),xlab=&quot;Support&quot;,main=&quot;&quot;,ylim=c(0,2.5),yaxt=&quot;n&quot;)
  axis(2,las=2,at=c(0,0.5,1,1.5,2.0,2.5),tick=TRUE)
}
x &lt;- expand.grid(c(0.05,0.5,5),c(0.05,0.5,5))
  par(mfrow=c(3,3))
for (i in 1:dim(x)[1]) {
  dens.fun(rbeta(1000,shape1=x[i,1],shape2=x[i,2]))
}
  par(mfrow=c(1,1))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-150" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Plots of various beta densities (beta PDF&#39;s).</p>

<p><img src="assets/fig/fig4.png" title="plot of chunk fig4" alt="plot of chunk fig4" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-151" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Functions are first class objects in R. They can be called by other functions. And this can make programming beautifully simple/efficient.</p>

<p>You can extract information about functions using the following functions:</p>

<ul>
<li><code>formals()</code></li>
<li><code>body()</code></li>
<li><code>environment()</code></li>
</ul>

<p>In theory all source code from which R functions are derived is available to read, learn from, and improve upon. It can be a bit tricky to get at some compiled code.</p>

<p>The <code>function()</code> function, can be used to help create user defined functions. Whenever you have a repetitive task that you need to automate, creating a user defined function to perform that task is often a good idea (it can help make code cleaner). </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-152" style="background:;">
  <hgroup>
    <h2>Lab Session (20 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-153" style="background:;">
  <hgroup>
    <h2>Lab Session</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li><p>What are the three key parts to a function in R?</p></li>
<li><p>Go back to the second on <code>control structures</code>. Embed the Fibonacci sequence loop (<code>for</code> or <code>while</code>) into a <code>function</code> call with a single argument specifying the length of the sequence. What is the largest Finobacci number less then 1,000,000?</p></li>
<li><p>Write an R function which takes on two arguments <code>i</code> and <code>n</code>, where <code>i</code> represents the interest rate and <code>n</code> represents the number of discrete periods where the loan compounds. Given an initial loan amount or present value (PV) determine the future value of the loan (FV) when:</p>

<ul>
<li>i=0.025, n=30, PV=500,000</li>
<li>i=0.075, n=30, PV=500,000</li>
<li>i=0.025, n=15, PV=500,000</li>
<li>i=0.075, n=15, PV=500,000</li>
<li>Note: future values (FV) for simple <a href="http://en.wikipedia.org/wiki/Compound_interest">compound interest</a> problems are calculated as follows: \(FV = PV ( 1+i )^n\)</li>
</ul></li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-154" style="background:;">
  <hgroup>
    <h2>Functions in R</h2>
  </hgroup>
  <article data-timings="">
    <ol start="4">
<li> The following two are adapted from Jones et al (p. 65-66) and relate to estimating a "trimmed mean" and a "windsorized mean", respectively. Basically, each robust estimator adjusts the value of the "k" largest/smallest values prior to estimation (they can be viewed as types of weighted means). Below are definitions for each. Implement them as functions in R (hint: your function should take on two arguments, one denoting the data, and two denoting the number, k, of elements to be trimmed/winsorized). </li> 
</ol>

<ul>
<li><p>Let \(\mathbf{x} = \{x_1, x_2,\dots, x_n\}\) be an i.i.d sample from some distirbution \(\mathcal{F(\theta)}\). We define the order statistics of \(\mathbf{x}\) as \(x_{(1)} \leq x_{(2)} \leq \dots \leq x_{(n)}\). The first equation defines the trimmed mean and the second equation defines the windsorized mean. Implement both as R functions. </p>

<p>\[ \overline{x}_{(trimmed)} = \frac{x_{(k+1)} + \dots + x_{n-k}}{n-2k}\]
<br/>
\[ \overline{x}_{(windsorized)} = \frac{(k+1)*x_{(k+1)} + x_{(k+2)} + \dots + x_{(n-k+1)} + (k+1)*x_{n-k}}{n}\]</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-155" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-156" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>R is traditionally thought of as a statistical language, and as such has impressive routines for performing calculation on numeric vectors and matrices, and for performing random number generation. </p>

<p>However, text data is becoming increasingly prevalent and increasingly important. </p>

<ul>
<li>How much text data exists on the internet?</li>
<li>Mining academic literature.</li>
<li>Mining social media platforms.</li>
<li>Data from genetic sequences (A,T,C,G base pairs, etc.).</li>
<li>Text data in electronic medical records.</li>
</ul>

<p>Base R has a rich assortment of functions for string manipulation. Additionally, the <code>stringr</code> library is an invaluable resource and more info on it can be accessed <a href="http://journal.r-project.org/archive/2010-2/RJournal_2010-2_Wickham.pdf">here</a>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-157" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>In this module we are going to work with a simple vector of strings/characters which represent the names of the 50 states.</p>

<pre><code class="r">suppressPackageStartupMessages(library(datasets))
state.name
</code></pre>

<pre><code>##  [1] &quot;Alabama&quot;        &quot;Alaska&quot;         &quot;Arizona&quot;        &quot;Arkansas&quot;      
##  [5] &quot;California&quot;     &quot;Colorado&quot;       &quot;Connecticut&quot;    &quot;Delaware&quot;      
##  [9] &quot;Florida&quot;        &quot;Georgia&quot;        &quot;Hawaii&quot;         &quot;Idaho&quot;         
## [13] &quot;Illinois&quot;       &quot;Indiana&quot;        &quot;Iowa&quot;           &quot;Kansas&quot;        
## [17] &quot;Kentucky&quot;       &quot;Louisiana&quot;      &quot;Maine&quot;          &quot;Maryland&quot;      
## [21] &quot;Massachusetts&quot;  &quot;Michigan&quot;       &quot;Minnesota&quot;      &quot;Mississippi&quot;   
## [25] &quot;Missouri&quot;       &quot;Montana&quot;        &quot;Nebraska&quot;       &quot;Nevada&quot;        
## [29] &quot;New Hampshire&quot;  &quot;New Jersey&quot;     &quot;New Mexico&quot;     &quot;New York&quot;      
## [33] &quot;North Carolina&quot; &quot;North Dakota&quot;   &quot;Ohio&quot;           &quot;Oklahoma&quot;      
## [37] &quot;Oregon&quot;         &quot;Pennsylvania&quot;   &quot;Rhode Island&quot;   &quot;South Carolina&quot;
## [41] &quot;South Dakota&quot;   &quot;Tennessee&quot;      &quot;Texas&quot;          &quot;Utah&quot;          
## [45] &quot;Vermont&quot;        &quot;Virginia&quot;       &quot;Washington&quot;     &quot;West Virginia&quot; 
## [49] &quot;Wisconsin&quot;      &quot;Wyoming&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-158" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>These data are stored in a <code>character</code> vector. We can make use of all of our vector manipulation tools when working with these data.</p>

<p>The <code>length()</code> function tells us this vector contains 50 state names. The <code>nchar()</code> function tells us the number of characters/letters making up each state name. We plot the discrete distirbution of number of characters in a <code>table()</code>.  </p>

<pre><code class="r">length(state.name)
</code></pre>

<pre><code>## [1] 50
</code></pre>

<pre><code class="r">table(nchar(state.name))
</code></pre>

<pre><code>## 
##  4  5  6  7  8  9 10 11 12 13 14 
##  3  3  5  8 12  4  4  2  4  3  2
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-159" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can convert the letters to and from upper and lower case using the following functions:</p>

<ul>
<li>toupper()</li>
<li>tolower()</li>
</ul>

<pre><code class="r">head(toupper(state.name),n=3)
</code></pre>

<pre><code>## [1] &quot;ALABAMA&quot; &quot;ALASKA&quot;  &quot;ARIZONA&quot;
</code></pre>

<pre><code class="r">head(tolower(state.name),n=3)
</code></pre>

<pre><code>## [1] &quot;alabama&quot; &quot;alaska&quot;  &quot;arizona&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-160" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>What is we had upper case data and we wanted to keep only the first letter of each string upper case and convert all other characters to lower case? Here we demo <code>length()</code>, <code>nchar()</code>, <code>substr()</code>, <code>topupper()</code>, <code>tolower()</code>, <code>paste0()</code> and more...</p>

<pre><code class="r">upper.state.name &lt;- toupper(state.name)
first.letter &lt;- substr(upper.state.name,1,1)
rest.letters &lt;- character(length(upper.state.name))
for (i in 1:length(upper.state.name)) {
rest.letters[i] &lt;- tolower(substr(upper.state.name[i],2,nchar(upper.state.name[i])))
}
state.name.again &lt;- paste0(first.letter,rest.letters)
head(state.name.again,n=3)
</code></pre>

<pre><code>## [1] &quot;Alabama&quot; &quot;Alaska&quot;  &quot;Arizona&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-161" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Whats the difference between <code>paste()</code> and <code>paste0()</code>?</p>

<ul>
<li>In <code>paste()</code> the separator is a single white space (default...which can be changed).</li>
<li>In <code>paste0()</code> the separator is no space.</li>
</ul>

<p>Here are some cool things <code>paste()</code> can do:</p>

<pre><code class="r">paste(1:5, LETTERS[1:5])
</code></pre>

<pre><code>## [1] &quot;1 A&quot; &quot;2 B&quot; &quot;3 C&quot; &quot;4 D&quot; &quot;5 E&quot;
</code></pre>

<pre><code class="r">paste(1:5, LETTERS[1:5], sep=&quot;-&quot;)
</code></pre>

<pre><code>## [1] &quot;1-A&quot; &quot;2-B&quot; &quot;3-C&quot; &quot;4-D&quot; &quot;5-E&quot;
</code></pre>

<pre><code class="r">paste(1:5, LETTERS[1:5], sep=&quot;&amp;&quot;)
</code></pre>

<pre><code>## [1] &quot;1&amp;A&quot; &quot;2&amp;B&quot; &quot;3&amp;C&quot; &quot;4&amp;D&quot; &quot;5&amp;E&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-162" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Type <code>?paste</code> into your console. Check out the <code>collapse</code> argument. This can be useful if we want to combine various parts of a character vector into a single element vector consisting of one long string. For example:</p>

<pre><code class="r">a &lt;- c(&quot;cat&quot;,&quot;god&quot;,&quot;dog&quot;)
paste(a, collapse=&quot; &quot;)
</code></pre>

<pre><code>## [1] &quot;cat god dog&quot;
</code></pre>

<pre><code class="r">paste(a, collapse=&quot; &amp; &quot;)
</code></pre>

<pre><code>## [1] &quot;cat &amp; god &amp; dog&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-163" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We can perform (simple) pattern matching with the function <code>grep()</code>. For example, what proportion of the state names contain the vowel &quot;a&quot;?</p>

<pre><code class="r">state.a &lt;- grep(pattern=&quot;[aA]&quot;,state.name)
state.name[state.a]
</code></pre>

<pre><code>##  [1] &quot;Alabama&quot;        &quot;Alaska&quot;         &quot;Arizona&quot;        &quot;Arkansas&quot;      
##  [5] &quot;California&quot;     &quot;Colorado&quot;       &quot;Delaware&quot;       &quot;Florida&quot;       
##  [9] &quot;Georgia&quot;        &quot;Hawaii&quot;         &quot;Idaho&quot;          &quot;Indiana&quot;       
## [13] &quot;Iowa&quot;           &quot;Kansas&quot;         &quot;Louisiana&quot;      &quot;Maine&quot;         
## [17] &quot;Maryland&quot;       &quot;Massachusetts&quot;  &quot;Michigan&quot;       &quot;Minnesota&quot;     
## [21] &quot;Montana&quot;        &quot;Nebraska&quot;       &quot;Nevada&quot;         &quot;New Hampshire&quot; 
## [25] &quot;North Carolina&quot; &quot;North Dakota&quot;   &quot;Oklahoma&quot;       &quot;Pennsylvania&quot;  
## [29] &quot;Rhode Island&quot;   &quot;South Carolina&quot; &quot;South Dakota&quot;   &quot;Texas&quot;         
## [33] &quot;Utah&quot;           &quot;Virginia&quot;       &quot;Washington&quot;     &quot;West Virginia&quot;
</code></pre>

<pre><code class="r">length(state.a)/length(state.name)
</code></pre>

<pre><code>## [1] 0.72
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-164" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>How many state names contain Wheel of Fortune style consonants or vowels?</p>

<pre><code class="r">state.wheel &lt;- grep(pattern=&quot;[rRsStTlLnNeE]&quot;,state.name)
state.name[state.wheel]
</code></pre>

<pre><code>##  [1] &quot;Alabama&quot;        &quot;Alaska&quot;         &quot;Arizona&quot;        &quot;Arkansas&quot;      
##  [5] &quot;California&quot;     &quot;Colorado&quot;       &quot;Connecticut&quot;    &quot;Delaware&quot;      
##  [9] &quot;Florida&quot;        &quot;Georgia&quot;        &quot;Illinois&quot;       &quot;Indiana&quot;       
## [13] &quot;Kansas&quot;         &quot;Kentucky&quot;       &quot;Louisiana&quot;      &quot;Maine&quot;         
## [17] &quot;Maryland&quot;       &quot;Massachusetts&quot;  &quot;Michigan&quot;       &quot;Minnesota&quot;     
## [21] &quot;Mississippi&quot;    &quot;Missouri&quot;       &quot;Montana&quot;        &quot;Nebraska&quot;      
## [25] &quot;Nevada&quot;         &quot;New Hampshire&quot;  &quot;New Jersey&quot;     &quot;New Mexico&quot;    
## [29] &quot;New York&quot;       &quot;North Carolina&quot; &quot;North Dakota&quot;   &quot;Oklahoma&quot;      
## [33] &quot;Oregon&quot;         &quot;Pennsylvania&quot;   &quot;Rhode Island&quot;   &quot;South Carolina&quot;
## [37] &quot;South Dakota&quot;   &quot;Tennessee&quot;      &quot;Texas&quot;          &quot;Utah&quot;          
## [41] &quot;Vermont&quot;        &quot;Virginia&quot;       &quot;Washington&quot;     &quot;West Virginia&quot; 
## [45] &quot;Wisconsin&quot;      &quot;Wyoming&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-165" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>A related function to <code>grep()</code> is <code>gsub()</code> which can be used to substitute some string matching a given pattern for some other string. Say I had the following telephone numbers in various formats and wanted them all in the same format.</p>

<pre><code class="r">phones &lt;- c(&quot;416-967-1111&quot;,&quot;674-5551212&quot;, &quot;4169941234&quot;)
phones1 &lt;- gsub(pattern=&quot;-&quot;,replacement=&quot;&quot;,phones)
phones
</code></pre>

<pre><code>## [1] &quot;416-967-1111&quot; &quot;674-5551212&quot;  &quot;4169941234&quot;
</code></pre>

<pre><code class="r">phones1
</code></pre>

<pre><code>## [1] &quot;4169671111&quot; &quot;6745551212&quot; &quot;4169941234&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-166" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>R lists a number of important functions for pattern matching and replacement. Some other cool functions that we will check out in the regular expression section include:</p>

<ul>
<li><code>grep()</code></li>
<li><code>grepl()</code></li>
<li><code>sub()</code></li>
<li><code>gsub()</code></li>
<li><code>regexpr()</code></li>
<li><code>gregexpr()</code></li>
<li><code>regexec()</code></li>
<li><code>strsplit()</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-167" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The last area I will touch upon with respect to string manipulation in R deals with <a href="http://en.wikipedia.org/wiki/Regular_expression">regular expressions</a>.</p>

<p>When dealing with character data regular expression are used to identify patterns and extract/modify strings constaining (or not containing) the pattern, in some predefined way. </p>

<p>All of the functions listed on the previous slide can be used to implement regular expressions on textual data in R.</p>

<p>One of the best concise introductions to regular expression in R I know of is Spector (p. 87-99).</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-168" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Regular expressions are composed of 3 components:</p>

<ul>
<li>Literal characters which match single characters</li>
<li>Character classes which match any number of characters </li>
<li>Modifiers (sometimes called meta characters) act to modify literal characters and character classes</li>
</ul>

<p>Modifiers include the following symbols:</p>

<ul>
<li><code>.</code> <code>^</code> <code>+</code> <code>?</code> <code>*</code> <code>( )</code> <code>[ ]</code> <code>{ }</code> <code>|</code> <code>\</code></li>
</ul>

<p>Becuase these regular expression modifiers have their own meaning in the R language we must use R&#39;s escape character <code>\</code> to inform the interpreter that they are to be used in the sense of regular expression.</p>

<p>If you weren&#39;t confused yet, <code>\</code> represents the escape character in R. So we actually need to escape the escape character (ahhh)...and use two backslashes (<code>\\</code>) prior to these modifiers (Matloff, p. 255 is a nice discussion on this topic).   </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-169" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>This table comes from Spector (p. 92) and acts to describe the purpose of each of the modifiers (meta characters) mentioned on the last slide:</p>

<table><thead>
<tr>
<th>Modifier</th>
<th align="right">Meaning for Regular Expression</th>
</tr>
</thead><tbody>
<tr>
<td><code>^</code></td>
<td align="right">Anchors expression to beginning target</td>
</tr>
<tr>
<td><code>$</code></td>
<td align="right">Anchors expression to end target</td>
</tr>
<tr>
<td><code>.</code></td>
<td align="right">Matches any single char. except newline</td>
</tr>
<tr>
<td><code> &#x7c; </code></td>
<td align="right">Separates alternative patterns</td>
</tr>
<tr>
<td><code>()</code></td>
<td align="right">Groups patterns together</td>
</tr>
<tr>
<td><code>*</code></td>
<td align="right">Matches 0+ occurrences of prior entry</td>
</tr>
<tr>
<td><code>?</code></td>
<td align="right">Matches 0/1 occurrences of prior entry</td>
</tr>
<tr>
<td><code>+</code></td>
<td align="right">Matches 1+ occurences of prior entry</td>
</tr>
<tr>
<td><code>{n}</code></td>
<td align="right">Matches exactly n occurrences prior entry</td>
</tr>
<tr>
<td><code>{n,}</code></td>
<td align="right">Matches at least n occurrences prior entry</td>
</tr>
<tr>
<td><code>{n,m}</code></td>
<td align="right">Matches between n and m occurrences entry</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-170" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We&#39;re going to look at a couple of functions all of which take as arguments a regex and some character vector and return different output:</p>

<ul>
<li><code>grep()</code> returns indices of vector where regex equals <code>TRUE</code></li>
<li><code>grepl()</code> Returns logical flag (<code>TRUE</code>/<code>FALSE</code>) for element of vector given regex</li>
<li><code>regexpr()</code> returns location and length of first match regex</li>
<li><code>gregexpr()</code> returns location and length of all matches from regex</li>
</ul>

<p>Some important arguments for these functions:</p>

<ul>
<li><code>ignore.case=</code> determines if regex is case sensitive or not</li>
<li><code>fixed=</code> determines whether pattern should be interpretted in regex notation or literally</li>
<li><code>value=</code> determines if output should be actual character string or other information (logicals, indices, etc.). n.b. <code>value</code> only applies to <code>grep()</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-171" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>A regular expression which matches two consecutive numbers followed by any letter (lower/upper case).</p>

<pre><code class="r">a &lt;- c(&quot;cat&quot;, &quot;99cat&quot;, &quot;99Z&quot;, &quot;9Z9&quot;)
grep(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,a)
</code></pre>

<pre><code>## [1] 2 3
</code></pre>

<pre><code class="r">grepl(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,a)
</code></pre>

<pre><code>## [1] FALSE  TRUE  TRUE FALSE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-172" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>What is we wanted to extract the word associated with the regex? There&#39;s a couple of ways:</p>

<pre><code class="r">a &lt;- c(&quot;cat&quot;, &quot;99cat&quot;, &quot;99Z&quot;, &quot;9Z9&quot;)
grep(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,a, value=TRUE)
</code></pre>

<pre><code>## [1] &quot;99cat&quot; &quot;99Z&quot;
</code></pre>

<pre><code class="r">a[grep(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,a)]
</code></pre>

<pre><code>## [1] &quot;99cat&quot; &quot;99Z&quot;
</code></pre>

<pre><code class="r">a[which(grepl(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,a))]
</code></pre>

<pre><code>## [1] &quot;99cat&quot; &quot;99Z&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-173" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;-  c(&quot;99cat&quot;, &quot;99Z&quot;)
regexpr(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,a)
</code></pre>

<pre><code>## [1] 1 1
## attr(,&quot;match.length&quot;)
## [1] 5 3
## attr(,&quot;useBytes&quot;)
## [1] TRUE
</code></pre>

<pre><code class="r">b &lt;- c(&quot;99cat 99cat&quot;, &quot;99Z&quot;)
regexpr(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,b)
</code></pre>

<pre><code>## [1] 1 1
## attr(,&quot;match.length&quot;)
## [1] 5 3
## attr(,&quot;useBytes&quot;)
## [1] TRUE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-174" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">b &lt;- c(&quot;99cat 99CAT&quot;, &quot;67a&quot;)
bval &lt;- gregexpr(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,b)
bval
</code></pre>

<pre><code>## [[1]]
## [1] 1 7
## attr(,&quot;match.length&quot;)
## [1] 5 5
## attr(,&quot;useBytes&quot;)
## [1] TRUE
## 
## [[2]]
## [1] 1
## attr(,&quot;match.length&quot;)
## [1] 3
## attr(,&quot;useBytes&quot;)
## [1] TRUE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-175" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">b &lt;- c(&quot;99cat 99CAT&quot;)
bval &lt;- gregexpr(pattern=&quot;[0-9][0-9][a-zA-Z]+&quot;,b)
for (i in 1:length(bval[[1]])){
  cat(paste0(&quot;Match&quot;, &quot; &quot;, i, &quot;:&quot;), substr(b,bval[[1]][i],bval[[1]][i] + attr(bval[[1]],&quot;match.length&quot;)[i] - 1), sep=&quot;\n&quot;)
}
</code></pre>

<pre><code>## Match 1:
## 99cat
## Match 2:
## 99CAT
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-176" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The last function we&#39;ll talk about in this section is <code>strsplit()</code>. </p>

<pre><code class="r">a &lt;- c(&quot;This is an intro to R workshop. I hope ur learning lots!&quot;)
strsplit(a,split=&quot;&quot;)
</code></pre>

<pre><code>## [[1]]
##  [1] &quot;T&quot; &quot;h&quot; &quot;i&quot; &quot;s&quot; &quot; &quot; &quot;i&quot; &quot;s&quot; &quot; &quot; &quot;a&quot; &quot;n&quot; &quot; &quot; &quot;i&quot; &quot;n&quot; &quot;t&quot; &quot;r&quot; &quot;o&quot; &quot; &quot;
## [18] &quot;t&quot; &quot;o&quot; &quot; &quot; &quot;R&quot; &quot; &quot; &quot;w&quot; &quot;o&quot; &quot;r&quot; &quot;k&quot; &quot;s&quot; &quot;h&quot; &quot;o&quot; &quot;p&quot; &quot;.&quot; &quot; &quot; &quot;I&quot; &quot; &quot;
## [35] &quot;h&quot; &quot;o&quot; &quot;p&quot; &quot;e&quot; &quot; &quot; &quot;u&quot; &quot;r&quot; &quot; &quot; &quot;l&quot; &quot;e&quot; &quot;a&quot; &quot;r&quot; &quot;n&quot; &quot;i&quot; &quot;n&quot; &quot;g&quot; &quot; &quot;
## [52] &quot;l&quot; &quot;o&quot; &quot;t&quot; &quot;s&quot; &quot;!&quot;
</code></pre>

<pre><code class="r">strsplit(a,split=&quot; &quot;)
</code></pre>

<pre><code>## [[1]]
##  [1] &quot;This&quot;      &quot;is&quot;        &quot;an&quot;        &quot;intro&quot;     &quot;to&quot;       
##  [6] &quot;R&quot;         &quot;workshop.&quot; &quot;I&quot;         &quot;hope&quot;      &quot;ur&quot;       
## [11] &quot;learning&quot;  &quot;lots!&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-177" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(&quot;This is an intro to R workshop. I hope ur learning lots!&quot;)
strsplit(a,split=&quot;[ .!]&quot;)
</code></pre>

<pre><code>## [[1]]
##  [1] &quot;This&quot;     &quot;is&quot;       &quot;an&quot;       &quot;intro&quot;    &quot;to&quot;       &quot;R&quot;       
##  [7] &quot;workshop&quot; &quot;&quot;         &quot;I&quot;        &quot;hope&quot;     &quot;ur&quot;       &quot;learning&quot;
## [13] &quot;lots&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-178" style="background:;">
  <hgroup>
    <h2>String Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The ability to manipulate textual data is becoming increasingly important in data science. </p>

<p>R has many built in facilities for text mining.</p>

<ul>
<li>We have discussed base R functionality for text mining.</li>
<li>We have not discussed <code>stringr</code> or <code>stringi</code> libraries. Check em out...</li>
</ul>

<p>Regular expressions are powerful tools for manipulating textual data or extracting/substituting characters from text. Entire books have been written on regular expressions in different languages. If you are doing some serious text mining you should likely check em out. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-179" style="background:;">
  <hgroup>
    <h2>Lab Session (20 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-180" style="background:;">
  <hgroup>
    <h2>Lab Session</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Use the following code to access the <code>pbc</code> data frame from the <code>survival</code> library:</li>
</ol>

<pre><code class="r">suppressPackageStartupMessages(library(survival))
names(pbc)
</code></pre>

<ul>
<li>Extract all columns from the <code>pbc</code> data frame where the column name is made of 3 characters and save the new object to the <code>pbc1</code> data frame.</li>
</ul>

<ol start="2">
<li> Create the following vector: </li>
</ol>

<pre><code class="r">filenames &lt;- c(&quot;chris.jpeg&quot;,&quot;dog.jpeg&quot;,&quot;cat.tiff&quot;,&quot;cmeaney25july2014.jpeg&quot;)
</code></pre>

<ul>
<li>First, determine a method to return only those filenames which have a &quot;.jpeg&quot; extension. </li>
<li>Next, determine how you might return only the filename prefix of files with a &quot;.jpeg&quot;.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-181" style="background:;">
  <hgroup>
    <h2>Lab Session</h2>
  </hgroup>
  <article data-timings="">
    <ol start="3">
<li> Create the following character vector: <code> a <- c("This is an intro to R workshop. I hope ur learning lots!"). </code> Create a new vector which contains only the words in this vector, each as a separate element (with no whitespace elements). </li>
</ol>

<ol start="4">
<li> Create the following vector. <code> b <- c("99cat 99CAT", "67a") </code>. Then apply the following regular expression: <code> bval <- gregexpr(pattern="[0-9][0-9][a-zA-Z]+",b) </code>. Examine the <code> str(bval) </code> and string together some R functions such that you return the following output: </li>
</ol>

<pre><code>## List 1 - Match 1:
## 99cat
## List 1 - Match 2:
## 99CAT
## List 2 - Match 1:
## 67a
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-182" style="background:;">
  <hgroup>
    <h2>Lab Session</h2>
  </hgroup>
  <article data-timings="">
    <ol start="5">
<li> The following question is adapted from Spector (p. 98). Oftentimes analysts/programmers work with financial data. This is often read into R as character data. Add 1000 dollars to each element of the <code> money </code> vector. </li>
</ol>

<pre><code class="r">money &lt;- c(&quot;$55.26&quot;,&quot;$1,000.25&quot;,&quot;$75,234.34&quot;)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-183" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-184" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Thus far we have encountered a disparate set of tools used in data maniupation. For example:</p>

<ul>
<li>Vector (object) extraction by indexing is a basic form of data manipulation.</li>
<li>We considered some aspects of data manipulation when implementing conditional logical processing via <code>if</code>, <code>else</code>, and <code>ifelse()</code>.</li>
<li>We saw how textual data could be manipulated or how regular expression could be used for data manipulation in the last module. </li>
</ul>

<p>In this module we are going to try to summarize and expand on R&#39;s data manipulation capabilities (sometimes reiterating what was learned in past modules).</p>

<p>Some new functions we will encounter include:</p>

<ul>
<li>Comparison operators</li>
<li>Logical operators</li>
<li>Misc. data manipulation functions (<code>merge()</code>, <code>sort()</code>, <code>order()</code>, <code>rank()</code>, <code>duplicated()</code>, <code>unique()</code>, <code>stack()</code>, <code>split()</code>)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-185" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Let&#39;s start by considering the basic problem of indexing a vector:</p>

<pre><code class="r">a &lt;- 1:10
## Extract elements greater than 5
a[a&gt;5]
</code></pre>

<pre><code>## [1]  6  7  8  9 10
</code></pre>

<pre><code class="r">## Extract elements 3,6,9
a[seq(from=3,to=9,by=3)]
</code></pre>

<pre><code>## [1] 3 6 9
</code></pre>

<pre><code class="r">## Extract elements divisible by 4
a[a!=4]
</code></pre>

<pre><code>## [1]  1  2  3  5  6  7  8  9 10
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-186" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Basically, the idea behind data extraction for any R object (be it a vector, matrix, data frame, etc.) is to feed the index of that object a set of integer or logical values corresponding to the inclusion of that item in the newly created object.</p>

<p>To accomplish this goal we need to have a sense of R&#39;s comparison operators. We list a number of them below (I adapt this list from <a href="http://adv-r.had.co.nz/Vocabulary.html">Hadley&#39;s book</a>):</p>

<ul>
<li><code>==</code>, <code>!=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;</code>, <code>&lt;=</code></li>
<li><code>is.na()</code> tests elements of vector for <code>NA</code></li>
<li><code>compelete.cases()</code> works on a sequence of vectors, matrices or data frames and returns those elements where no <code>NA</code> values are present.</li>
<li><code>is.finite()</code> and <code>is.inifinite()</code> test for the presence of <code>Inf</code> and <code>-Inf</code> values.</li>
<li><code>all.equal()</code> tests for the equality of all elements of a vector. Reporting difference index is sensible.</li>
<li><code>identical()</code> works similarly testing the equality of components of a vector.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-187" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- rep(1L,5)
b &lt;- 1:5
a == b
</code></pre>

<pre><code>## [1]  TRUE FALSE FALSE FALSE FALSE
</code></pre>

<pre><code class="r">a &gt;= b
</code></pre>

<pre><code>## [1]  TRUE FALSE FALSE FALSE FALSE
</code></pre>

<pre><code class="r">identical(a,a)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<pre><code class="r">all.equal(a,b)
</code></pre>

<pre><code>## [1] &quot;Mean relative difference: 2.5&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-188" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">df &lt;- data.frame(ID=c(1:3,3,NA),X=c(5,9,2,-Inf,3))
## Return cases where df$ID is not equal to NA
dat1 &lt;- df[is.na(df$ID)==FALSE,]
## Return those cases where no infinite values occur
dat2 &lt;- df[is.finite(df$X)==TRUE,]
## Return complete cases
dat3 &lt;- df[complete.cases(df)==TRUE,]
## We can remove columns or rows on data frame with NULL
dat4 &lt;- df
dat4$X &lt;- NULL
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-189" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Another important class of functions when conducting data manipulation are those used for logical and set operations. These include:</p>

<ul>
<li><code>%in%</code>, <code>match()</code></li>
<li><code>&amp;</code>, <code>|</code>, <code>!</code>, <code>xor()</code></li>
<li><code>all()</code>, <code>any()</code></li>
<li><code>intersect()</code>, <code>union()</code>, <code>setdiff()</code>, <code>setequal()</code></li>
<li><code>which()</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-190" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;)
b &lt;- c(&quot;C&quot;,&quot;D&quot;,&quot;E&quot;)
intersect(a,b)
</code></pre>

<pre><code>## [1] &quot;C&quot;
</code></pre>

<pre><code class="r">union(a,b)
</code></pre>

<pre><code>## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;
</code></pre>

<pre><code class="r">setdiff(a,b)
</code></pre>

<pre><code>## [1] &quot;A&quot; &quot;B&quot;
</code></pre>

<pre><code class="r">setequal(a,b)
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-191" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Perhaps the weirdest of the logical operators/functions is <code>xor()</code>. The symbol stands for <a href="http://en.wikipedia.org/wiki/Exclusive_or">exclusive or</a>. Basically, it outputs <code>TRUE</code> if the (logical) elements being compared are different, else if the elements are the same it output <code>FALSE</code>. Below are some examples:</p>

<pre><code class="r">xor(0,0)
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<pre><code class="r">xor(1,0)
</code></pre>

<pre><code>## [1] TRUE
</code></pre>

<pre><code class="r">xor(-1,9)
</code></pre>

<pre><code>## [1] FALSE
</code></pre>

<pre><code class="r">xor(c(TRUE,FALSE,TRUE,FALSE),c(TRUE,TRUE,FALSE,FALSE))
</code></pre>

<pre><code>## [1] FALSE  TRUE  TRUE FALSE
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-192" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(12345)
df &lt;- data.frame(X=c(1:5),Y=c(LETTERS[1:5]),Z=rnorm(5))
df1 &lt;- df[df$X %in% c(1,3),]
df2 &lt;- df[df$X==1 &amp; df$Y==&quot;A&quot;,]
df3 &lt;- df[df$X==1 | df$Z &gt; 0,]
df4 &lt;- df[(df$X==1 &amp; df$Z&gt;0) | (df$Z&lt;0),]
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-193" style="background:;">
  <hgroup>
    <h2>Data Manipulation inR</h2>
  </hgroup>
  <article data-timings="">
    <p>Lastly, we will discuss some miscellaneous data manipulation functions in R: </p>

<ul>
<li><code>merge()</code> joins to data objects by unique ID (key)</li>
<li><code>sort()</code> will sort a vector</li>
<li><code>order()</code> is like sort, but used if you want to sort on more than one item</li>
<li><code>rank()</code> given numeric data will output their rank order </li>
<li><code>duplicated()</code> determines if elements of vector are duplicates of earlier vector elements</li>
<li><code>unique()</code>  is similar to above except only returns the unique elements</li>
<li><code>stack()</code> takes a matrix/dataframe and stacks the columns on top of each other (n.b. watch out for conversion)</li>
<li><code>split()</code> does group-wise processing</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-194" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- c(1,2,2,3.5,4,5.8,6)
sort(a)
</code></pre>

<pre><code>## [1] 1.0 2.0 2.0 3.5 4.0 5.8 6.0
</code></pre>

<pre><code class="r">rank(a)
</code></pre>

<pre><code>## [1] 1.0 2.5 2.5 4.0 5.0 6.0 7.0
</code></pre>

<pre><code class="r">duplicated(a)
</code></pre>

<pre><code>## [1] FALSE FALSE  TRUE FALSE FALSE FALSE FALSE
</code></pre>

<pre><code class="r">unique(a)
</code></pre>

<pre><code>## [1] 1.0 2.0 3.5 4.0 5.8 6.0
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-195" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(12345)
df &lt;- data.frame(X=c(1,2,1,2,1),Y=c(2,7,3,6,5),Z=rnorm(5))
df[order(-df[,&quot;X&quot;],df[,&quot;Y&quot;]),]
</code></pre>

<pre><code>##   X Y       Z
## 4 2 6 -0.4535
## 2 2 7  0.7095
## 1 1 2  0.5855
## 3 1 3 -0.1093
## 5 1 5  0.6059
</code></pre>

<pre><code class="r">df[with(df, order(-X,Y)),]
</code></pre>

<pre><code>##   X Y       Z
## 4 2 6 -0.4535
## 2 2 7  0.7095
## 1 1 2  0.5855
## 3 1 3 -0.1093
## 5 1 5  0.6059
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-196" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(12345)
a &lt;- data.frame(ID=c(1:5),Za=rnorm(5))
b &lt;- data.frame(ID=c(5:1),Zb=rnorm(5))
ab &lt;- merge(x=a,y=b,by.x=&quot;ID&quot;,by.y=&quot;ID&quot;)
ab
</code></pre>

<pre><code>##   ID      Za      Zb
## 1  1  0.5855 -0.9193
## 2  2  0.7095 -0.2842
## 3  3 -0.1093 -0.2762
## 4  4 -0.4535  0.6301
## 5  5  0.6059 -1.8180
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-197" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The stack </p>

<pre><code class="r">a &lt;- as.data.frame(matrix(1:9,ncol=3))
t(stack(a))
</code></pre>

<pre><code>##        [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9]
## values &quot;1&quot;  &quot;2&quot;  &quot;3&quot;  &quot;4&quot;  &quot;5&quot;  &quot;6&quot;  &quot;7&quot;  &quot;8&quot;  &quot;9&quot; 
## ind    &quot;V1&quot; &quot;V1&quot; &quot;V1&quot; &quot;V2&quot; &quot;V2&quot; &quot;V2&quot; &quot;V3&quot; &quot;V3&quot; &quot;V3&quot;
</code></pre>

<p>This <code>stack()</code> function is useful in certain mathematical procedures (and as the vectroization, or vec operator), not surprisingly its author - Douglas Bates - does a lot of really good matrix algebra on linear model in R. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-198" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(12345)
df &lt;- data.frame(X=c(1,2,1,2,1),Z=rnorm(5))
split(df$Z,df$X)
</code></pre>

<pre><code>## $`1`
## [1]  0.5855 -0.1093  0.6059
## 
## $`2`
## [1]  0.7095 -0.4535
</code></pre>

<pre><code class="r">lapply(split(df$Z,df$X),mean)
</code></pre>

<pre><code>## $`1`
## [1] 0.3607
## 
## $`2`
## [1] 0.128
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-199" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>R has many functions for data manipulation. These are just a smattering of the ones which I think are most useful. As always, a google search for your specific problem may reveal more meaningful internal functions which are available.</p>

<p>These problems have been kept very small for illustrative purposes. All functions scale up just fine. </p>

<p>Some thoughts:</p>

<ul>
<li>The logical comparison operators are very useful at identify items/cases/rows which meet some criterion, and selecting them from some larger object. I use them all the time. </li>
<li>The boolean logic (set operation) functions are VERY useful. I use them all the time to find people in one set of ID&#39;s not in some other set of ID&#39;s etc...</li>
<li><code>merge()</code>, <code>order()</code>, <code>duplicated()</code>, <code>complete.cases()</code>, <code>is.na()</code> are bread and butter functions I use in data cleaning and manipulation all the time. </li>
</ul>

<p>Spend some time and just think how these function might make there way into your workflow?</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-200" style="background:;">
  <hgroup>
    <h2>Lab Session (20 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-201" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Sequence as vector <code>a &lt;- 1:100</code>. Using indexing techniques, keep only those elements divisible by 7 or 33.</li>
</ol>

<pre><code>##  [1]  7 14 21 28 33 35 42 49 56 63 66 70 77 84 91 98 99
</code></pre>

<ol start="2">
<li> In the <code> survival</code> package there is a <code> pbc</code> dataset. Subset this dataset to include only the males who have bilirubin levels greater than 1. Do not use the <code> subset()</code> function for this. Afterwords though, do check out what subset is all about (<code>?subset</code>). </li>
</ol>

<ol start="3">
<li> Create the following two vectors of ID's. How many ways can you think of to create a list of the <code> a </code> set ID's which are NOT in the <code> b </code> set ID's? </li>
</ol>

<pre><code class="r">a &lt;- paste0(LETTERS[1:26],1:26)
b &lt;- c(&quot;A1&quot;,&quot;C3&quot;,&quot;X24&quot;,&quot;Z26&quot;)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-202" style="background:;">
  <hgroup>
    <h2>Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <ol start="4">
<li> Load the <code> mlmRev </code> package with and <code> install.packages("mlmRev")</code> call followed by a <code> library(mlmRev) </code> call. Sort the <code> Exam </code> data frame in this package by <code> "school"</code> then <code> "sex" </code>  and finally <code> "normexam" </code>. </li>
</ol>

<ol start="5">
<li> Another cool function is <code> rle() </code> for run length encoding. This function is useful for identifying consecutive runs of characters within a data vector. Consider the data vector below, use the <code> rle() </code> function to identify the number of runs of 2 that occur in excess of length/repeat 3 in the following vector. </li>
</ol>

<pre><code class="r">a &lt;- c(rep(1:3,1:3),2,2,2,2,rep(1:3,2:4))
a
</code></pre>

<pre><code>##  [1] 1 2 2 3 3 3 2 2 2 2 1 1 2 2 2 3 3 3 3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-203" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-204" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>In this section we are going to talk about a few functions in two of <a href="https://github.com/hadley">Hadley Wickham&#39;s</a> contirbuted CRAN packages, namely: <code>plyr</code> and <code>reshape2</code>.</p>

<p>The <code>plyr</code> package is used for data manipulation and summarization. It operates under the &quot;split, apply, combine&quot; framework. The idea is to use the <code>plyr</code> functions to divide the dataset according to its grouping variable, to summarize the data by grouping variable, and then to recombine the dataset summary variables according to the original grouping variables. </p>

<p>The <code>reshape2</code> library contains a few important functions for manipulating datasets from wide to long, or long to wide, or performing many other manipulations. The two important functions here are:</p>

<ul>
<li><code>melt()</code></li>
<li><code>cast()</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-205" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>plyr</code> package was written by Hadley Wickham. More details on the procedures in this package can be found in the following <a href="http://www.jstatsoft.org/v40/i01/paper">article</a>. </p>

<p>The general purpose of the function embedded in this package are to break the data apart according to some grouping variable (the &quot;split&quot; step), then to apply some function over each &quot;split&quot; of data, and finally to combine the results back together in the form of some data object. </p>

<p>In this section we are going to work with the <code>iris</code> dataset which comes shipped with base R. The examples in this section are borrowed from <a href="http://www.packtpub.com/data-manipulation-with-r/book">Data Manipulation with R (Abendin)</a>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-206" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Let&#39;s just take a quick look at the iris data (it contains information on the sepal/petal lengths and widths of various species of iris plants):</p>

<pre><code class="r">summary(iris[,-5])
</code></pre>

<pre><code>##   Sepal.Length   Sepal.Width    Petal.Length   Petal.Width 
##  Min.   :4.30   Min.   :2.00   Min.   :1.00   Min.   :0.1  
##  1st Qu.:5.10   1st Qu.:2.80   1st Qu.:1.60   1st Qu.:0.3  
##  Median :5.80   Median :3.00   Median :4.35   Median :1.3  
##  Mean   :5.84   Mean   :3.06   Mean   :3.76   Mean   :1.2  
##  3rd Qu.:6.40   3rd Qu.:3.30   3rd Qu.:5.10   3rd Qu.:1.8  
##  Max.   :7.90   Max.   :4.40   Max.   :6.90   Max.   :2.5
</code></pre>

<p>What I haven&#39;t shown here is that there exist 50 records on each variety/species of plants. We are going show a number of ways to summarize the sepal and petal height/width data by species. Here is where <code>plyr</code> strength is realized. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-207" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">iris.setosa &lt;- iris[iris$Species==&quot;setosa&quot;,-5]
iris.versicolor &lt;- iris[iris$Species==&quot;versicolor&quot;,-5]
iris.virginica &lt;- iris[iris$Species==&quot;virginica&quot;,-5]
mean.setosa &lt;- colMeans(iris.setosa)
mean.versicolor &lt;- colMeans(iris.versicolor)
mean.virginica &lt;- colMeans(iris.virginica)
mean.iris &lt;- rbind(mean.setosa,mean.versicolor,mean.virginica)
rownames(mean.iris) &lt;- c(&quot;setosa&quot;,&quot;versicolor&quot;,&quot;virginica&quot;)
mean.iris
</code></pre>

<pre><code>##            Sepal.Length Sepal.Width Petal.Length Petal.Width
## setosa            5.006       3.428        1.462       0.246
## versicolor        5.936       2.770        4.260       1.326
## virginica         6.588       2.974        5.552       2.026
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-208" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">mean.iris.loop &lt;- NULL
for (species in unique(iris$Species)) {
  iris.sub &lt;- iris[iris$Species==species,]
  mean.iris.sub &lt;- colMeans(iris.sub[,-5])
  mean.iris.loop &lt;- rbind(mean.iris.loop,mean.iris.sub)
}
rownames(mean.iris.loop) &lt;- c(&quot;setosa&quot;,&quot;versicolor&quot;,&quot;virginica&quot;)
mean.iris.loop
</code></pre>

<pre><code>##            Sepal.Length Sepal.Width Petal.Length Petal.Width
## setosa            5.006       3.428        1.462       0.246
## versicolor        5.936       2.770        4.260       1.326
## virginica         6.588       2.974        5.552       2.026
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-209" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">install.packages(plyr,quiet=TRUE)
</code></pre>

<pre><code>## Error in install.packages : object &#39;plyr&#39; not found
</code></pre>

<pre><code class="r">suppressPackageStartupMessages(library(plyr))
ddply(iris,~Species,function(x) colMeans(x[,-which(colnames(x)==&quot;Species&quot;)]))
</code></pre>

<pre><code>##      Species Sepal.Length Sepal.Width Petal.Length Petal.Width
## 1     setosa        5.006       3.428        1.462       0.246
## 2 versicolor        5.936       2.770        4.260       1.326
## 3  virginica        6.588       2.974        5.552       2.026
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-210" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The type of <code>plyr</code> function that you call depends on:</p>

<ul>
<li>The type of input data object that you have</li>
<li>The type of output data object that you want to obtain
Below we show input data (rows) and output data (columns) and corresponding <code>plyr</code> function: </li>
</ul>

<table><thead>
<tr>
<th></th>
<th>Array</th>
<th>Data frame</th>
<th>List</th>
<th align="right">Discarded</th>
</tr>
</thead><tbody>
<tr>
<td>Array</td>
<td><code>aaply()</code></td>
<td><code>adply()</code></td>
<td><code>alply()</code></td>
<td align="right"><code>a_ply()</code></td>
</tr>
<tr>
<td>Data frame</td>
<td><code>daply()</code></td>
<td><code>ddply()</code></td>
<td><code>dlply()</code></td>
<td align="right"><code>d_ply()</code></td>
</tr>
<tr>
<td>List</td>
<td><code>laply()</code></td>
<td><code>ldply()</code></td>
<td><code>llply()</code></td>
<td align="right"><code>l_ply()</code></td>
</tr>
</tbody></table>

<p><br/>
As you might see...the first letter of the function corresponds to the type of input object under consideration; whereas, the the second letter corresponds to the type of output object under consideration. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-211" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Here we will play with the functions. We will use the <code>Exam</code> data in the <code>mlmRev</code> package.</p>

<ul>
<li>Get the means exam scores for each combination of <code>sex</code> and <code>type</code>:</li>
</ul>

<pre><code class="r">suppressPackageStartupMessages(library(plyr))
suppressPackageStartupMessages(library(mlmRev))
ddply(Exam,.(sex,type),summarise,mean.exam=mean(normexam,na.rm=TRUE))
</code></pre>

<pre><code>##   sex type mean.exam
## 1   F  Mxd   0.02478
## 2   F Sngl   0.14603
## 3   M  Mxd  -0.21601
## 4   M Sngl   0.02335
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-212" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Here we will play with the functions. We will use the <code>Exam</code> data in the <code>mlmRev</code> package.</p>

<ul>
<li>Get the <code>summary</code> of exam scores for each combination of <code>sex</code> returned as a list (just show females):</li>
</ul>

<pre><code class="r">suppressPackageStartupMessages(library(plyr))
suppressPackageStartupMessages(library(mlmRev))
dlply(Exam,.(sex),summarise,sixnumsum=summary(normexam))[[1]]
</code></pre>

<pre><code>##   sixnumsum
## 1    -3.060
## 2    -0.555
## 3     0.074
## 4     0.093
## 5     0.747
## 6     3.670
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-213" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Apply two functions over the <code>daply()</code> functions:</p>

<pre><code class="r">suppressPackageStartupMessages(library(mlmRev))
chris.summary &lt;- function(x){
  mean.x &lt;- mean(x,na.rm=TRUE)
  sd.x &lt;- sd(x, na.rm=TRUE)
  summary.data &lt;- data.frame(mean.x=mean.x,sd.x=sd.x)
  return(summary.data)
}
daply(Exam,.(sex),summarise,chris.summary(normexam))
</code></pre>

<pre><code>## $F
##    mean.x   sd.x
## 1 0.09332 0.9697
## 
## $M
##    mean.x  sd.x
## 1 -0.1404 1.026
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-214" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Now we move on to talk about another one of Hadley Wickham&#39;s R packages: <code>reshape2</code>. Some details regarding the functionality of the package can be found <a href="http://www.jstatsoft.org/v21/i12/paper">here</a>.</p>

<p>Data come in different formats. Two common formats are:</p>

<ul>
<li>Long format</li>
<li>Wide format
Certain statistical functions require data in one form or another. The ability to seamlessly convert data amongst these different forms/structures is what <code>reshape2</code> attempts to facilitate.</li>
</ul>

<p>The package has two main functions: <code>melt()</code> and <code>cast()</code></p>

<ul>
<li><code>melt</code> takes the original data and melts it down into a simpler form.</li>
<li><code>cast</code> then works on this melted data eventually returning the data in a form that you specify.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-215" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The way the <code>reshape2</code> package envisions data is being broken into 2 categories:</p>

<ul>
<li>Identifier variables: unique keys, and categorical type data that stratify your measured results</li>
<li>Measured variables: those data elements which are measured and of interest.</li>
</ul>

<p>For example consider the following data:</p>

<table><thead>
<tr>
<th>ID</th>
<th>Term</th>
<th>Math</th>
<th>English</th>
<th align="right">Total</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>1</td>
<td>40</td>
<td>50</td>
<td align="right">90</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>20</td>
<td>40</td>
<td align="right">60</td>
</tr>
<tr>
<td>2</td>
<td>1</td>
<td>30</td>
<td>30</td>
<td align="right">60</td>
</tr>
<tr>
<td>2</td>
<td>2</td>
<td>50</td>
<td>30</td>
<td align="right">80</td>
</tr>
</tbody></table>

<p><br/>
The variables ID and Term are considered &quot;identifiers&quot;; whereas, the variables Math, English and Total are considered &quot;measured&quot; variables. The data in in LONG format.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-216" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We could then put these data into wide format if need be:</p>

<table><thead>
<tr>
<th>ID</th>
<th>Math.1</th>
<th>Math.2</th>
<th>English.1</th>
<th>English.2</th>
<th>Total.1</th>
<th align="right">Total.2</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>40</td>
<td>20</td>
<td>50</td>
<td>40</td>
<td>90</td>
<td align="right">60</td>
</tr>
<tr>
<td>2</td>
<td>30</td>
<td>50</td>
<td>30</td>
<td>30</td>
<td>60</td>
<td align="right">80</td>
</tr>
</tbody></table>

<p>How might this be accomplished in R? The <code>reshape2</code> package is one approach.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-217" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">df.long &lt;- data.frame(id=c(1,1,2,2),term=c(1,2,1,2),math=c(50,60,40,80),english=c(50,60,30,90))
df.long
</code></pre>

<pre><code>##   id term math english
## 1  1    1   50      50
## 2  1    2   60      60
## 3  2    1   40      30
## 4  2    2   80      90
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-218" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(reshape2))
df.long &lt;- data.frame(id=c(1,1,2,2),term=c(1,2,1,2),math=c(50,60,40,80),english=c(50,60,30,90))
melt(df.long,id.vars=c(&quot;id&quot;,&quot;term&quot;),measured=c(&quot;math&quot;,&quot;english&quot;))
</code></pre>

<pre><code>##   id term variable value
## 1  1    1     math    50
## 2  1    2     math    60
## 3  2    1     math    40
## 4  2    2     math    80
## 5  1    1  english    50
## 6  1    2  english    60
## 7  2    1  english    30
## 8  2    2  english    90
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-219" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(reshape2))
df.long &lt;- data.frame(id=c(1,1,2,2),term=c(1,2,1,2),math=c(50,60,40,80),english=c(50,60,30,90))
melt.df.long &lt;- melt(df.long,id.vars=c(&quot;id&quot;,&quot;term&quot;),measured=c(&quot;math&quot;,&quot;english&quot;))
melt.df.wide &lt;- dcast(melt.df.long,id ~ ...)
melt.df.wide
</code></pre>

<pre><code>##   id 1_math 1_english 2_math 2_english
## 1  1     50        50     60        60
## 2  2     40        30     80        90
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-220" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(reshape2))
df.long &lt;- data.frame(id=c(1,1,2,2),term=c(1,2,1,2),math=c(50,60,40,80),english=c(50,60,30,90))
melt.df.long &lt;- melt(df.long,id.vars=c(&quot;id&quot;,&quot;term&quot;),measured=c(&quot;math&quot;,&quot;english&quot;))
df.wide &lt;- dcast(melt.df.long,id ~ ...)
melt.df.wide &lt;- melt(df.wide,id.vars=c(&quot;id&quot;),measured=c(&quot;1_math&quot;,&quot;2_math&quot;,&quot;1_english&quot;,&quot;2_english&quot;))
melt.df.wide$term &lt;- ifelse(substr(melt.df.wide$variable,1,1)==&quot;1&quot;,1,2)
melt.df.wide$variable &lt;- gsub(pattern=&quot;[1-2_]&quot;,replacement=&quot;&quot;,x=as.character(melt.df.wide$variable))
back.to.long &lt;- dcast(melt.df.wide,id + term ~ ...)
back.to.long
</code></pre>

<pre><code>##   id term english math
## 1  1    1      50   50
## 2  1    2      60   60
## 3  2    1      30   40
## 4  2    2      90   80
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-221" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Data manipulation is a very important part of data science and statistics. The past 2 modules have introduced many base R functions and contributed functions which should help facilitate the ease at which data manipulation can be conducted. </p>

<p>As an aside, when performing any sort of analysis in R some (smart) people think &quot;What would Hadley do?&quot;. Hadley Wickham is an R rockstar. He is chief scientist at RStudio. And has contributed many useful packages to CRAN. So checking out his <a href="https://github.com/hadley">guthub</a> page is well worth the time invested, as it will likely save you huge time down the road when you realize &quot;why did I spend so much time trying to code that from scratch, Hadley already made some great function to accomplish just this task&quot;.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-222" style="background:;">
  <hgroup>
    <h2>Lab Session (10 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-223" style="background:;">
  <hgroup>
    <h2>Advanced Data Manipulation in R</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li><p>Load the <code>pbc</code> data from the <code>survival</code> library. Use any of the <code>plyr</code> functions of your choice to report the mean/SD bilirubin levels <code>bili</code> as a function of <code>sex</code> and <code>ascites</code>. Get rid of <code>NA</code> values on any of the variables under consider before conducting the analysis.  </p></li>
<li><p>Load the <code>Penicillin</code> data using the following functions: <code>install.packages(&quot;lme4&quot;)</code> and then <code>library(lme4)</code>. Consider the <code>plate</code> and the <code>sample</code> as identifiers, and the <code>diameter</code> as the measured variable. Create a dataset which is 24 rows long (24 is the number of unique <code>plate</code> ID&#39;s) and 6 columns wide (where each column variable is the <code>sample</code> identifier). Use the <code>melt()</code> and <code>dcast()</code> function to accomplish this goal.</p></li>
<li><p>Base R also has a cool function called <code>reshape()</code>. Check out it&#39;s functionality using <code>?reshape</code>. See if you can accomplish the same objective as part 2, using the <code>reshape()</code> function from base R instead of the <code>melt()</code> and <code>dcast()</code> functions from the <code>reshape2</code> package.  </p></li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-224" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-225" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Random number generation has many applications in the computational sciences:</p>

<ul>
<li>Simulation in statistical modeling</li>
<li>Statistical sampling</li>
<li>Numerical analysis (MCMC)</li>
<li>Stochastic decision analysis</li>
<li>Real life applications: gambling, video games, etc.</li>
</ul>

<p>R has extensive algorithms for generating (pseudo) random numbers from a variety of different distributions. Check out <code>?RNG</code> for more details.</p>

<p>Other important features of the random number generator can be obtained using:</p>

<ul>
<li><code>?.Random.seed</code></li>
<li><code>?RNGkind</code></li>
<li><code>?RNGversion</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-226" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Below is a table of R&#39;s various random number generators. (<code>?Distributions</code>)</p>

<table><thead>
<tr>
<th>Distribution</th>
<th>RNG</th>
<th>PDF</th>
<th>CDF</th>
<th align="right">Quantile F&#39;n</th>
</tr>
</thead><tbody>
<tr>
<td>Beta</td>
<td><code>rbeta()</code></td>
<td><code>dbeta()</code></td>
<td><code>pbeta()</code></td>
<td align="right"><code>qbeta()</code></td>
</tr>
<tr>
<td>Binomial</td>
<td><code>rbinom()</code></td>
<td><code>dbinom()</code></td>
<td><code>pbinom()</code></td>
<td align="right"><code>qbinom()</code></td>
</tr>
<tr>
<td>Cauchy</td>
<td><code>rcauchy()</code></td>
<td><code>dcauchy()</code></td>
<td><code>pcauchy()</code></td>
<td align="right"><code>qcauchy()</code></td>
</tr>
<tr>
<td>Chi-squared</td>
<td><code>rchisq()</code></td>
<td><code>dchisq()</code></td>
<td><code>pchisq()</code></td>
<td align="right"><code>qchisq()</code></td>
</tr>
<tr>
<td>Exponential</td>
<td><code>rexp()</code></td>
<td><code>dexp()</code></td>
<td><code>pexp()</code></td>
<td align="right"><code>qexp()</code></td>
</tr>
<tr>
<td>F</td>
<td><code>rf()</code></td>
<td><code>df()</code></td>
<td><code>pf()</code></td>
<td align="right"><code>qf()</code></td>
</tr>
<tr>
<td>Gamma</td>
<td><code>rgamma()</code></td>
<td><code>dgamma()</code></td>
<td><code>pgamma()</code></td>
<td align="right"><code>qgamma()</code></td>
</tr>
<tr>
<td>Geometric</td>
<td><code>rgeom()</code></td>
<td><code>dgeom()</code></td>
<td><code>pgeom()</code></td>
<td align="right"><code>qgeom()</code></td>
</tr>
<tr>
<td>Hyper-geometric</td>
<td><code>rhyper()</code></td>
<td><code>dhyper()</code></td>
<td><code>phyper()</code></td>
<td align="right"><code>qhyper()</code></td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-227" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>And there are even more <code>Distributions</code> to choose from:</p>

<table><thead>
<tr>
<th>Distribution</th>
<th>RNG</th>
<th>PDF</th>
<th>CDF</th>
<th align="right">Quantile F&#39;n</th>
</tr>
</thead><tbody>
<tr>
<td>Log-Normal</td>
<td><code>rlnorm()</code></td>
<td><code>dlnorm()</code></td>
<td><code>plnorm()</code></td>
<td align="right"><code>qlnorm()</code></td>
</tr>
<tr>
<td>Multinomial</td>
<td><code>rmulti()</code></td>
<td><code>dmulti()</code></td>
<td><code>pmulti()</code></td>
<td align="right"><code>qmulti()</code></td>
</tr>
<tr>
<td>Negative Binomial</td>
<td><code>rnbinom()</code></td>
<td><code>dnbinom()</code></td>
<td><code>qnbinom()</code></td>
<td align="right"><code>qnbinom()</code></td>
</tr>
<tr>
<td>Normal</td>
<td><code>rnorm()</code></td>
<td><code>dnorm()</code></td>
<td><code>pnorm()</code></td>
<td align="right"><code>qnorm()</code></td>
</tr>
<tr>
<td>Poisson</td>
<td><code>rpois()</code></td>
<td><code>dpois()</code></td>
<td><code>ppois()</code></td>
<td align="right"><code>qpois()</code></td>
</tr>
<tr>
<td>Student&#39;s T</td>
<td><code>rt()</code></td>
<td><code>dt()</code></td>
<td><code>pt()</code></td>
<td align="right"><code>qt()</code></td>
</tr>
<tr>
<td>Uniform</td>
<td><code>runif()</code></td>
<td><code>dunif()</code></td>
<td><code>punif()</code></td>
<td align="right"><code>qunif()</code></td>
</tr>
<tr>
<td>Weibull</td>
<td><code>rweibull()</code></td>
<td><code>dweibull()</code></td>
<td><code>pweibull()</code></td>
<td align="right"><code>qweibull()</code></td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-228" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>If you&#39;re probability theory is a little rusty the above functions can be a great way to learn about various probability functions. </p>

<ul>
<li><code>rxxx()</code> creates a sequence of random numbers from the given probability function</li>
<li><code>pxxx()</code> returns the value of the density function (PDF/PMF) for a given value of support</li>
<li><code>dxxx()</code> returns the \(P(X) \leq x\) for a given CDF and a given threshold along the support (x)</li>
<li><code>qxxx()</code> returns the quantile associated with a given probability value</li>
</ul>

<p>In the next few slides we&#39;ll investigate some of the probabiltiy functions. Then we&#39;ll look into some applications of the random number generation in R which could find there way into your workflow. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-229" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Let&#39;s consider the exponential density function:</p>

<p>\[ 
f(x;\lambda) = \left\{ 
  \begin{array}{l l}
    \lambda e^{-\lambda x} & \quad \text{if $x$ $\geq$ 0}\\
    0 & \quad \text{if $x$ < 0}
  \end{array} \right.
\]</p>

<p>We could go to <a href="http://en.wikipedia.org/wiki/Exponential_distribution">Wikipedia</a> and learn a bit more about the exponential distirbution.</p>

<p>\[ E(X) = \frac{1}{\lambda} \]</p>

<p>\[ VAR(X) = \frac{1}{\lambda^2} \]</p>

<p>On the next slides we&#39;ll show how R could be used to learn more about this density function.   </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-230" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Let&#39;s consider the exponential density function. Here we consider an exponential distribution with a rate parameter \(\lambda=2\).</p>

<pre><code class="r">set.seed(12345)
X &lt;- rexp(10000,rate=0.5)
mean(X)
</code></pre>

<pre><code>## [1] 2.01
</code></pre>

<pre><code class="r">var(X)
</code></pre>

<pre><code>## [1] 4.017
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-231" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/fig5.png" title="plot of chunk fig5" alt="plot of chunk fig5" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-232" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/fig6.png" title="plot of chunk fig6" alt="plot of chunk fig6" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-233" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Use RNG to compare statistical properties of T-test and Wilcoxon Rank Sum test.</p>

<pre><code class="r">set.seed(98765)
dat &lt;- matrix(NA,ncol=2,nrow=1000)
compare.test &lt;- function(mu1=0,sd1=1,mu2=0.05,sd2=1,n=50){
  X1 &lt;- rnorm(100,mu1,sd1)
  X2 &lt;- rnorm(100,mu2,sd2)
  Y1 &lt;- rep(0,length(X1))
  Y2 &lt;- rep(1,length(X2))
  X &lt;- c(X1,X2)
  Y &lt;- c(Y1,Y2)
  T.pval &lt;- t.test(X~Y)$p.value
  W.pval &lt;- wilcox.test(X~Y,paired=FALSE)$p.value
  return(c(T.pval,W.pval))
}
dat &lt;- t(replicate(1000,compare.test(mu1=0,sd1=1,mu2=0.5,sd2=1,n=50)))
sum(ifelse(dat[,1]&gt;0.05,0,1))
sum(ifelse(dat[,2]&gt;0.05,0,1))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-234" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>But what if the data are not Normal? Do results still favour the T-test?</p>

<pre><code class="r">set.seed(98765)
dat &lt;- matrix(NA,ncol=2,nrow=1000)
compare.test &lt;- function(df1=1,df2=1.5,n=50){
  X1 &lt;- rchisq(100,df1)
  X2 &lt;- rchisq(100,df2)
  Y1 &lt;- rep(0,length(X1))
  Y2 &lt;- rep(1,length(X2))
  X &lt;- c(X1,X2)
  Y &lt;- c(Y1,Y2)
  T.pval &lt;- t.test(X~Y)$p.value
  W.pval &lt;- wilcox.test(X~Y,paired=FALSE)$p.value
  return(c(T.pval,W.pval))
}
dat &lt;- t(replicate(1000,compare.test(df1=1,df2=1.5,n=50)))
sum(ifelse(dat[,1]&gt;0.05,0,1))
sum(ifelse(dat[,2]&gt;0.05,0,1))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-235" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>So what did we learn from the last two R code chunks. The purpose was to demonstrate the use of random number generators from statistical simulation. Basically, statistical estimators are typically valid under certain distributional assumptions. Simulation allows us the opportunity to investigate these properties when theory may elude us. </p>

<p>With respect to the problem at hand:</p>

<ul>
<li>In simulation experiment 1 we learned that the T-test is mildly more powerful than the Wilcoxon rank sum test when the distirbution generating the data is Normal.</li>
<li>In simulation experiment2 we learned that the T-test is much less powerful than the Wilcoxon rank sum test when the distribution gnerating the data is non-Normal (in our case Chi-squared).</li>
</ul>

<p>In the previous example we are able to compare the <a href="http://en.wikipedia.org/wiki/Efficiency_(statistics)">efficiency</a> of our test procedures without going into more complicated mathematics of Pittman or Bahadur. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-236" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Random numbers are also useful for drawing (random) statistical samples. These are useful when designing RCT&#39;s, etc. </p>

<p>Say for example we have access to 10 people with the following ID&#39;s. Our goal is to draw 5 people for inclusion in the control group and 5 people for inclusion into the treatment group. </p>

<pre><code class="r">set.seed(4567)
ID &lt;- paste0(LETTERS[1:10],1:10)
trt &lt;- sample(ID,5,replace=FALSE)
con &lt;- setdiff(ID,trt)
trt
</code></pre>

<pre><code>## [1] &quot;C3&quot;  &quot;G7&quot;  &quot;B2&quot;  &quot;J10&quot; &quot;D4&quot;
</code></pre>

<pre><code class="r">con
</code></pre>

<pre><code>## [1] &quot;A1&quot; &quot;E5&quot; &quot;F6&quot; &quot;H8&quot; &quot;I9&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-237" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Say the design of the trial was such that patients were being prospectively enrolled. In this case we want to generate a sequence of random variables which dictate allocation into the treatment or the control group. Again, say we have plan to enrol 10 patients, one approach to the allocation problem could be as follows:</p>

<pre><code class="r">set.seed(13579)
allocate &lt;- rbinom(10,1,0.5)
allocate
</code></pre>

<pre><code>##  [1] 0 1 0 1 0 0 0 1 1 0
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-238" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <p>In summary, RNG&#39;s have many scientific and real life uses. Statisticians make frequent use of RNG&#39;s for many purposes, but my take is that they are underutilized by non-statisticians.</p>

<p>Spend a few minutes considering how RNG&#39;s may be used in your field of work.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-239" style="background:;">
  <hgroup>
    <h2>Lab Session (10 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-240" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>In probability theory there exist a very important law, called the <a href="http://en.wikipedia.org/wiki/Law_of_large_numbers">law of large numbers</a>. There are two version of the LLN, and both versions of the law state that – with virtual certainty – the sample average \(\overline{X}_n=\frac1n(X_1+\cdots+X_n)\) converges to the expected value \(\overline{X}_n \to \mu\) as \(n \to \infty\). Using the <code>rpois()</code> function recreate the following plot and which demonstrates how the sample average converges the \(\lambda\) as the sample size approaches infinity. </li>
</ol>

<p><img src="assets/fig/rng_scatter.png" title="plot of chunk rng_scatter" alt="plot of chunk rng_scatter" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-241" style="background:;">
  <hgroup>
    <h2>Random Number Generation in R</h2>
  </hgroup>
  <article data-timings="">
    <ol start="2">
<li> In applied statistics the <a href=http://en.wikipedia.org/wiki/Bootstrapping_(statistics)> bootstrap </a> is an important method which is used to derive estimates of variance, standard error, and confidence intervals in instances where statistical theory may be challenging to derive closed for solutions. A classic example is deriving the 95% CI of the sample median. The procedure can be employed using the <code>sample()</code> function in R. Consider the algorithm below: </li> 
</ol>

<ul>
<li>Draw a sample of size 100 from a normal distribution as follows: <code>a &lt;- rnorm(100,0,1)</code>.</li>
<li>Using <code>sample(a,100,replace=TRUE)</code> draw a bootstrap sample from <code>a</code>. Calculate the median.</li>
<li>Repeat the sampling step 1000 times using a for loop.</li>
<li>Rank order the above vector and draw the 25th and 975th values from the ordered sample. </li>
<li>This will be you 95% bootstrap confidence interval for the sample median.</li>
<li>Plot the distribution of the bootstrap distribution using <code>hist()</code></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-242" style="background:;">
  <hgroup>
    <h2>Data Input/Output in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-243" style="background:;">
  <hgroup>
    <h2>Data Input/Output in R</h2>
  </hgroup>
  <article data-timings="">
    <p>As a Biostatistician I typically receive data in many different formats (e.g. Excel, SPSS, SAS, STATA, etc.). Prior to analysis I must import these data into R. A very complementary task to data import, is data export. Once an analysis is complete it is sometimes necessary to export a cleaned data object from R into some other format. </p>

<p>R has many base functions and user contributed functions (packages) that can assist with data import/export. Two basic and useful functions to consider first include:</p>

<ul>
<li><code>read.table()</code></li>
<li><code>write.table()</code></li>
</ul>

<p>When working with more esoteric data types one should investigate the following packages:</p>

<ul>
<li><code>XLConnect</code>, <code>xlsx</code>, <code>gdata</code>, <code>RODBC</code> etc...have capabilities to read/write Excel files.</li>
<li><code>foreign</code> and <code>Hmisc</code> have functions to read/write in SAS and SPSS data files.</li>
<li><code>RODBC</code>, <code>RMySQL</code>, <code>ROracle</code>, and <code>RJDBC</code> have functions to read/write data from databases.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-244" style="background:;">
  <hgroup>
    <h2>Data Input/Output in R</h2>
  </hgroup>
  <article data-timings="">
    <p>To demonstrate some of R&#39;s import capabilities we will work with the Virginia lung death data. The data were retrieved from <a href="http://biostat.mc.vanderbilt.edu/wiki/Main/DataSets?CGISESSID=10713f6d891653ddcbb7ddbdd9cffb79">Frank Harrell&#39;s</a> website. Information on the data can be found <a href="http://biostat.mc.vanderbilt.edu/wiki/pub/Main/DataSets/Cvalung.html">here</a>.  </p>

<p>The dataset contains information on 8 variables collected from 137 individuals. The variables include:</p>

<ul>
<li>Therapy (0=Standard, 1=Test)</li>
<li>Lung cell type (Adeno, Large, Small, Squamous)</li>
<li>Time to death (days)</li>
<li>Death status (dead/censored)</li>
<li>Karnofsky performance scores</li>
<li>Months from diagnosis to treatment initiation</li>
<li>Age in years</li>
<li>Prior treatment (0=No, 1=Yes)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-245" style="background:;">
  <hgroup>
    <h2>Importing data into R with <code>read.table()</code></h2>
  </hgroup>
  <article data-timings="">
    <p><code>read.table()</code> imports tabular data and creates a data frame. Important arguments include:  </p>

<ul>
<li><code>file=</code> specifies the file name and directory path/location where the file resides</li>
<li><code>header=</code> denotes whether the first row is data or variable names</li>
<li><code>sep=</code> denotes the type of delimter between data points on a given line</li>
<li><code>na.strings=</code> tells R how to handle missing data</li>
</ul>

<pre><code class="r">X &lt;- read.table(&quot;/Users/chris/Documents/Rlecture/DataExamples/VAlung.txt&quot;,header=TRUE,sep=&quot;\t&quot;)
dim(X)
</code></pre>

<pre><code>## [1] 137   8
</code></pre>

<pre><code class="r">head(X, n=2)
</code></pre>

<pre><code>##    therapy     cell   t dead kps diagtime age prior
## 1 standard Squamous  72 dead  60        7  69    no
## 2 standard Squamous 411 dead  70        5  64   yes
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-246" style="background:;">
  <hgroup>
    <h2>Importing data into R with <code>read.table()</code></h2>
  </hgroup>
  <article data-timings="">
    <p>Some other notes about <code>read.table()</code>.</p>

<ul>
<li><p><code>file=</code> can represent either:</p>

<ul>
<li>A directory/location of a local file</li>
<li>A text mode connection (more on <code>?connections</code> at the end of the module)</li>
<li>A URL</li>
</ul></li>
<li><p><code>sep=</code> can take on variety of separators:</p>

<ul>
<li>comma: <code>sep=&quot;,&quot;</code></li>
<li>tab: <code>sep=&quot;\t&quot;</code></li>
<li>semicolon: <code>sep=&quot;;&quot;</code></li>
<li>whitespace: <code>sep=&quot; &quot;</code></li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-247" style="background:;">
  <hgroup>
    <h2><code>read.table()</code> versus <code>read.csv()</code></h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>read.csv()</code> function is simply a convenience wrapper for <code>read.table()</code>. In other words, it simply specifies the default separator as <code>sep=&quot;,&quot;</code>. </p>

<pre><code class="r">X &lt;- read.csv(&quot;/Users/chris/Documents/Rlecture/DataExamples/VAlung.csv&quot;,header=TRUE)
head(X, n=2)
</code></pre>

<pre><code>##    therapy     cell   t dead kps diagtime age prior
## 1 standard Squamous  72 dead  60        7  69    no
## 2 standard Squamous 411 dead  70        5  64   yes
</code></pre>

<pre><code class="r">X &lt;- read.table(&quot;/Users/chris/Documents/Rlecture/DataExamples/VAlung.csv&quot;,header=TRUE, sep=&quot;,&quot;)
head(X, n=2)
</code></pre>

<pre><code>##    therapy     cell   t dead kps diagtime age prior
## 1 standard Squamous  72 dead  60        7  69    no
## 2 standard Squamous 411 dead  70        5  64   yes
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-248" style="background:;">
  <hgroup>
    <h2>Excel and R</h2>
  </hgroup>
  <article data-timings="">
    <p>Arguably, Excel is the most popular format for exchanging datasets (either .xls or .xlsx file extensions). There exist a number of ways for importing Excel data into R. </p>

<p>R-blogger - Nicola Sommacal - lists a number of methods for importing .xls files <a href="http://www.r-bloggers.com/read-excel-files-from-r/">here</a>. </p>

<p>Note: Importing Excel data can sometimes be challenging. It can depend on what OS you are running, what drivers you have installed, and availability of other third-party software (e.g. availability of Perl, Java, or other software). My naive workflow usually consists of saving the .xls files as .csv and importing data with <code>read.csv()</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-249" style="background:;">
  <hgroup>
    <h2>Excel and R</h2>
  </hgroup>
  <article data-timings="">
    <p>I&#39;ve found that the <code>XLConnect</code> packages works well for both .xls and .xlsx packages (caveat: you must install Java for it to work).</p>

<pre><code class="r">suppressPackageStartupMessages(library(XLConnect))
## .xls file extension
X &lt;- loadWorkbook(&quot;/Users/chris/Documents/Rlecture/DataExamples/VAlung.xls&quot;)
Y &lt;- readWorksheet(X, sheet = &quot;VAlung&quot;, header = TRUE)
</code></pre>

<pre><code>## Error: unable to find an inherited method for function &#39;readWorksheet&#39; for
## signature &#39;&quot;jobjRef&quot;, &quot;character&quot;&#39;
</code></pre>

<pre><code class="r">head(Y,n=1)
</code></pre>

<pre><code>## Error: error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;head&#39;: Error: object &#39;Y&#39; not found
</code></pre>

<pre><code class="r">## .xlsx file extension
A &lt;- loadWorkbook(&quot;/Users/chris/Documents/Rlecture/DataExamples/VAlung.xlsx&quot;)
B &lt;- readWorksheet(A, sheet = &quot;VAlung&quot;, header = TRUE)
</code></pre>

<pre><code>## Error: unable to find an inherited method for function &#39;readWorksheet&#39; for
## signature &#39;&quot;jobjRef&quot;, &quot;character&quot;&#39;
</code></pre>

<pre><code class="r">head(B,n=1)
</code></pre>

<pre><code>## Error: error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;head&#39;: Error: object &#39;B&#39; not found
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-250" style="background:;">
  <hgroup>
    <h2>Excel and R</h2>
  </hgroup>
  <article data-timings="">
    <p>Another useful package for importing/exporting Excel data to/from are is <code>xlsx</code>. </p>

<pre><code class="r">suppressPackageStartupMessages(library(xlsx))
## .xlsx file extension
A &lt;- read.xlsx(&quot;/Users/chris/Documents/Rlecture/DataExamples/VAlung.xlsx&quot;, sheetName=&quot;VAlung&quot;)
head(A,n=1)
</code></pre>

<pre><code>##    therapy     cell  t dead kps diagtime age prior
## 1 standard Squamous 72 dead  60        7  69    no
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-251" style="background:;">
  <hgroup>
    <h2>R and SPSS, STATA and SAS files</h2>
  </hgroup>
  <article data-timings="">
    <p>More rarely, collaborators send me their SPSS, SAS or STATA files. These can be read into R using functions from the <code>foreign</code> package. The <code>Hmisc</code> package also has useful utilities. </p>

<pre><code class="r">suppressPackageStartupMessages(library(foreign))
stata &lt;- read.dta(&quot;/Users/chris/Documents/Rlecture/DataExamples/VAlung.dta&quot;)
head(stata, n=1)
</code></pre>

<pre><code>##    therapy     cell  t dead kps diagtime age prior
## 1 standard Squamous 72 dead  60        7  69    no
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-252" style="background:;">
  <hgroup>
    <h2>R and SPSS, STATA and SAS files</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(foreign))
spss &lt;- read.spss(&quot;/Users/chris/Documents/Rlecture/DataExamples/valung.sav&quot;,to.data.frame=TRUE)
</code></pre>

<pre><code>## Error: file &#39;/Users/chris/Documents/Rlecture/DataExamples/valung.sav&#39; is
## not in any supported SPSS format
</code></pre>

<pre><code class="r">head(spss, n=1)
</code></pre>

<pre><code>## Error: error in evaluating the argument &#39;x&#39; in selecting a method for function &#39;head&#39;: Error: object &#39;spss&#39; not found
</code></pre>

<p>The warning message I got on Windows does not seem to have impacted data quality. And more can be learned about its source <a href="https://stat.ethz.ch/pipermail/r-help/2003-December/043695.html">here</a>.</p>

<p>On Mac I cannot seem to download the <code>.sav</code> file. This might be because I don&#39;t have SPSS installed on this operating system?</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-253" style="background:;">
  <hgroup>
    <h2>R and SPSS, STATA and SAS files</h2>
  </hgroup>
  <article data-timings="">
    <p>Importing SAS files (.sas7bdat extensions) seems more challenging. </p>

<ul>
<li>It appears you might need SAS installed for some solutions.</li>
<li>Or possibly collaborators must send the SAS file not as a .sas7bdat file, but some intermediary export file instead.</li>
</ul>

<p>I do not pursue this technicality here. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-254" style="background:;">
  <hgroup>
    <h2>R and Databases</h2>
  </hgroup>
  <article data-timings="">
    <p>R has functionality to connect, read/write and append data to many types of data bases. Some useful information can be found <a href="http://www.statmethods.net/input/dbinterface.html">here</a> and <a href="http://www.ibm.com/developerworks/data/library/techarticle/dm-1402db2andr/index.html?ca=drs">here</a>.</p>

<p>Some useful packages to consider include:</p>

<ul>
<li><code>RODBC</code></li>
<li><code>RMySQL</code></li>
<li><code>ROracle</code></li>
<li><code>RJDBC</code></li>
</ul>

<p>Spector, Matloff, Chambers and other discuss the topic of R connectivity with databases in their books. I do not pursue interfacing R with databases in this workshop. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-255" style="background:;">
  <hgroup>
    <h2>Exporting Objects Out of R</h2>
  </hgroup>
  <article data-timings="">
    <p>The most important functions in base R for these tasks are likely <code>write.table()</code> and <code>write.csv()</code>.</p>

<pre><code class="r">suppressPackageStartupMessages(library(datasets))
head(cars,2)
</code></pre>

<pre><code>##   speed dist
## 1     4    2
## 2     4   10
</code></pre>

<pre><code class="r">write.csv(x=cars, file=&quot;/Users/chris/Documents/Rlecture/DataExamples/cars.csv&quot;, row.names=FALSE)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-256" style="background:;">
  <hgroup>
    <h2>Connections in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Connections provide a flexible way to read/write data to/from R. They offer the user more control than the pre-built functions like <code>read.table()</code>.</p>

<p>Type <code>?connections</code> into the console to learn a lot more!!</p>

<table><thead>
<tr>
<th>Function</th>
<th align="right">Data Source</th>
</tr>
</thead><tbody>
<tr>
<td><code>file()</code></td>
<td align="right">Files on local system</td>
</tr>
<tr>
<td><code>pipe()</code></td>
<td align="right">Output from a command</td>
</tr>
<tr>
<td><code>textConnection()</code></td>
<td align="right">Treats text as a file</td>
</tr>
<tr>
<td><code>gzfile()</code></td>
<td align="right">Local gzipped file</td>
</tr>
<tr>
<td><code>unz()</code></td>
<td align="right">Local zip archive with single file (read only)</td>
</tr>
<tr>
<td><code>bzfile()</code></td>
<td align="right">Local bzipped file</td>
</tr>
<tr>
<td><code>url()</code></td>
<td align="right">Remote file via http</td>
</tr>
<tr>
<td><code>socketConnection()</code></td>
<td align="right">Socket for client or server programs</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-257" style="background:;">
  <hgroup>
    <h2>Reading data from the Internet via <code>url()</code></h2>
  </hgroup>
  <article data-timings="">
    <p>The Virginia lung cancer dataset can be found <a href="http://biostat.mc.vanderbilt.edu/wiki/pub/Main/DataSets/valung.csv">here</a> in .csv format. </p>

<p>We will download it using a call to <code>url()</code>:</p>

<pre><code class="r">valungurl &lt;- url(&quot;http://biostat.mc.vanderbilt.edu/wiki/pub/Main/DataSets/valung.csv&quot;)
X &lt;- read.csv(valungurl,header=TRUE)
head(X,n=2)
</code></pre>

<pre><code>##    therapy     cell   t dead kps diagtime age prior
## 1 standard Squamous  72 dead  60        7  69    no
## 2 standard Squamous 411 dead  70        5  64   yes
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-258" style="background:;">
  <hgroup>
    <h2>Input/Output in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We have quickly glossed over the import and export capabilities in R. I have highlighted functions that I use most often. This is not a complete overview of R&#39;s capabilities. </p>

<p>Read the <a href="http://cran.r-project.org/doc/manuals/r-release/R-data.html">import/export manual</a> on CRAN for full details. </p>

<p>Some basic functions we have skipped include:</p>

<ul>
<li><code>readLines()</code>, <code>writeLines()</code>, <code>readBin()</code>, <code>scan()</code></li>
<li><code>read.fwf()</code> is useful for reading data in fixed width format.</li>
</ul>

<p>Read in BIG data in R is possible!! Check out this <a href="http://stackoverflow.com/questions/1727772/quickly-reading-very-large-tables-as-dataframes-in-r">SO thread</a> for more info. There exist some great packages for dealing with BIG data in R. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-259" style="background:;">
  <hgroup>
    <h2>Lab Session (10 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-260" style="background:;">
  <hgroup>
    <h2>Input/Output in R</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li><p>Delete some elements of data from the <code>VAlung.csv</code> file. Save this new file as something new. Experiment with the <code>na.strings=</code> argument in <code>read.csv()</code>. Also, fool around with the <code>col.names</code> and <code>colClasses</code> arguments to read in certain character variables as factors/strings with default versus more sensible column names. </p></li>
<li><p>Check out the <a href="http://biostat.mc.vanderbilt.edu/wiki/Main/DataSets?CGISESSID=10713f6d891653ddcbb7ddbdd9cffb79">following site</a> containing example datasets in statistics. At the bottom of the page is a dataset called <code>Support2</code>. Try to download the .zip file, unzip the archive containing a single file, and read the contents into an R dataframe. A hint on how to do it can be found <a href="http://stackoverflow.com/questions/3053833/using-r-to-download-zipped-data-file-extract-and-import-data">here</a>. And now you know some more cool R functions like <code>tempfile()</code> and <code>download.file()</code>.</p></li>
</ol>

<pre><code>## [1] 9105   47
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-261" style="background:;">
  <hgroup>
    <h2>R Graphics</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-262" style="background:;">
  <hgroup>
    <h2>R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>The ease at which publication quality graphics can be created is one of the major strengths of R relative to competing statistcal programming packages.</p>

<p>Chambers describes the components of a computational graphics system well. Basically, there are 3 parts:</p>

<ul>
<li>Graphics elements which describe what is actually drawn.</li>
<li>Positioning indicators which describe where graphics elements are located.</li>
<li>Control parameters which define how graphical elements can be modified.</li>
</ul>

<p>The core of the graphics is really built upon <code>lines()</code>, <code>segments()</code>, <code>points()</code>, <code>text()</code>, <code>colours()</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-263" style="background:;">
  <hgroup>
    <h2>R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>The books by <a href="http://www.amazon.com/Graphics-Second-Edition-Chapman-Series/dp/1439831769">Paul Murrell</a>, <a href="http://www.amazon.com/ggplot2-Elegant-Graphics-Data-Analysis/dp/0387981403/ref=sr_1_1?ie=UTF8&amp;qid=1400472285&amp;sr=8-1&amp;keywords=ggplot2">Hadley Wickham</a> and <a href="http://www.amazon.com/Lattice-Multivariate-Data-Visualization-Use/dp/0387759689/ref=sr_1_1?ie=UTF8&amp;qid=1400472331&amp;sr=8-1&amp;keywords=lattice+data">Deepayan Sarkar</a> do an excellent job describing base R <code>graphics</code>, <code>grid</code> graphics, <code>ggplot2</code> and <code>lattice</code>, respectively. </p>

<p>The book by <a href="http://www.amazon.com/R-Graphics-Cookbook-Winston-Chang/dp/1449316956/ref=sr_1_1?ie=UTF8&amp;qid=1400472251&amp;sr=8-1&amp;keywords=r+graphics+cookbook">Winston Chang</a> is an excellent cookbook descriibing how to develop graphics in ggplot2 and other R facilities. </p>

<p>Additional resources for learning the various graphics systems and packages in R exist on the web. Some useful learning resources that I have found include:</p>

<ul>
<li><a href="http://cran.r-project.org/web/views/Graphics.html">CRAN Graphics Task View</a></li>
<li><a href="https://www.stat.auckland.ac.nz/%7Epaul/RGraphics/rgraphics.html">Paul Murrell, R Graphics Website</a></li>
<li><a href="http://docs.ggplot2.org/current/">Hadley Wickham, ggplot2 Website</a></li>
<li><a href="http://lmdvr.r-forge.r-project.org/figures/figures.html">Deepayan Sarkar, lattice Website</a></li>
<li><a href="http://learnr.files.wordpress.com/2009/08/latbook.pdf">lattice graphs made with ggplot2</a></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-264" style="background:;">
  <hgroup>
    <h2>R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>Murrell (section 1.2) suggests that R graphics functionality can be thought of in 4 layers:</p>

<ul>
<li>Graphics Device Packages (<code>gtkDevice</code>)</li>
<li>Graphics Engine and Devices (<code>grDevices</code>)</li>
<li>Graphics Systems (<code>graphics</code> and <code>grid</code>)</li>
<li>Graphics Packages (<code>lattice</code>, <code>ggplot2</code>, etc...)</li>
</ul>

<p>The <code>grDevices</code> provide support for fundamental graphics tasks such as drawing lines, handling fonts, or adjusting colours. </p>

<p>Functions related to traditional or base R graphics exist in the <code>graphics</code> system. There are high level functions for proudcing full plots, and low-level functions for modifying/adding elements to existing plots.</p>

<p><code>lattice</code> and <code>ggplot2</code> are graphics packages that are built of the <code>grid</code> graphics system. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-265" style="background:;">
  <hgroup>
    <h2>Which Graphics Functions to Use?</h2>
  </hgroup>
  <article data-timings="">
    <p>The fact that R has two graphics systems and multiple graphics engines to choose from can sometimes confuse newcomers to the language.</p>

<p>Typically, it is easiest to learn base R graphics first. Then learn more advanced plotting packages once having mastered base R graphics; graduating to <code>ggplot2</code> and <code>lattice</code>.  </p>

<p>That said, the choice is somewhat also dependent on the objectives of the task. Certain tasks being better suited towards the base <code>graphicss</code> system and other being better suited for the more complex <code>grid</code> based system and packages. </p>

<ul>
<li>If you need a single plot that is produced by one of base R <code>graphics</code> high level functions, then base R <code>graphics</code> is a great fit.</li>
<li>For producing graphical scenes starting from a blank page, the grid system offers the benefit of a much wider range of possibilities, at the cost of a having to learn a few additional concepts.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-266" style="background:;">
  <hgroup>
    <h2>Base R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>R&#39;s base graphics are implemented in the same way as in the S3 system developed by Becker, Chambers, and Wilks. There is a static device, which is treated as a static canvas and objects are drawn on the device through R plotting commands. You build up a picture by drawing fixed things on it, and once something is drawn, it is permanent, though you might be able to cover it with something else, or move to a clean sheet of paper. Since the very beginning, base graphics has been designed to allow easy production of good quality scientific plots.</p>

<p>The device has a set of global parameters such as margins and layouts which can be manipulated by the user using <code>par()</code> commands. The R graphics engine does not maintain a user visible graphics list, and there is no system of double buffering, so objects cannot be easily edited without redrawing a whole plot.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-267" style="background:;">
  <hgroup>
    <h2><code>grid</code> Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>grid</code> package provides the basis for a newer graphics system. It also has facilities to produce good quality graphics, but the programmer has access to the individual pieces of a graph, and can modify them: a graph is more like a physical model being built and displayed, rather than just drawn.</p>

<p><code>grid</code> was designed by Paul Murrell to overcome some of the limitations of the &quot;ink and canvas&quot; approach of base R <code>graphics</code>. And as a result packages like <code>lattice</code>, <code>ggplot2</code>, and others use <code>grid</code> for the underlying primitives. </p>

<p>When using plots designed with <code>grid</code> one needs to keep in mind that <code>grid</code> is based on a system of viewports and graphic objects. To add objects one needs to use grid commands.</p>

<p><code>grid</code> maintains a stack of viewports from the device and one needs to make sure the desired viewport is at the top of the stack.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-268" style="background:;">
  <hgroup>
    <h2>Graphical Output and Graphics Devices</h2>
  </hgroup>
  <article data-timings="">
    <p>Graphical output refers to the objects produced from calls to high-level and low-level functions in R; whereas, graphical devices refer more specifically to where graphical information is directed.</p>

<p>Output is directed to a particular output device and that dictates which output format a specific graphic will be rendered in. A device must be created or “opened” in order to receive graphical output and, for devices that create a file on disk, the device must also be closed in order to complete the output.</p>

<p>GUI output devices include:</p>

<ul>
<li><code>x11()</code> in Linux OS</li>
<li><code>windows()</code> in the Windows OS</li>
<li><code>quartz()</code> in the Max OS</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-269" style="background:;">
  <hgroup>
    <h2>Graphical Output and Graphics Devices</h2>
  </hgroup>
  <article data-timings="">
    <p>When executing R in batch mode. Or when sourcing files from R scripts graphical output is not directed to the screen. Rather it is stored/saved to a location/directory using the proper graphics device format. Some examples include (<code>?Devices</code>): </p>

<ul>
<li><code>pdf()</code></li>
<li><code>postscript()</code></li>
<li><code>svg()</code></li>
<li><code>png()</code></li>
<li><code>jpeg()</code></li>
<li><code>bmp()</code></li>
<li><code>tiff()</code></li>
</ul>

<p>The <code>dev.off()</code> function is used to close a graphics device and complete graphical output. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-270" style="background:;">
  <hgroup>
    <h2>An Overview of this Module</h2>
  </hgroup>
  <article data-timings="">
    <p>This module will take a more cookbook oriented approach to graphics. Basically, we will list a number of important statistical graphics below and demonstrate how they are created in R. </p>

<ul>
<li>Pie chart</li>
<li>Bar chart</li>
<li>Dot chart</li>
<li>Histograms </li>
<li>1-D and 2-D Density estimators</li>
<li>Box plots</li>
<li>Scatterplots</li>
<li>Line graphs</li>
<li>Mathematical curves</li>
<li>Some more esoteric plots</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-271" style="background:;">
  <hgroup>
    <h2>An Overview of this Module</h2>
  </hgroup>
  <article data-timings="">
    <p>In base R <code>graphics</code> almost all of the aforementioned functions have an associated high-level function which can be called to create the plot. Other high/low level characteristics can be modified as arguments in the function call itself or by modifying the plot after it is generated.</p>

<p><code>lattice</code> works similarly in that it is comprised of many high level functions which will simply produce the above graphs. However, it operates slightly differently, specifically using the model formula operator (?&quot;~&quot;) to describe relationships between variables. <code>lattice</code> is theoretically based off the work of <a href="http://www.amazon.ca/Visualizing-Data-William-S-Cleveland/dp/0963488406">Bill Cleveland</a>. It is incredibly useful at describing multivariate relationships using a trellis, lattice, facets, etc. type of approach. </p>

<p><code>ggplot2</code> creates graphics in quite a different manner than the other two approaches. It is based off the work of <a href="http://www.amazon.ca/Grammar-Graphics-Leland-Wilkinson/dp/1441920331/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1402262286&amp;sr=1-1&amp;keywords=grammar+of+graphics">Leyland Wilkinson</a> and the grammar of graphics. The work horse of <code>ggplot2</code> is the <code>ggplot()</code> function which takes on data arguments. The user then adds various <code>geoms</code> or geometric objects to create the desired graph. <code>ggplot2</code> also supports multivariate data visualization through the use of facetted displays. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-272" style="background:;">
  <hgroup>
    <h2>Base R graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>plot()</code> function is the workhorse of base R graphics. <code>plot()</code> is a generic function in R, and will typically produce a sensible graphic depending on the type of input it is provided (e.g. numeric, categorical, etc.).</p>

<p>Graphical parmaeters can be controlled with the <code>par()</code> function.</p>

<p>For example, one can control margins, plot size, lines, text, colour, etc. Below we demonstrate some standard plots illustrating the base R plotting regions. These are adapted from Ch. 3 of Murrell.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-273" style="background:;">
  <hgroup>
    <h2>Base R graphics</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/base_marg1.png" title="plot of chunk base_marg1" alt="plot of chunk base_marg1" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-274" style="background:;">
  <hgroup>
    <h2>Base R graphics</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/base_plotreg.png" title="plot of chunk base_plotreg" alt="plot of chunk base_plotreg" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-275" style="background:;">
  <hgroup>
    <h2>Base R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>Use <code>?par</code> to learn more about functions that can control plotting in R (MASS: Table 4.3):</p>

<table><thead>
<tr>
<th><code>par()</code>  argument</th>
<th align="right">Functionality</th>
</tr>
</thead><tbody>
<tr>
<td><code>din</code> <code>fin</code> and <code>pin</code></td>
<td align="right">Device size, figure size and plot size in inches</td>
</tr>
<tr>
<td><code>fig</code></td>
<td align="right">Define figure region as fraction of device region</td>
</tr>
<tr>
<td><code>mai</code> and <code>mar</code></td>
<td align="right">Margin sizes in inches or number of lines</td>
</tr>
<tr>
<td><code>mfrow</code> and <code>mfcol</code></td>
<td align="right">Define the multi-figure display</td>
</tr>
<tr>
<td><code>oma</code> <code>omi</code> and <code>omd</code></td>
<td align="right">Define outer margins in lines, inches or as fraction device region</td>
</tr>
<tr>
<td><code>plt</code></td>
<td align="right">Define plot region as fraction of figure region</td>
</tr>
<tr>
<td><code>pty</code></td>
<td align="right">Define type or shape of plotting region</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-276" style="background:;">
  <hgroup>
    <h2>Base R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>Other commonly used arguments with base R <code>graphics</code> include (MASS, Table 4.4):</p>

<table><thead>
<tr>
<th>Global control</th>
<th><code>par()</code>  argument</th>
<th align="right">Functionality</th>
</tr>
</thead><tbody>
<tr>
<td>Text</td>
<td><code>adj</code></td>
<td align="right">Text justification (0=left, 0.5=center, 1=right)</td>
</tr>
<tr>
<td>Text</td>
<td><code>font</code></td>
<td align="right">Device dependent font control</td>
</tr>
<tr>
<td>Text</td>
<td><code>cex</code></td>
<td align="right">Character expansion/size</td>
</tr>
<tr>
<td>Symbols</td>
<td><code>col</code></td>
<td align="right">Colour</td>
</tr>
<tr>
<td>Symbols</td>
<td><code>lty</code> and <code>lwd</code></td>
<td align="right">Line type and width</td>
</tr>
<tr>
<td>Symbols</td>
<td><code>pch</code></td>
<td align="right">Plotting character type</td>
</tr>
<tr>
<td>Axes</td>
<td><code>xaxt</code> and <code>yaxt</code></td>
<td align="right">Can be used to supress plotting x-y axes (<code>=&quot;n&quot;</code>)</td>
</tr>
<tr>
<td>Axes</td>
<td><code>bty</code></td>
<td align="right">Box type around perimter of plot</td>
</tr>
<tr>
<td>Axes</td>
<td><code>lab</code></td>
<td align="right">Control plot labels</td>
</tr>
<tr>
<td>Axes</td>
<td><code>las</code></td>
<td align="right">Control label rotation: horizontal, vertical, slanted</td>
</tr>
<tr>
<td>Axes</td>
<td><code>tck</code></td>
<td align="right">Control tick marks</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-277" style="background:;">
  <hgroup>
    <h2>Base R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>Other commonly used high level arguments with base R <code>graphics</code> include (MASS, Table 4.4):</p>

<table><thead>
<tr>
<th>Global control</th>
<th><code>par()</code>  argument</th>
<th align="right">Functionality</th>
</tr>
</thead><tbody>
<tr>
<td>High level</td>
<td><code>axes</code></td>
<td align="right">Print axes (TRUE/FALSE)</td>
</tr>
<tr>
<td>High level</td>
<td><code>main</code></td>
<td align="right">Main plot title</td>
</tr>
<tr>
<td>High level</td>
<td><code>sub</code></td>
<td align="right">Plot sub-title</td>
</tr>
<tr>
<td>High level</td>
<td><code>xlab</code> and <code>ylab</code></td>
<td align="right">x-y axis labels</td>
</tr>
<tr>
<td>High level</td>
<td><code>xlim</code> and <code>ylim</code></td>
<td align="right">x-y axis limits</td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-278" style="background:;">
  <hgroup>
    <h2><code>lattice</code> and <code>ggplot2</code></h2>
  </hgroup>
  <article data-timings="">
    <p>Similar <code>grid</code> graphics objects (<code>grobs</code>) and <code>viewports</code> can be used to achieve fine-tuned control over the plots produced by <code>lattice</code> and <code>ggplot2</code>. A wealth of information on <code>grid</code> can be found <a href="https://www.stat.auckland.ac.nz/%7Epaul/grid/grid.html">here</a>.</p>

<p>In general, the plots produced by <code>lattice</code> and <code>ggplot2</code> have been designed to be high quality and require only a little tweaking. So if you need to really adjust graphical output from these two packages grab one of the books cited or check out some documentation on the web.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-279" style="background:;">
  <hgroup>
    <h2><code>graphics</code>, <code>lattice</code> and <code>ggplot2</code></h2>
  </hgroup>
  <article data-timings="">
    <table><thead>
<tr>
<th>Plot type</th>
<th><code>graphics</code></th>
<th><code>lattice</code></th>
<th align="right"><code>ggplot2</code></th>
</tr>
</thead><tbody>
<tr>
<td>Pie graph</td>
<td><code>pie()</code></td>
<td></td>
<td align="right"></td>
</tr>
<tr>
<td>Bar chart</td>
<td><code>barplot()</code></td>
<td><code>barchart()</code></td>
<td align="right"><code>geom_bar()</code></td>
</tr>
<tr>
<td>Dot chart</td>
<td><code>dotchart()</code></td>
<td><code>dotplot()</code></td>
<td align="right"><code>geom_dotplot()</code></td>
</tr>
<tr>
<td>Histograms</td>
<td><code>hist()</code></td>
<td><code>histogram()</code></td>
<td align="right"><code>geom_histogram()</code></td>
</tr>
<tr>
<td>Density estimators</td>
<td><code>plot(density())</code></td>
<td><code>densityplot()</code></td>
<td align="right"><code>geom_density()</code></td>
</tr>
<tr>
<td>Box plots</td>
<td><code>boxplot()</code></td>
<td><code>bwplot()</code></td>
<td align="right"><code>geom_boxplot()</code></td>
</tr>
<tr>
<td>Scatterplots</td>
<td><code>plot(...,type=&quot;p&quot;)</code></td>
<td><code>xyplot()</code></td>
<td align="right"><code>geom_point()</code></td>
</tr>
<tr>
<td>2D Density estimators</td>
<td><code>kde2d()</code></td>
<td><code>contourplot()</code></td>
<td align="right"><code>geom_density2d()</code></td>
</tr>
<tr>
<td>Time Series Line graphs</td>
<td><code>plot(...,type=&quot;l&quot;)</code></td>
<td><code>xyplot()</code></td>
<td align="right"><code>geom_line()</code></td>
</tr>
<tr>
<td>Logitudinal Interaction Plots</td>
<td><code>interaction.plot()</code></td>
<td><code>xyplot()</code></td>
<td align="right"><code>geom_line()</code></td>
</tr>
<tr>
<td>Mathematical curves</td>
<td><code>curve()</code></td>
<td><code>xyplot()</code></td>
<td align="right"><code>geom_line()</code></td>
</tr>
</tbody></table>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-280" style="background:;">
  <hgroup>
    <h2>Pie Graphs</h2>
  </hgroup>
  <article data-timings="">
    <p>Pie graphs are very easy to make in base R - just call <code>pie()</code>:</p>

<pre><code class="r">set.seed(123)
a &lt;- sample(LETTERS[1:3],10,replace=TRUE)
table(a)
</code></pre>

<pre><code>## a
## A B C 
## 2 4 4
</code></pre>

<pre><code class="r">pie(table(a))
</code></pre>

<p><img src="assets/fig/graph_basepie.png" title="plot of chunk graph_basepie" alt="plot of chunk graph_basepie" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-281" style="background:;">
  <hgroup>
    <h2>Bar Graphs</h2>
  </hgroup>
  <article data-timings="">
    <p>For this bar graph example we are going to consider the <code>VADeaths</code> dataset which comes shipped in the <code>datasets</code> matrix in tabular form:</p>

<pre><code class="r">suppressPackageStartupMessages(library(datasets))
VADeaths
</code></pre>

<pre><code>##       Rural Male Rural Female Urban Male Urban Female
## 50-54       11.7          8.7       15.4          8.4
## 55-59       18.1         11.7       24.3         13.6
## 60-64       26.9         20.3       37.0         19.3
## 65-69       41.0         30.9       54.6         35.1
## 70-74       66.0         54.3       71.1         50.0
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-282" style="background:;">
  <hgroup>
    <h2>Bar Graphs</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">barplot(VADeaths,beside=TRUE,col=rainbow(5),ylab=&quot;Death Rate&quot;,xlab=&quot;Population Sub-Group&quot;,ylim=c(0,100),cex.names=0.7)
legend(&quot;topright&quot;,legend=c(&quot;50-54&quot;,&quot;55-59&quot;,&quot;60-64&quot;,&quot;65-69&quot;,&quot;70-74&quot;),col=rainbow(5),fill=rainbow(5),bty=&quot;n&quot;)
</code></pre>

<p><img src="assets/fig/graph_basebarp.png" title="plot of chunk graph_basebarp" alt="plot of chunk graph_basebarp" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-283" style="background:;">
  <hgroup>
    <h2>Bar Graphs</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(lattice))
suppressPackageStartupMessages(library(reshape2))
aa &lt;- melt(VADeaths,id.vars=colnames(VADeaths),value.name=&quot;Death.Rate&quot;)
barchart(Death.Rate ~ Var2, group=Var1, data=aa, ylim=c(0,100), ylab=&quot;Death Rate&quot;, xlab=&quot;Population Sub-Group&quot;, auto.key=TRUE)
</code></pre>

<p><img src="assets/fig/graph_latbarp.png" title="plot of chunk graph_latbarp" alt="plot of chunk graph_latbarp" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-284" style="background:;">
  <hgroup>
    <h2>Bar Graphs</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(ggplot2))
ggplot(aa, aes(x=Var2,y=Death.Rate,fill=Var1)) + geom_bar(position=position_dodge(),colour=&quot;black&quot;,stat=&quot;identity&quot;)  + xlab(&quot;Population Sub-Groups&quot;) + ylab(&quot;Death Rate&quot;) + scale_y_continuous(limits=c(0,100),expand = c(0,0)) + theme_bw() 
</code></pre>

<p><img src="assets/fig/graph_ggbarp.png" title="plot of chunk graph_ggbarp" alt="plot of chunk graph_ggbarp" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-285" style="background:;">
  <hgroup>
    <h2>Dot Charts</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">dotchart(VADeaths, xlab=&quot;Death Rate&quot;)
</code></pre>

<p><img src="assets/fig/graph_basedot.png" title="plot of chunk graph_basedot" alt="plot of chunk graph_basedot" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-286" style="background:;">
  <hgroup>
    <h2>Dot Charts</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">dotplot(Var1~Death.Rate|Var2,data=aa,layout=c(1,5),xlab=&quot;Death Rate&quot;,ylab=&quot;Population Sub-Group&quot;)
</code></pre>

<p><img src="assets/fig/graph_latdot.png" title="plot of chunk graph_latdot" alt="plot of chunk graph_latdot" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-287" style="background:;">
  <hgroup>
    <h2>Dot Charts</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(aa, aes(x=Death.Rate,y=Var1)) + geom_point(size=2) + facet_grid(Var2~.)
</code></pre>

<p><img src="assets/fig/graph_ggdot.png" title="plot of chunk graph_ggdot" alt="plot of chunk graph_ggdot" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-288" style="background:;">
  <hgroup>
    <h2>Histograms</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(1234)
a &lt;- data.frame(a=rnorm(1000))
hist(a$a,xlab=&quot;Support&quot;,main=&quot;Histogram of Normal RVs&quot;,xlim=c(-4,4),ylim=c(0,250))
</code></pre>

<p><img src="assets/fig/graph_basehist1.png" title="plot of chunk graph_basehist1" alt="plot of chunk graph_basehist1" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-289" style="background:;">
  <hgroup>
    <h2>Histograms</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">histogram(~a,data=a,xlab=&quot;Support&quot;,main=&quot;Histogram of Normal RVs&quot;,xlim=c(-4,4),ylim=c(0,250),type=&quot;count&quot;,col=&quot;white&quot;,breaks=15)
</code></pre>

<p><img src="assets/fig/graph_lathist.png" title="plot of chunk graph_lathist" alt="plot of chunk graph_lathist" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-290" style="background:;">
  <hgroup>
    <h2>Histograms</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(a, aes(x=a)) + geom_histogram(binwidth=0.5,, colour=&quot;black&quot;, fill=&quot;white&quot;) + theme_bw() + xlab(&quot;Support&quot;)
</code></pre>

<p><img src="assets/fig/graph_gghist.png" title="plot of chunk graph_gghist" alt="plot of chunk graph_gghist" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-291" style="background:;">
  <hgroup>
    <h2>Density Curves</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">plot(density(a$a),type=&quot;l&quot;,col=&quot;red&quot;,lwd=2,xlab=&quot;Support&quot;,main=&quot;KDE Normal RVs&quot;)
</code></pre>

<p><img src="assets/fig/graph_basedens.png" title="plot of chunk graph_basedens" alt="plot of chunk graph_basedens" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-292" style="background:;">
  <hgroup>
    <h2>Density Curves</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">densityplot(~a,data=a,xlab=&quot;Support&quot;,main=&quot;KDE Normal RVs&quot;,col=&quot;red&quot;,lwd=2,plot.points=&quot;rug&quot;)
</code></pre>

<p><img src="assets/fig/graph_latdens.png" title="plot of chunk graph_latdens" alt="plot of chunk graph_latdens" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-293" style="background:;">
  <hgroup>
    <h2>Density Curves</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(a, aes(x=a)) + geom_line(stat=&quot;density&quot;, colour=&quot;red&quot;, lwd=2, lty=2) + theme_bw() + xlab(&quot;Support&quot;)
</code></pre>

<p><img src="assets/fig/graph_ggdens.png" title="plot of chunk graph_ggdens" alt="plot of chunk graph_ggdens" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-294" style="background:;">
  <hgroup>
    <h2>Box plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">boxplot(a$a,ylab=&quot;Support&quot;)
</code></pre>

<p><img src="assets/fig/graph_basebw.png" title="plot of chunk graph_basebw" alt="plot of chunk graph_basebw" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-295" style="background:;">
  <hgroup>
    <h2>Box plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a$f &lt;- factor(rep(1,length(a$a)))
bwplot(a~f,data=a,ylab=&quot;Support&quot;,xlab=&quot;&quot;,label=c(&quot;&quot;))
</code></pre>

<p><img src="assets/fig/graph_latbw.png" title="plot of chunk graph_latbw" alt="plot of chunk graph_latbw" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-296" style="background:;">
  <hgroup>
    <h2>Box plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(a,aes(y=a, x=f)) + geom_boxplot()
</code></pre>

<p><img src="assets/fig/graph_ggbw.png" title="plot of chunk graph_ggbw" alt="plot of chunk graph_ggbw" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-297" style="background:;">
  <hgroup>
    <h2>X-Y Scatter plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(MASS))
a &lt;- mvrnorm(100,mu=c(0,0),Sigma=matrix(c(1,0.85,0.85,1),ncol=2))
a &lt;- as.data.frame(a)
names(a) &lt;- c(&quot;x&quot;,&quot;y&quot;)
plot(a,main=&quot;X-Y Scatter plot MVN data&quot;,xlim=c(-3,3),ylim=c(-3,3))
</code></pre>

<p><img src="assets/fig/graph_basexy.png" title="plot of chunk graph_basexy" alt="plot of chunk graph_basexy" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-298" style="background:;">
  <hgroup>
    <h2>X-Y Scatter plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">xyplot(y~x,data=a,main=&quot;X-Y Scatter plot MVN data&quot;,xlim=c(-3,3),ylim=c(-3,3))
</code></pre>

<p><img src="assets/fig/graph_latxy.png" title="plot of chunk graph_latxy" alt="plot of chunk graph_latxy" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-299" style="background:;">
  <hgroup>
    <h2>X-Y Scatter plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(a, aes(x=x,y=y)) + geom_point()
</code></pre>

<p><img src="assets/fig/graph_ggxy.png" title="plot of chunk graph_ggxy" alt="plot of chunk graph_ggxy" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-300" style="background:;">
  <hgroup>
    <h2>2D Density Surfaces</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">twoD &lt;- with(a,MASS:::kde2d(x,y))
filled.contour(twoD)
</code></pre>

<p><img src="assets/fig/mass_kde2d.png" title="plot of chunk mass_kde2d" alt="plot of chunk mass_kde2d" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-301" style="background:;">
  <hgroup>
    <h2>2D Density Surfaces</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- as.data.frame(cbind(expand.grid(twoD$x,twoD$y),c(twoD$z)))
names(a) &lt;- c(&quot;x&quot;,&quot;y&quot;,&quot;z&quot;)
contourplot(z~x*y,data=a,cut=20,region=TRUE,xlab=&quot;X&quot;,ylab=&quot;Y&quot;,main=&quot;2D KDE of MVN data&quot;)
</code></pre>

<p><img src="assets/fig/graph_latkde2d.png" title="plot of chunk graph_latkde2d" alt="plot of chunk graph_latkde2d" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-302" style="background:;">
  <hgroup>
    <h2>2D Density Surfaces</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(a, aes(x=x,y=y)) + geom_contour(aes(z=z),data=a)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-160.png" title="plot of chunk unnamed-chunk-160" alt="plot of chunk unnamed-chunk-160" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-303" style="background:;">
  <hgroup>
    <h2>Time Series Line Graphs</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(datasets))
class(AirPassengers)
</code></pre>

<pre><code>## [1] &quot;ts&quot;
</code></pre>

<pre><code class="r">plot(AirPassengers)
</code></pre>

<p><img src="assets/fig/graph_basets.png" title="plot of chunk graph_basets" alt="plot of chunk graph_basets" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-304" style="background:;">
  <hgroup>
    <h2>Time Series Line Graphs</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ap &lt;- melt(AirPassengers)
apd &lt;- seq.Date(from=as.Date(&quot;1949/1/1&quot;),by=&quot;month&quot;,length.out=144)
air &lt;- data.frame(ap=ap,apd=apd)
xyplot(value~apd,data=air,type=&quot;l&quot;)
</code></pre>

<p><img src="assets/fig/graph_latts.png" title="plot of chunk graph_latts" alt="plot of chunk graph_latts" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-305" style="background:;">
  <hgroup>
    <h2>Time Series Line Graphs</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(air, aes(x=apd,y=value)) + geom_line()
</code></pre>

<pre><code>## Don&#39;t know how to automatically pick scale for object of type ts. Defaulting to continuous
</code></pre>

<p><img src="assets/fig/graph_ggts.png" title="plot of chunk graph_ggts" alt="plot of chunk graph_ggts" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-306" style="background:;">
  <hgroup>
    <h2>Longitudinal Plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(datasets))
with(Loblolly, interaction.plot(x.factor=age,trace.factor=Seed,response=height))
</code></pre>

<p><img src="assets/fig/graph_baselong.png" title="plot of chunk graph_baselong" alt="plot of chunk graph_baselong" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-307" style="background:;">
  <hgroup>
    <h2>Longitudinal Plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">xyplot(height~age, data=Loblolly, group=Seed,type=&quot;l&quot;)
</code></pre>

<p><img src="assets/fig/graph_latlong.png" title="plot of chunk graph_latlong" alt="plot of chunk graph_latlong" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-308" style="background:;">
  <hgroup>
    <h2>Longitudinal Plots</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(Loblolly, aes(y=height,x=age,group=Seed)) + geom_line()
</code></pre>

<p><img src="assets/fig/graph_gglong.png" title="plot of chunk graph_gglong" alt="plot of chunk graph_gglong" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-309" style="background:;">
  <hgroup>
    <h2>Plotting Math Functions</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">curve(factorial(x-1),from=1,to=50,n=50,log=&quot;y&quot;)
</code></pre>

<p><img src="assets/fig/graph_basecurve.png" title="plot of chunk graph_basecurve" alt="plot of chunk graph_basecurve" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-310" style="background:;">
  <hgroup>
    <h2>Plotting Math Functions</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">a &lt;- data.frame(x=1:50,y=factorial(1:50))
xyplot(y~x,data=a,type=&quot;l&quot;,scales=list(y=list(log=&quot;e&quot;)))
</code></pre>

<p><img src="assets/fig/graph_latcurve.png" title="plot of chunk graph_latcurve" alt="plot of chunk graph_latcurve" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-311" style="background:;">
  <hgroup>
    <h2>Plotting Math Functions</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(a, aes(x=x,y=y)) + geom_line() + scale_y_log10()
</code></pre>

<p><img src="assets/fig/graph_ggcurve.png" title="plot of chunk graph_ggcurve" alt="plot of chunk graph_ggcurve" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-312" style="background:;">
  <hgroup>
    <h2>Miscellaneous Graphs</h2>
  </hgroup>
  <article data-timings="">
    <p>In the upcoming sections we will talk about a few other graph types, namely:</p>

<ul>
<li>Scatter plot matrices</li>
<li>Plots of correlation matrices</li>
<li>Maps</li>
</ul>

<p>We will make these using which graphics tools we find convenient (many examples come from Chang, ch. 13). Again, not there are most definitely other ways to go about creating these graphical displays, if the functionality does not suit your needs look for other user contributed packages or create your own. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-313" style="background:;">
  <hgroup>
    <h2>Scatter Plot Matrices</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(faraway))
plot(ozone[,1:9])
</code></pre>

<p><img src="assets/fig/graph_basesmat.png" title="plot of chunk graph_basesmat" alt="plot of chunk graph_basesmat" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-314" style="background:;">
  <hgroup>
    <h2>Scatter Plot Matrices</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">pairs(ozone[,1:9])
</code></pre>

<p><img src="assets/fig/graph_basesmat1.png" title="plot of chunk graph_basesmat1" alt="plot of chunk graph_basesmat1" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-315" style="background:;">
  <hgroup>
    <h2>Scatter Plot Matrices</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(lattice))
splom(ozone[1:9])
</code></pre>

<p><img src="assets/fig/graph_latsmat.png" title="plot of chunk graph_latsmat" alt="plot of chunk graph_latsmat" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-316" style="background:;">
  <hgroup>
    <h2>Plotting Correlation Matrices</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">cormat &lt;- cor(scale(ozone[,1:9]))
round(cormat,digits=2)
</code></pre>

<pre><code>##             O3    vh  wind humidity  temp   ibh   dpg   ibt   vis
## O3        1.00  0.61  0.00     0.45  0.78 -0.59  0.21  0.75 -0.44
## vh        0.61  1.00 -0.23     0.07  0.81 -0.50 -0.15  0.85 -0.36
## wind      0.00 -0.23  1.00     0.22 -0.01  0.20  0.34 -0.16  0.13
## humidity  0.45  0.07  0.22     1.00  0.34 -0.24  0.65  0.20 -0.40
## temp      0.78  0.81 -0.01     0.34  1.00 -0.53  0.19  0.86 -0.39
## ibh      -0.59 -0.50  0.20    -0.24 -0.53  1.00  0.04 -0.78  0.39
## dpg       0.21 -0.15  0.34     0.65  0.19  0.04  1.00 -0.10 -0.13
## ibt       0.75  0.85 -0.16     0.20  0.86 -0.78 -0.10  1.00 -0.42
## vis      -0.44 -0.36  0.13    -0.40 -0.39  0.39 -0.13 -0.42  1.00
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-317" style="background:;">
  <hgroup>
    <h2>Plotting Correlation Matrices</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(corrplot))
corrplot(cormat)
</code></pre>

<p><img src="assets/fig/graph_corrmat.png" title="plot of chunk graph_corrmat" alt="plot of chunk graph_corrmat" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-318" style="background:;">
  <hgroup>
    <h2>Maps</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">suppressPackageStartupMessages(library(maps))
suppressPackageStartupMessages(library(mapproj))
states_map &lt;- map_data(&quot;state&quot;)
ggplot(states_map, aes(x=long,y=lat,group=group)) + geom_path() + coord_map(&quot;mercator&quot;) + theme_bw()
</code></pre>

<p><img src="assets/fig/graph_map.png" title="plot of chunk graph_map" alt="plot of chunk graph_map" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-319" style="background:;">
  <hgroup>
    <h2>Maps</h2>
  </hgroup>
  <article data-timings="">
    <p>Let&#39;s do a bit of data manipulation:</p>

<ul>
<li>We have a map object with the 50 states</li>
<li>We know in <code>datasets</code> packages there is a <code>crime</code> dataset
If we merge these two data sources together we can look at crime rates by state. </li>
</ul>

<pre><code class="r">crimes &lt;- data.frame(state=tolower(rownames(USArrests)),USArrests)
crime_map &lt;- merge(states_map,crimes,by.x=&quot;region&quot;,by.y=&quot;state&quot;)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-320" style="background:;">
  <hgroup>
    <h2>Maps</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(crimes, aes(map_id=state,fill=Assault)) + geom_map(map=states_map, colour=&quot;black&quot;) + scale_fill_gradient2(low =&quot;#559999&quot;, mid=&quot;grey90&quot;, high=&quot;#BB650B&quot;, midpoint=median(crimes$Assault)) + expand_limits(x=states_map$long, y=states_map$lat) + coord_map(&quot;polyconic&quot;) + theme_bw()
</code></pre>

<p><img src="assets/fig/graph_cmap.png" title="plot of chunk graph_cmap" alt="plot of chunk graph_cmap" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-321" style="background:;">
  <hgroup>
    <h2>Interactive Data Visualization with R</h2>
  </hgroup>
  <article data-timings="">
    <p>Some people have gotten bored of looking at static graphs all day long. With the power of the web (HTML5, JavaScript, CSS, etc.) there exist many possibilities for intergrating interactive data visualizations into your workflow. </p>

<p><a href="http://rcharts.io">rCharts</a> by Ramnath Vaidyanathan is one package I love for interactive data visualization. I especially like the NVD3 interface.   </p>

<p>Other cool packages that I don&#39;t talk about include: <a href="http://code.google.com/p/google-motion-charts-with-r/">googleVis</a> and <a href="http://shiny.rstudio.com">shiny</a>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-322" style="background:;">
  <hgroup>
    <h2>Interactive Data Visualization</h2>
  </hgroup>
  <article data-timings="">
    <p>First things first, lets get the source code necessary to run these examples from GitHub:</p>

<pre><code class="r">require(devtools)
install_github(c(&#39;slidify&#39;, &#39;slidifyLibraries&#39;), &#39;ramnathv&#39;, ref = &#39;dev&#39;)
install_github(&#39;rCharts&#39;, &#39;ramnathv&#39;)
install_github(&#39;shiny&#39;, &#39;rstudio&#39;)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-323" style="background:;">
  <hgroup>
    <h2><code>rCharts</code> NVD3 multichart</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">require(rCharts)
haireye = as.data.frame(HairEyeColor)
n1 &lt;- nPlot(Freq ~ Hair, group = &#39;Eye&#39;, type = &#39;multiBarChart&#39;, data = subset(haireye, Sex == &#39;Male&#39;))
</code></pre>

<div id = 'chart1' class = 'rChart nvd3'></div>

<script type='text/javascript'>
 $(document).ready(function(){
      drawchart1()
    });
    function drawchart1(){  
      var opts = {
 "dom": "chart1",
"width":    800,
"height":    400,
"x": "Hair",
"y": "Freq",
"group": "Eye",
"type": "multiBarChart",
"id": "chart1" 
},
        data = [
 {
 "Hair": "Black",
"Eye": "Brown",
"Sex": "Male",
"Freq":             32 
},
{
 "Hair": "Brown",
"Eye": "Brown",
"Sex": "Male",
"Freq":             53 
},
{
 "Hair": "Red",
"Eye": "Brown",
"Sex": "Male",
"Freq":             10 
},
{
 "Hair": "Blond",
"Eye": "Brown",
"Sex": "Male",
"Freq":              3 
},
{
 "Hair": "Black",
"Eye": "Blue",
"Sex": "Male",
"Freq":             11 
},
{
 "Hair": "Brown",
"Eye": "Blue",
"Sex": "Male",
"Freq":             50 
},
{
 "Hair": "Red",
"Eye": "Blue",
"Sex": "Male",
"Freq":             10 
},
{
 "Hair": "Blond",
"Eye": "Blue",
"Sex": "Male",
"Freq":             30 
},
{
 "Hair": "Black",
"Eye": "Hazel",
"Sex": "Male",
"Freq":             10 
},
{
 "Hair": "Brown",
"Eye": "Hazel",
"Sex": "Male",
"Freq":             25 
},
{
 "Hair": "Red",
"Eye": "Hazel",
"Sex": "Male",
"Freq":              7 
},
{
 "Hair": "Blond",
"Eye": "Hazel",
"Sex": "Male",
"Freq":              5 
},
{
 "Hair": "Black",
"Eye": "Green",
"Sex": "Male",
"Freq":              3 
},
{
 "Hair": "Brown",
"Eye": "Green",
"Sex": "Male",
"Freq":             15 
},
{
 "Hair": "Red",
"Eye": "Green",
"Sex": "Male",
"Freq":              7 
},
{
 "Hair": "Blond",
"Eye": "Green",
"Sex": "Male",
"Freq":              8 
} 
]
  
      if(!(opts.type==="pieChart" || opts.type==="sparklinePlus")) {
        var data = d3.nest()
          .key(function(d){
            //return opts.group === undefined ? 'main' : d[opts.group]
            //instead of main would think a better default is opts.x
            return opts.group === undefined ? opts.y : d[opts.group];
          })
          .entries(data);
      }
      
      if (opts.disabled != undefined){
        data.map(function(d, i){
          d.disabled = opts.disabled[i]
        })
      }
      
      nv.addGraph(function() {
        var chart = nv.models[opts.type]()
          .x(function(d) { return d[opts.x] })
          .y(function(d) { return d[opts.y] })
          .width(opts.width)
          .height(opts.height)
         
        
          
        

        
        
        
      
       d3.select("#" + opts.id)
        .append('svg')
        .datum(data)
        .transition().duration(500)
        .call(chart);

       nv.utils.windowResize(chart.update);
       return chart;
      });
    };
</script>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-324" style="background:;">
  <hgroup>
    <h2>Summary of R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <p>In this module we introduced R graphics. The ease at which beautiful statistical graphics can be created in R is one of its greatest strengths.</p>

<p>Graphics in R can be divided into 2 systems: <code>graphics</code> and <code>grid</code>. Base R ships many useful high/low level plotting functions. And graphics packages like <code>lattice</code> and <code>ggplot2</code> offer similar functionality but built on top of the newer <code>grid</code> system.</p>

<p>Most useful functions are summarized in the tables presented earlier in this module. This module took a cookbook style approach presenting various graphical examples, and demonstrating how to develop code to create such graphics in R. </p>

<p>For the most up to date info on all things R graphics, check out the <a href="http://cran.r-project.org/web/views/Graphics.html">R Graphics Task View</a>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-325" style="background:;">
  <hgroup>
    <h2>Lab Session (30 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-326" style="background:;">
  <hgroup>
    <h2>R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>The definition of a sextix polynomial equation is given <a href="http://en.wikipedia.org/wiki/Sextic_equation">here</a>. It&#39;s general form is given as:</li>
</ol>

<p>\[ ax^6 + bx^5 + cx^4 + dx^3 + ex^2 + gx + f = 0 \]</p>

<p>Let <code>c(a=2,b=-4,c=1,d=-3,e=5,g=9,f=-10)</code> and plot the function using <code>curve()</code>.</p>

<p><br/></p>

<p><img src="assets/fig/graph_ex1.png" title="plot of chunk graph_ex1" alt="plot of chunk graph_ex1" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-327" style="background:;">
  <hgroup>
    <h2>R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <ol start="2">
<li> Use the <code>MASS</code> package to generate multivariate normal data. In all cases have <code>mu=c(0,0)</code>. Generate 5 different <code>Sigma=matrix(c(...),ncol=2)</code> matrices: basically varying the off diagonal correlation matrices from <code>c(-0.85,-0.35,0,0.35,0.85)</code>. Use a sample size of <code>n=500</code>. Use base R graphics to plot the 2D density estimates of each random normal draw. Plot all 5 on a graph using the <code>par(mfrow=c(3,2))</code> function(s). Explain what you are seeing and why. </li> 
</ol>

<ol start="3">
<li> Using the <code>pbc</code> dataset from the <code>survival</code> package plot the distribution of bilirubin for each combination of stage and sex. Do this using a series of histrograms, box plots and univariate density estimators. Use the multi-panel conditioning options from <code>lattice</code> and <code>ggpplot2</code>.</li> 
</ol>

<ol start="4">
<li> On your own, explore possible plotting options associated with dendrograms (<code>?hclust</code>), network graphs (<code>igraph</code> package) or 3D scatterplots in <code>lattice</code> with the function <code> wireframe() </code> and <code>cloud()</code>.</li> 
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-328" style="background:;">
  <hgroup>
    <h2>R Graphics</h2>
  </hgroup>
  <article data-timings="">
    <ol start="5">
<li> Recreate the plot below using base R functions. Data is simulated by <code>set.seed(12345)</code> followed by <code>rnorm(1000)</code>. Hint: search <code>?par</code>. </li> 
</ol>

<p><img src="assets/fig/graph_ex2.png" title="plot of chunk graph_ex2" alt="plot of chunk graph_ex2" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-329" style="background:;">
  <hgroup>
    <h2>Descriptive Statistics in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-330" style="background:;">
  <hgroup>
    <h2>Descriptive Statistics in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Descriptive statistics relates to describing the main features of a set of data (a collection of random variables). The previous module considered using graphical measures to describe data, in this module we focus on using numeric summaries. </p>

<p>The most coarse means of describing our data is as an n*p tabular array. However, this array of data often contains too much information to be useful. Hence our goal is to come up with some few summary statistics, via a data reduction step, which describes the interesting features in the oroginal data without losing too much information. </p>

<p>Descriptive statistics can take place at many levels:</p>

<ul>
<li>Univariate statistics acts to describe the tendencies of variables, one at a time.</li>
<li>Bivariate statistics acts to describe the relationship between a pair (2) variables at a time.</li>
<li>Multivariate statistics acts to describe the relationship between p variables at a time. </li>
</ul>

<p>In this aspect we will briefly touch upon descriptive techniques that exist at all levels (univariate, bivariate and multivariate).</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-331" style="background:;">
  <hgroup>
    <h2>Descriptive Statistics in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Univariate statistics seek to describe the central tendency and dispersion of a single random variable.</p>

<ul>
<li>The mean, median, and mode can be used to describe central tendency.</li>
<li>The variance, standard deviation, range and quantiles can be used to describe dispersion.</li>
</ul>

<p>Bivariate statistics act to describe the relationship between a pair of random variables.</p>

<ul>
<li>Tabulation can depict associations between discrete variables.</li>
<li>Correlation coefficients can describe the association between quantitative variables.</li>
</ul>

<p>Multivariate statistics act to describe the relationship between p-variables in a dataset and are usually based upon correlation or distance matrices. We will not adress them in this workshop, just know R has impressive capabilities for these and other multivariate techniques. </p>

<ul>
<li>Principal component analysis</li>
<li>Cluster analysis</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-332" style="background:;">
  <hgroup>
    <h2>Univariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>For this module we will work with the <code>pbc</code> dataset from the <code>survival</code> package. We will work on describing the univariate tendencies of a few measures of liver biochemistry, specifically focusing on the bilirubin variable.</p>

<p><br/></p>

<pre><code class="r">suppressPackageStartupMessages(library(survival))
dim(pbc)
</code></pre>

<pre><code>## [1] 418  20
</code></pre>

<pre><code class="r">sum(is.na(pbc$bili))
</code></pre>

<pre><code>## [1] 0
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-333" style="background:;">
  <hgroup>
    <h2>Univariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>Below we look at a few measures of central tendency:</p>

<p><br/></p>

<pre><code class="r">with(pbc,mean(bili))
</code></pre>

<pre><code>## [1] 3.221
</code></pre>

<pre><code class="r">with(pbc,median(bili))
</code></pre>

<pre><code>## [1] 1.4
</code></pre>

<p><br/>
How is the mode defined for a (absolutely) continuous variable? Check out the <code>modeest</code> package for an array of available options.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-334" style="background:;">
  <hgroup>
    <h2>Univariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">sd(pbc$bili)
</code></pre>

<pre><code>## [1] 4.408
</code></pre>

<pre><code class="r">var(pbc$bili)
</code></pre>

<pre><code>## [1] 19.43
</code></pre>

<pre><code class="r">quantile(pbc$bili,probs=seq(0.05,0.95,0.10))
</code></pre>

<pre><code>##     5%    15%    25%    35%    45%    55%    65%    75%    85%    95% 
##  0.500  0.600  0.800  1.000  1.200  1.600  2.300  3.400  5.945 14.000
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-335" style="background:;">
  <hgroup>
    <h2>Univariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">min(pbc$bili)
</code></pre>

<pre><code>## [1] 0.3
</code></pre>

<pre><code class="r">max(pbc$bili)
</code></pre>

<pre><code>## [1] 28
</code></pre>

<pre><code class="r">range(pbc$bili)
</code></pre>

<pre><code>## [1]  0.3 28.0
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-336" style="background:;">
  <hgroup>
    <h2>Univariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>Describing the distirbution of a single continuous random variable might actually be easier graphically. On the next slides we will look at just a few sensible plots:</p>

<ul>
<li>Box-plot</li>
<li>Histogram</li>
<li>Density plot</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-337" style="background:;">
  <hgroup>
    <h2>Univariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>Below is a box-plot describing the main features of the bilirubin variable in this sample. It acts to reiterate the right skewness of the distribution. </p>

<pre><code class="r">boxplot(pbc$bili, ylim=c(0,30), ylab=&quot;Bilirubin Levels&quot;, main=&quot;Boxplot of Bilirubin Levels&quot;)
</code></pre>

<p><img src="assets/fig/uni_box.png" title="plot of chunk uni_box" alt="plot of chunk uni_box" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-338" style="background:;">
  <hgroup>
    <h2>Univariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>Below is a histogram describing the distribution of bilirubin in this sample. Again, it acts to reiterate the right skewness of the distribution. </p>

<pre><code class="r">hist(pbc$bili, xlab=&quot;Bilirubin Levels&quot;, main=&quot;Histogram of bilirubin levels&quot;, ylim=c(0,300),breaks=seq(0,30,2.5))
</code></pre>

<p><img src="assets/fig/uni_hist.png" title="plot of chunk uni_hist" alt="plot of chunk uni_hist" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-339" style="background:;">
  <hgroup>
    <h2>Univariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>Below is a kernel density estimate describing the distribution of bilirubin in this sample. Again, it acts to reiterate the right skewness of the distribution. </p>

<pre><code class="r">plot(density(pbc$bili,from=0,to=max(pbc$bili)), xlab=&quot;Bilirubin Levels&quot;, ylab=&quot;Density&quot;, main=&quot;KDE of Bilirubin Levels&quot;,ylim=c(0,0.4))
</code></pre>

<p><img src="assets/fig/uni_dens.png" title="plot of chunk uni_dens" alt="plot of chunk uni_dens" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-340" style="background:;">
  <hgroup>
    <h2>Bivariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>For discrete/categorical variables tabulation is an effective summary measure. Let us consider the univariate tabulation of ascites and fibrosis and there association.</p>

<pre><code class="r">with(pbc,table(ascites))
</code></pre>

<pre><code>## ascites
##   0   1 
## 288  24
</code></pre>

<pre><code class="r">table(pbc$stage)
</code></pre>

<pre><code>## 
##   1   2   3   4 
##  21  92 155 144
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-341" style="background:;">
  <hgroup>
    <h2>Bivariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">with(pbc,table(ascites,stage))
</code></pre>

<pre><code>##        stage
## ascites   1   2   3   4
##       0  16  65 119  88
##       1   0   2   1  21
</code></pre>

<pre><code class="r">prop.table(table(pbc$ascites,pbc$stage),margin=1)
</code></pre>

<pre><code>##    
##           1       2       3       4
##   0 0.05556 0.22569 0.41319 0.30556
##   1 0.00000 0.08333 0.04167 0.87500
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-342" style="background:;">
  <hgroup>
    <h2>Bivariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>If both categorical variables are binary we can estimate the following epidemiological measures of association to describe bivariate relationships:</p>

<ul>
<li><p>Risk Difference (RD)
\[ RD = P(Event=1|Exposed=1) - P(Event=1|Exposed=0)\]</p></li>
<li><p>Risk Ratio (RR)
\[ RR = \frac{P(Event=1|Exposed=1)}{P(Event=1|Exposed=0)}  \]</p></li>
<li><p>Odds Ratio (OR)
\[ OR = \frac{\frac{P(Event=1|Exposed=1)}{1 - P(Event=1|Exposed=1)}}{\frac{P(Event=1|Exposed=1)}{1 - P(Event=1|Exposed=0)}}\]</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-343" style="background:;">
  <hgroup>
    <h2>Bivariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>Epidemiologists usually prefer there <code>2*2</code> table to be laid out as follows:</p>

<table><thead>
<tr>
<th></th>
<th>Disease</th>
<th align="right">No Disease</th>
</tr>
</thead><tbody>
<tr>
<td>Exposed</td>
<td>a</td>
<td align="right">b</td>
</tr>
<tr>
<td>Unexposed</td>
<td>c</td>
<td align="right">d</td>
</tr>
</tbody></table>

<p><br/></p>

<p>If we say \(N=(a+b+c+d)\), then we can calculate RD, RR and OR as follows:</p>

<p>\[ RD = \frac{a}{a+b} - \frac{c}{c+d}\]
\[ RR = \frac{\frac{a}{a+b}}{\frac{c}{c+d}}\]
\[ RD = \frac{a*d}{b*c}\]</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-344" style="background:;">
  <hgroup>
    <h2>Bivariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>Let&#39;s look into the association between transplant/death and presence of ascites. We recode some variables first.</p>

<pre><code class="r">pbc$status1 &lt;- ifelse(pbc$status==0,1,0)
pbc$ascites1 &lt;- ifelse(pbc$ascites==0,1,0)
ttt &lt;- table(pbc$ascites1,pbc$status1)
p1 &lt;- ttt[1,1]/sum(ttt[1,])
p0 &lt;- ttt[2,1]/sum(ttt[2,])
q1 &lt;- 1 - p1
q0 &lt;- 1 - p0
RD &lt;- round(p1 - p0, digits=3)
RR &lt;- round(p1/p0, digits=3)
OR &lt;- round((p1/q1)/(p0/q0), digits=3)
c(paste0(&quot;RD=&quot;,RD),paste0(&quot;RR=&quot;,RR),paste0(&quot;OR=&quot;,OR))
</code></pre>

<pre><code>## [1] &quot;RD=0.538&quot;  &quot;RR=2.281&quot;  &quot;OR=31.744&quot;
</code></pre>

<p><br/>
To obtain standard errors etc...code by hand or check out <code>epi</code> and <code>epiR</code> packages. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-345" style="background:;">
  <hgroup>
    <h2>Bivariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>There are many measures which seek to describe the dependence between two quantitative variables:</p>

<ul>
<li>Pearson&#39;s correlation coefficient</li>
<li>Spearman&#39;s correlation coefficient</li>
<li>Kendall&#39;s coefficient tau</li>
</ul>

<p>All methods are implemented through the the R function <code>cor()</code>. </p>

<p>We will use <code>cor()</code> to investigate the association between bilirubin and albumin levels. But before estimating the quantitative correlation coefficient we will look into the association between the pair of variables using a scatter plot. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-346" style="background:;">
  <hgroup>
    <h2>Bivariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>Scatter plot of the relationship between bilirubin and copper. </p>

<pre><code class="r">plot(pbc$bili, pbc$copper, xlim=c(0,30),ylim=c(0,600),xlab=&quot;Bilirubin&quot;,ylab=&quot;Copper&quot;,main=&quot;Bivariate Relationship Between Bilirubin and Copper&quot;)
</code></pre>

<p><img src="assets/fig/biv_scatter.png" title="plot of chunk biv_scatter" alt="plot of chunk biv_scatter" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-347" style="background:;">
  <hgroup>
    <h2>Bivariate Statistics</h2>
  </hgroup>
  <article data-timings="">
    <p>The bivariate scatter plot suggested a mildly positive relationship between bilirubin and copper. Now we investigate what the quantitative measures of bivariate dependence suggest:</p>

<pre><code class="r">cor(pbc$bili, pbc$copper, use=&quot;pairwise&quot;, method=&quot;k&quot;)
</code></pre>

<pre><code>## [1] 0.4629
</code></pre>

<pre><code class="r">cor(pbc$bili, pbc$copper, use=&quot;pairwise&quot;, method=&quot;s&quot;)
</code></pre>

<pre><code>## [1] 0.6284
</code></pre>

<pre><code class="r">cor(pbc$bili, pbc$copper, use=&quot;pairwise&quot;, method=&quot;p&quot;)
</code></pre>

<pre><code>## [1] 0.4569
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-348" style="background:;">
  <hgroup>
    <h2>Descriptive Statistics in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Base R has many capabilities for conducting descriptive statistical analyses. Many analyses can be conducted by calling a simple function on your data object. And R usually returns something sensible.</p>

<p>R can be used for univariate, bivariate and multivariate descriptive analyses.</p>

<p>Plotting distirbutions of single variables, or relationships between 2 or more variables in R is super easy. And these plots are useful complements to numeric descriptive statistics. </p>

<p>One useful function I have not shown too much yet which you should remember is <code>summary()</code>. It will also provide very quick and useful numeric summaries of your data with little effort. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-349" style="background:;">
  <hgroup>
    <h2>Lab Session (20 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-350" style="background:;">
  <hgroup>
    <h2>Descriptive Statistics in R</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>Using the <code>Exam</code> dataset in the <code>mlmRev</code> package Invesitgate the relationship between <code>normexam</code> scores and <code>standLRT</code> scores. Plot the relationship on a graph. Give the axes proper labels, and give the graph a title. Using either the <code>loess()</code> or <code>lowess()</code> functions plot a smooth red line through the cloud of data. Estimate Pearson product moment correlation coefficient. In the top left corner of the graph insert the following text: \(\rho=0.591\). Bonus: describe to yourself (or your peer) what the <code>f=</code> argument in <code>lowess()</code> does. What is the equivalent argument in <code>loess()</code>?<br></li>
</ol>

<p><img src="assets/fig/labdes_fig.png" title="plot of chunk labdes_fig" alt="plot of chunk labdes_fig" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-351" style="background:;">
  <hgroup>
    <h2>Descriptive Statistics in R</h2>
  </hgroup>
  <article data-timings="">
    <ol start="2">
<li> Is there any association between verbal reasoning scores (<code>vr</code>) and gender (<code>sex</code>). Describe the association in words. </li> 
</ol>

<ol start="3">
<li> Create a dichotomous variable denoting whether a student placed in the top 90% of the normalized exam score or not. Investigate the relationship between the probability of being in the top 90% (outcome) and female gender (exposure). Summarize the strength of this association with an odds ratio. The standard error of the log odds ratio can be approximated as follows: </li>
</ol>

<p>\[ \widehat{SE(\widehat{log(OR)})} = \sqrt{\frac{1}{a+b+c+d}} \]</p>

<ul>
<li>Write an R function that takes on a <code>2*2</code> table as it&#39;s only argument and returns an estimated odds ratio and 95% confidence interval as it&#39;s return value. </li>
</ul>

<pre><code>## [1] &quot;The estimated OR=1.37. The lower and upper 95% CI range from: 1.33 to 1.41&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-352" style="background:;">
  <hgroup>
    <h2>Inference: Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-353" style="background:;">
  <hgroup>
    <h2>Inference: Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <p><a href="http://en.wikipedia.org/wiki/Statistical_inference">Statistical infererence</a> involves using a finite sample of data to make claims about the underlying mechanism which generated the data. We typically assume some probability model generated our sample of data, and our goal is to make some claims about the specific parametric form of this data generating model.</p>

<p>There exist 3 main branches of statistical inference</p>

<ul>
<li><a href="http://en.wikipedia.org/wiki/Point_estimation">Point estimation</a></li>
<li><a href="http://en.wikipedia.org/wiki/Confidence_intervals">Interval estimation</a></li>
<li><a href="http://en.wikipedia.org/wiki/Statistical_hypothesis_testing">Hypothesis testing</a></li>
</ul>

<p>R has excellent facilities for both theoretical and applied statisticians looking to advance/apply theory, respectively.</p>

<p>Statistical inference is a massive field. Book length expositions exist on each of the constituent branches. My favourites books on the topic include: <a href="http://www.amazon.com/All-Statistics-Statistical-Inference-Springer/dp/0387402721">Wasserman</a> and <a href="http://www.amazon.com/Mathematical-Statistics-Chapman-Statistical-Science/dp/158488178X">Knight</a>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-354" style="background:;">
  <hgroup>
    <h2>Point Estimation</h2>
  </hgroup>
  <article data-timings="">
    <p>For a given parametric model, point estimation is concerned with determining the best possible quantities governing our probability model.</p>

<p>Certain considerations for optimal estimates include: bias, variance, mean squared error, consistency, efficiency, asymptotic normality, etc. Some nice estimation procedures include: the method of moments and the method of maximum likelihood.</p>

<p>Various functions exist for estimating quantities by MOM or MLE, including: </p>

<ul>
<li>The <code>gmm</code> library for generalized method of moments</li>
<li>The <code>mle()</code> function in the <code>stats4</code> package</li>
<li>Various optimizers such as: <code>optim()</code>, <code>optimize()</code>, and <code>nlminb()</code> from <code>lme</code> package</li>
</ul>

<p>In the proceeding sections of this module we will take it for granted that we have reasonable estimators for population quantities, and will transfer focus to the applied problem of esimtating CI&#39;s around these point estimates (interval estimation) or testing whether the point estimate equal some given value (hypothesis testing). </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-355" style="background:;">
  <hgroup>
    <h2>Poisson MLE example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(990099)
x &lt;- rpois(100,5)
mean(x)
</code></pre>

<pre><code>## [1] 5.08
</code></pre>

<pre><code class="r">var(x)
</code></pre>

<pre><code>## [1] 5.731
</code></pre>

<pre><code class="r">pmll &lt;- function(lambda, x) {
sumx &lt;- sum(x)
sum_log_xfact &lt;- sum(log(factorial(x)))
n &lt;- length(x)
pmll &lt;- n*lambda - sumx*log(lambda) + sum_log_xfact
pmll
}
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-356" style="background:;">
  <hgroup>
    <h2>Poisson MLE example</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">mom_lambda &lt;- mean(x)
min_lambda &lt;- nlm(pmll, mom_lambda, hessian=TRUE, x=x)
min_lambda
</code></pre>

<pre><code>## $minimum
## [1] 227.6
## 
## $estimate
## [1] 5.08
## 
## $gradient
## [1] -3.335e-07
## 
## $hessian
##       [,1]
## [1,] 19.68
## 
## $code
## [1] 3
## 
## $iterations
## [1] 1
</code></pre>

<pre><code class="r">set.seed(990099)
x &lt;- rpois(100,5)
sumx &lt;- sum(x)
sum_log_xfact &lt;- sum(log(factorial(x)))
n &lt;- length(x)
lambda &lt;- seq(from=0, to=10, by=0.1)
ll_surf &lt;- n*lambda - sumx*log(lambda) + sum_log_xfact
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-357" style="background:;">
  <hgroup>
    <h2>Poisson MLE example</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/inf_pois.png" title="plot of chunk inf_pois" alt="plot of chunk inf_pois" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-358" style="background:;">
  <hgroup>
    <h2>Interval Estimation</h2>
  </hgroup>
  <article data-timings="">
    <p>When presenting a single point estimate of a statistical parameter, we often also want to affix some measure of reliability around the estimate - a confidence interval is a means of accomplishing this task. </p>

<p>The frequentist interpretation of confidence intervals relates to a &quot;repeated sampling&quot; construct. In repeated sampling, we often want to provide an interval that would include the fixed model parameter with high probability (or a large proprtion of times). This is how many people interpret confidence intervals (correctly noting that the parameter is fixed and the interval is random). </p>

<p>Wasserman (p. 92) states that a \(1-\alpha\) level confidence interval for a real valued parameter \(\theta\) is an interval \(C_n=(a,b)\) where \(a\) and \(b\) are function of the data (and themselves random quantities), satisfying the fact:</p>

<p>\[ P_{\theta}(\theta \in C_n) \geq (1-\alpha), \quad \forall \theta \in \mathcal{\Theta} \]</p>

<p>Knight (p. 341) describes the pivotal method as a means of generating interval estimates. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-359" style="background:;">
  <hgroup>
    <h2>Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <p>Hypothesis testing is used to assess/test the plausibility that a model parameter equals a given value (or set of values, if the parameter is vector valued).</p>

<p>There are essentially 4 main elements to hypothesis testing:</p>

<ul>
<li>A null hypothesis: \(H_0\)</li>
<li>An alternative htpothesis: \(H_A\) </li>
<li>A test statistic (with a known exact/asymptotic distribution under the null)</li>
<li>A reject region relating to a binary decision rule</li>
</ul>

<p>When hypothesis testing one can make two types of inferential errors:</p>

<table><thead>
<tr>
<th></th>
<th>Truth: Maintain \(H_0\)</th>
<th align="right">Truth: Reject \(H_0\)</th>
</tr>
</thead><tbody>
<tr>
<td>Test: Reject \(H_0\)</td>
<td>Type 1 error</td>
<td align="right">Correct Decision</td>
</tr>
<tr>
<td>Test: Fail to Reject \(H_0\)</td>
<td>Correct Decision</td>
<td align="right">Type 2 Error</td>
</tr>
</tbody></table>

<p><br/>
Given a test statistic and a null distirbution we can also use p-values to inform inferences.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-360" style="background:;">
  <hgroup>
    <h2>Duality: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <p>In certain circumstances there exists a relationship between interval estimation and hypothesis testing. When deriving confidence intervals via the pivotal method this becomes apparent. For example:</p>

<p>\[ Z = \frac{\theta - \hat{\theta}}{\sigma} \rightarrow N(0,1)\]</p>

<p>We can use this knowledge to define a pivotal quantity:</p>

<p>\[ P(-Z_{\frac{\alpha}{2}} \leq Z \leq Z_{\frac{\alpha}{2}}) = 1 - \alpha\]
\[ P(-Z_{\frac{\alpha}{2}} \leq \frac{\theta - \hat{\theta}}{\sigma} \leq Z_{\frac{\alpha}{2}}) = 1 - \alpha\]
\[ P(\hat{\theta} -Z_{\frac{\alpha}{2}}*\sigma \leq \theta \leq \hat{\theta} + Z_{\frac{\alpha}{2}}*\sigma) = 1 - \alpha\]</p>

<p>This asymptotic standard normal pivotal quantity is used ubiquitously in deriving confidence intervals in biostatistics: means, proportions, differences in means/proportions, log odds/risk ratios, etc. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-361" style="background:;">
  <hgroup>
    <h2>Duality: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <p>The above pivotal quantity lends itself to a sensible decision rule for the following hypothesis as well:</p>

<p>\[ H_0: \hat{\theta} = {\theta}_0 \]
\[ H_A: \hat{\theta} \neq {\theta}_0 \]</p>

<p>\[ Z = \frac{\theta - \hat{\theta}}{\sigma} \rightarrow N(0,1)\]</p>

<p>Therefore, if \(|Z| \geq Z_{\frac{\alpha}{2}}\) then we reject \(H_0\); else, we fail to reject \(H_0\). For an alpha rejection region corresponding to \(\alpha=0.05\) we choose \(Z_{\frac{\alpha}{2}}=1.96\) (which is just a quantile from the standard normal distribution). </p>

<p>This would suggest that if our confidence interval embraces the null value that we maintain \(H_0\); else, if our confidence interval does not embrace the null value that we can reject \(H_0\). </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-362" style="background:;">
  <hgroup>
    <h2>Interval Estimation and Hypothesis Testing in R</h2>
  </hgroup>
  <article data-timings="">
    <p>R has many functions for hypothesis testing. Typically, when you apply these hypothesis test functions to data in R you get an interval estimate for free (because of this duality).</p>

<pre><code class="r">apropos(&quot;\\.test$&quot;)
</code></pre>

<pre><code>##  [1] &quot;ansari.test&quot;          &quot;bartlett.test&quot;        &quot;binom.test&quot;          
##  [4] &quot;Box.test&quot;             &quot;chisq.test&quot;           &quot;cor.test&quot;            
##  [7] &quot;fisher.test&quot;          &quot;fligner.test&quot;         &quot;friedman.test&quot;       
## [10] &quot;kruskal.test&quot;         &quot;ks.test&quot;              &quot;mantelhaen.test&quot;     
## [13] &quot;mauchly.test&quot;         &quot;mcnemar.test&quot;         &quot;mood.test&quot;           
## [16] &quot;oneway.test&quot;          &quot;pairwise.prop.test&quot;   &quot;pairwise.t.test&quot;     
## [19] &quot;pairwise.wilcox.test&quot; &quot;poisson.test&quot;         &quot;power.anova.test&quot;    
## [22] &quot;power.prop.test&quot;      &quot;power.t.test&quot;         &quot;PP.test&quot;             
## [25] &quot;prop.test&quot;            &quot;prop.trend.test&quot;      &quot;quade.test&quot;          
## [28] &quot;shapiro.test&quot;         &quot;spearman.test&quot;        &quot;t.test&quot;              
## [31] &quot;var.test&quot;             &quot;wilcox.test&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-363" style="background:;">
  <hgroup>
    <h2>Inference about a single proportion</h2>
  </hgroup>
  <article data-timings="">
    <p>Are the proportion of those dying in the <code>pbc</code> trial equal to 0.50? </p>

<p>\[H_0 \quad P=0.50  \quad \text{versus} \quad H_A \quad P \neq 0.50\]</p>

<pre><code class="r">suppressPackageStartupMessages(library(survival))
prop.test(table(pbc$status1),p=0.50,correct=FALSE)
</code></pre>

<pre><code>## 
##  1-sample proportions test without continuity correction
## 
## data:  table(pbc$status1), null probability 0.5
## X-squared = 5.062, df = 1, p-value = 0.02445
## alternative hypothesis: true p is not equal to 0.5
## 95 percent confidence interval:
##  0.3981 0.4929
## sample estimates:
##     p 
## 0.445
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-364" style="background:;">
  <hgroup>
    <h2>Inference about a single proportion</h2>
  </hgroup>
  <article data-timings="">
    <p>There are many methods that can be used to estimate CI&#39;s for a single proportion. See the Newcombe (1998) reference in <a href="http://en.wikipedia.org/wiki/Binomial_test"><code>?prop.test</code></a>. What if we try out the <a href="http://en.wikipedia.org/wiki/Pearson_chi-square_test"><code>chisq.test()</code></a> function? </p>

<pre><code class="r">suppressPackageStartupMessages(library(survival))
chisq.test(table(pbc$status1))
</code></pre>

<pre><code>## 
##  Chi-squared test for given probabilities
## 
## data:  table(pbc$status1)
## X-squared = 5.062, df = 1, p-value = 0.02445
</code></pre>

<p>Results are identical to the <code>prop.test()</code> procedure with the <code>correct=FALSE</code> option specified. Note this is not the default functionality of <code>prop.test()</code>.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-365" style="background:;">
  <hgroup>
    <h2>Inference about a single proportion</h2>
  </hgroup>
  <article data-timings="">
    <p>And there&#39;s another approach...see the <a href="http://en.wikipedia.org/wiki/Binomial_test"><code>binom.test()</code></a> function. It perform an exact test of whether the estimated proportion equals some null value.</p>

<pre><code class="r">binom.test(x=sum(pbc$status1),n=length(pbc$status1),p=0.5)
</code></pre>

<pre><code>## 
##  Exact binomial test
## 
## data:  sum(pbc$status1) and length(pbc$status1)
## number of successes = 232, number of trials = 418, p-value =
## 0.02761
## alternative hypothesis: true probability of success is not equal to 0.5
## 95 percent confidence interval:
##  0.5059 0.6033
## sample estimates:
## probability of success 
##                  0.555
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-366" style="background:;">
  <hgroup>
    <h2>Inference about a single mean</h2>
  </hgroup>
  <article data-timings="">
    <p>We can use a <a href="http://en.wikipedia.org/wiki/T_test">t-test</a> to assess whether an observed mean is equal to some value. For example, lets assess whether the mean bilirubin level in the <code>pbc</code> dataset is equal to 5.</p>

<p>\[H_0 \quad \mu=5 \quad \text{versus} \quad H_A \quad \mu \neq 5\]</p>

<pre><code class="r">t.test(pbc$bili,mu=5,paired=FALSE,conf.level=0.90)
</code></pre>

<pre><code>## 
##  One Sample t-test
## 
## data:  pbc$bili
## t = -8.253, df = 417, p-value = 2.05e-15
## alternative hypothesis: true mean is not equal to 5
## 90 percent confidence interval:
##  2.865 3.576
## sample estimates:
## mean of x 
##     3.221
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-367" style="background:;">
  <hgroup>
    <h2>Inference about a location parameter</h2>
  </hgroup>
  <article data-timings="">
    <p>The <a href="http://en.wikipedia.org/wiki/Mann-Whitney_U_test">Wilcoxon-Mann-Whitney U-test</a> can be used to assess whether the distribution of some random variable is symmetric about some measure of location (like a mean/median). It is kind of a non-parametric analogue of the 1-sample t-test.</p>

<pre><code class="r">wilcox.test(pbc$bili,mu=5,paired=FALSE,conf.int=TRUE,conf.level=0.90)
</code></pre>

<pre><code>## 
##  Wilcoxon signed rank test with continuity correction
## 
## data:  pbc$bili
## V = 16299, p-value &lt; 2.2e-16
## alternative hypothesis: true location is not equal to 5
## 90 percent confidence interval:
##  1.8 2.2
## sample estimates:
## (pseudo)median 
##              2
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-368" style="background:;">
  <hgroup>
    <h2>Inference for contingency tables</h2>
  </hgroup>
  <article data-timings="">
    <p>Is there an association between gender and the risk of death/transplant in the <code>pbc</code> dataset?</p>

<pre><code class="r">prop.table(table(pbc$sex,pbc$status1),margin=1)
</code></pre>

<pre><code>##    
##          0      1
##   m 0.6136 0.3864
##   f 0.4251 0.5749
</code></pre>

<pre><code class="r">chisq.test(table(pbc$sex,pbc$status1))
</code></pre>

<pre><code>## 
##  Pearson&#39;s Chi-squared test with Yates&#39; continuity correction
## 
## data:  table(pbc$sex, pbc$status1)
## X-squared = 4.927, df = 1, p-value = 0.02645
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-369" style="background:;">
  <hgroup>
    <h2>Inference for contingency tables</h2>
  </hgroup>
  <article data-timings="">
    <p>Is there an association between gender and the risk of death/transplant in the <code>pbc</code> dataset?</p>

<pre><code class="r">fisher.test(table(pbc$sex,pbc$status1))
</code></pre>

<pre><code>## 
##  Fisher&#39;s Exact Test for Count Data
## 
## data:  table(pbc$sex, pbc$status1)
## p-value = 0.02394
## alternative hypothesis: true odds ratio is not equal to 1
## 95 percent confidence interval:
##  1.084 4.346
## sample estimates:
## odds ratio 
##      2.144
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-370" style="background:;">
  <hgroup>
    <h2>Inference about two means</h2>
  </hgroup>
  <article data-timings="">
    <p>Is there an association between gender and the bilirubin in the <code>pbc</code> dataset?</p>

<pre><code class="r">t.test(pbc$bili~pbc$sex)
</code></pre>

<pre><code>## 
##  Welch Two Sample t-test
## 
## data:  pbc$bili by pbc$sex
## t = -0.9385, df = 89.59, p-value = 0.3505
## alternative hypothesis: true difference in means is not equal to 0
## 95 percent confidence interval:
##  -1.2364  0.4431
## sample estimates:
## mean in group m mean in group f 
##           2.866           3.263
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-371" style="background:;">
  <hgroup>
    <h2>Inference about two location parameters</h2>
  </hgroup>
  <article data-timings="">
    <p>We know that the t-test may not be appropriate if the variances are non-homogeneous. Or if the data are markedly non-normal. We can try a non-parametric analogue again: the Wilcoxon-Mann-Whitney U-test.</p>

<pre><code class="r">wilcox.test(pbc$bili~pbc$sex,conf.int=TRUE,conf.level=0.95)
</code></pre>

<pre><code>## 
##  Wilcoxon rank sum test with continuity correction
## 
## data:  pbc$bili by pbc$sex
## W = 9882, p-value = 0.02897
## alternative hypothesis: true location shift is not equal to 0
## 95 percent confidence interval:
##  8.813e-06 9.000e-01
## sample estimates:
## difference in location 
##                    0.4
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-372" style="background:;">
  <hgroup>
    <h2>Inference about two location parameters</h2>
  </hgroup>
  <article data-timings="">
    <p>The t-test and the wilcoxon rank sum test gave different answers. Lets graphically try to investigate things before making firm conclusions.</p>

<pre><code class="r">boxplot(pbc$bili~pbc$sex,xlab=&quot;Gender&quot;,ylab=&quot;Bilirubin Levels&quot;,ylim=c(0,30))
</code></pre>

<p><img src="assets/fig/inf_boxloc.png" title="plot of chunk inf_boxloc" alt="plot of chunk inf_boxloc" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-373" style="background:;">
  <hgroup>
    <h2>Inference about two location parameters</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">plot(density(pbc$bili[pbc$sex==&quot;m&quot;],from=0),type=&quot;l&quot;,col=&quot;black&quot;,ylab=&quot;Density&quot;,xlab=&quot;Bilirubin Levels&quot;,xlim=c(0,30),ylim=c(0,0.40),main=&quot;&quot;)
lines(density(pbc$bili[pbc$sex==&quot;f&quot;],from=0),type=&quot;l&quot;,col=&quot;red&quot;)
</code></pre>

<p><img src="assets/fig/inf_densloc.png" title="plot of chunk inf_densloc" alt="plot of chunk inf_densloc" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-374" style="background:;">
  <hgroup>
    <h2>Inference about two location parameters</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">by(pbc$bili,pbc$sex,summary)
</code></pre>

<pre><code>## pbc$sex: m
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.60    1.30    2.05    2.87    3.50    9.50 
## -------------------------------------------------------- 
## pbc$sex: f
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.30    0.70    1.30    3.26    3.40   28.00
</code></pre>

<p>So now what do you think about your inference regarding a potential difference in bilirubin as a function of gender? Is gender associated with bilirubin levels in this sample?</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-375" style="background:;">
  <hgroup>
    <h2>Inference for R*C contingency tables</h2>
  </hgroup>
  <article data-timings="">
    <p>Is there any association between death/transplant and stage of fibrosis? We can use <a href="http://en.wikipedia.org/wiki/Pearson_chi-square_test"><code>chisq.test()</code></a> or <a href="http://en.wikipedia.org/wiki/Fishers_exact_test"><code>fisher.test()</code></a> again. We could also check for trend using <a href="http://en.wikipedia.org/wiki/Cochran%E2%80%93Armitage_test_for_trend"><code>prop.trend.test()</code></a>.</p>

<pre><code class="r">prop.table(table(pbc$status1,pbc$stage),margin=1)
</code></pre>

<pre><code>##    
##           1       2       3       4
##   0 0.01099 0.15385 0.31868 0.51648
##   1 0.08261 0.27826 0.42174 0.21739
</code></pre>

<pre><code class="r">chisq.test(table(pbc$status1,pbc$stage))
</code></pre>

<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(pbc$status1, pbc$stage)
## X-squared = 46.14, df = 3, p-value = 5.295e-10
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-376" style="background:;">
  <hgroup>
    <h2>Inference for R*C contingency tables</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">fisher.test(table(pbc$status1,pbc$stage))
</code></pre>

<pre><code>## 
##  Fisher&#39;s Exact Test for Count Data
## 
## data:  table(pbc$status1, pbc$stage)
## p-value = 2.225e-10
## alternative hypothesis: two.sided
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-377" style="background:;">
  <hgroup>
    <h2>Inference for R*C contingency tables</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">prop.trend.test(table(pbc$status1,pbc$stage)[1,],table(pbc$stage))
</code></pre>

<pre><code>## 
##  Chi-squared Test for Trend in Proportions
## 
## data:  table(pbc$status1, pbc$stage)[1, ] out of table(pbc$stage) ,
##  using scores: 1 2 3 4
## X-squared = 42.05, df = 1, p-value = 8.901e-11
</code></pre>

<p>Type <code>prop.trend.test</code> into the R console to see source code for what this test is really doing.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-378" style="background:;">
  <hgroup>
    <h2>Inference about multiple means</h2>
  </hgroup>
  <article data-timings="">
    <p><a href="http://en.wikipedia.org/wiki/ANOVA">ANOVA</a> is a popular method for testing the equality of many means. The <code>oneway.test()</code> function is one approach to investigating this problem. It does not necessarily assume equal group variances.</p>

<p><br/>
Are mean bilirubin levels associated with edema in the <code>pbc</code> dataset?</p>

<pre><code class="r">by(pbc$bili,pbc$edema,summary)
</code></pre>

<pre><code>## pbc$edema: 0
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.30    0.70    1.30    2.69    3.20   25.50 
## -------------------------------------------------------- 
## pbc$edema: 0.5
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.40    1.08    2.00    4.73    5.35   28.00 
## -------------------------------------------------------- 
## pbc$edema: 1
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    0.80    2.48    7.80    9.26   15.20   22.50
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-379" style="background:;">
  <hgroup>
    <h2>Inference about multiple means</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">oneway.test(pbc$bili~pbc$edema)
</code></pre>

<pre><code>## 
##  One-way analysis of means (not assuming equal variances)
## 
## data:  pbc$bili and pbc$edema
## F = 10.5, num df = 2.00, denom df = 36.67, p-value = 0.0002487
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-380" style="background:;">
  <hgroup>
    <h2>Inference about multiple location parameters</h2>
  </hgroup>
  <article data-timings="">
    <p>A non-parametric analogue of the one-way ANOVA is the <a href="http://en.wikipedia.org/wiki/Kruskal%E2%80%93Wallis_one-way_analysis_of_variance">Kruskal Wallis test</a>. It attempts to assess whether all continuous distributions are equal across some discrete grouping factor, compared to the alternative that at least one distirbution is different from the others.</p>

<pre><code class="r">kruskal.test(pbc$bili~pbc$edema)
</code></pre>

<pre><code>## 
##  Kruskal-Wallis rank sum test
## 
## data:  pbc$bili by pbc$edema
## Kruskal-Wallis chi-squared = 27.53, df = 2, p-value = 1.051e-06
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-381" style="background:;">
  <hgroup>
    <h2>Inference about correlation coefficient</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">set.seed(54673)
x &lt;- rnorm(5)
y &lt;- rnorm(5)
cor.test(x,y)
</code></pre>

<pre><code>## 
##  Pearson&#39;s product-moment correlation
## 
## data:  x and y
## t = 2.083, df = 3, p-value = 0.1286
## alternative hypothesis: true correlation is not equal to 0
## 95 percent confidence interval:
##  -0.3523  0.9838
## sample estimates:
##   cor 
## 0.769
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-382" style="background:;">
  <hgroup>
    <h2>Inference: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <p>We&#39;ve explored some of R&#39;s base procedures which are useful for estimating confidence intervals or for performing hypothesis testing.</p>

<p>There is sometimes a duality that exists between the two approaches to inference. Where this duality exists R attempts to exploit it, and generally has functionality to return both an interval estimate, and some form of a test statistic and p-value (which can be used for hypothesis testing).</p>

<p>There are MANY other contributed packages that implement user defined routines for point estimation, interval estimation and hypothesis testing. If you have a method in mind that you want to use &quot;google it&quot;, and check out the contributed packages on CRAN. User beware though: you have to check the quality of some packages!!</p>

<p>Estimation and hypothesis testing are a HUGE area of theoretical and applied statistics, this module could not do these areas justice. Check out <a href="http://www.amazon.com/Mathematical-Statistics-Chapman-Statistical-Science/dp/158488178X">Knight</a>, <a href="http://www.amazon.com/All-Statistics-Statistical-Inference-Springer/dp/0387402721">Wasserman</a> or virtually any book by <a href="http://www.amazon.com/Testing-Statistical-Hypotheses-Springer-Statistics/dp/0387988645/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1402247030&amp;sr=1-1&amp;keywords=lehmann+hypothesis">EL</a> <a href="http://www.amazon.com/Theory-Point-Estimation-Springer-Statistics/dp/0387985026/ref=pd_bxgy_b_img_y">Lehmann</a> for the full details. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-383" style="background:;">
  <hgroup>
    <h2>Lab Session (30 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-384" style="background:;">
  <hgroup>
    <h2>Inference: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li>The <code>shapiro.test()</code> function can be used to implement the Shapiro-Wilk test for normality. Consider the <code>pbc</code> dataset in the <code>survival</code> package. Columns 11-19 are numeric biochemical variables that are routinely captured in a liver panel. Use a <code>for</code> loop and each iteration applying the <code>shapiro.test()</code> function to a different column. Extract the p-value and store it in a vector. Do the same thing with one of the <code>apply()</code> variants. Which variables do we reject the normality assumption for? Compare the speed of each approach by wrapping both of your routines in <code>proc.time()</code>. This is known as benchmarking. What approach is more computationally efficient?</li>
</ol>

<pre><code>##    user  system elapsed 
##   0.012   0.000   0.013
</code></pre>

<pre><code>##    user  system elapsed 
##   0.011   0.000   0.010
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-385" style="background:;">
  <hgroup>
    <h2>Inference: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <ol start="2">
<li> Again, using the <code>pbc</code> dataset in the <code>survival</code> package to investigate the relationship between bilirubin and edema. Create side-by-side box-plots of the distirbution of bilirubin for each edema group. Use a kruskal-wallis test to assess whether the distribution of bilirubin varies across edema groups. What groups are different (in a pairwise manner)? </li> 
</ol>

<pre><code>## 
##  Kruskal-Wallis rank sum test
## 
## data:  pbc$bili by pbc$edema
## Kruskal-Wallis chi-squared = 27.53, df = 2, p-value = 1.051e-06
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-386" style="background:;">
  <hgroup>
    <h2>Inference: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <pre><code>## Warning: cannot compute exact p-value with ties
</code></pre>

<pre><code>## 
##  Pairwise comparisons using Wilcoxon rank sum test 
## 
## data:  pbc$bili and pbc$edema 
## 
##     0       0.5   
## 0.5 0.0220  -     
## 1   3.4e-06 0.0073
## 
## P value adjustment method: holm
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-387" style="background:;">
  <hgroup>
    <h2>Inference: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <ol start="3">
<li> In the <code>MASS</code> package, there is a function called <code>mvrnorm()</code>. It is used to simulate data from a multivariate normal distribution. Use the code below to generate two vectors of correlated normal data. Compare the two distributions using <code>t.test()</code>. For one iteration use <code>paired=TRUE</code>, and the other use <code>paired=FALSE</code>. Explain the difference in p-values. Repeat the process using Sigma as <code>Sigma <- matrix(c(1,-0.8,-0.8,1),ncol=2)</code>. Re-estimate the t-test statistics. What difference in p-values do you notice now between the <code>paired=TRUE</code> and the </code>paired=FALSE</code> analyses. Again, explain the differences in p-values. </li> 
</ol>

<pre><code class="r">suppressPackageStartupMessages(library(MASS))
set.seed(12345)
mu &lt;- c(0,0.15)
Sigma &lt;- matrix(c(1,0.8,0.8,1),ncol=2)
dat &lt;- mvrnorm(n=100,mu=mu,Sigma=Sigma)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-388" style="background:;">
  <hgroup>
    <h2>Inference: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <ol start="4">
<li> A useful function for comparing changes in paired binary response variables is McNemar's test. It is implemented in R via the <code>mcnemar.test()</code> function. Use the code below to create correlated binary data and assess if there is a change in proportions across the two correlated vectors of dichotomous data. State in words the conclusion you make from the observed sample of data. </li>  
</ol>

<pre><code class="r">suppressPackageStartupMessages(library(MASS))
set.seed(12345)
mu &lt;- c(0,0.15)
Sigma &lt;- matrix(c(1,0.8,0.8,1),ncol=2)
dat &lt;- mvrnorm(n=100,mu=mu,Sigma=Sigma)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-389" style="background:;">
  <hgroup>
    <h2>Inference: Interval Estimation and Hypothesis Testing</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">table(ifelse(dat[,1]&gt;0.5,1,0),ifelse(dat[,2]&gt;0.5,1,0))
</code></pre>

<pre><code>##    
##      0  1
##   0 46 16
##   1  5 33
</code></pre>

<pre><code class="r">mcnemar.test(ifelse(dat[,1]&gt;0.5,1,0),ifelse(dat[,2]&gt;0.5,1,0))
</code></pre>

<pre><code>## 
##  McNemar&#39;s Chi-squared test with continuity correction
## 
## data:  ifelse(dat[, 1] &gt; 0.5, 1, 0) and ifelse(dat[, 2] &gt; 0.5, 1, 0)
## McNemar&#39;s chi-squared = 4.762, df = 1, p-value = 0.0291
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-390" style="background:;">
  <hgroup>
    <h2>Regression Models in R</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-391" style="background:;">
  <hgroup>
    <h2>Regression Models in R</h2>
  </hgroup>
  <article data-timings="">
    <p><a href="http://en.wikipedia.org/wiki/Regression_analysis">Regression models</a> (e.g. linear regression, logistic regression, Poisson regression, Cox PH regression, etc.) seek to describe the relationship between a single response variable and one or more covariates. More specifically, it focuses on describing how the response variable changes, as one or more covariates are changed (holding other fixed).</p>

<p>Typically, we are interested in the expectation function. So we are modelling how the conditional mean (or probability, or rate) changes as we vary covariate values.</p>

<p>\[ r(x) = E(Y|X) \]</p>

<p>Regression models sometimes have different goals which may include: identification of factors associated with a response (explanation), development of models for forecasting and prediction, or (more rarely) inferring causal relationship between response variables and covariates.</p>

<p>Again, <a href="http://www.amazon.com/Mathematical-Statistics-Chapman-Statistical-Science/dp/158488178X">Knight</a> and <a href="http://www.amazon.com/All-Statistics-Statistical-Inference-Springer/dp/0387402721">Wasserman</a> give sound introductions to regression modelling.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-392" style="background:;">
  <hgroup>
    <h2>Linear Regression</h2>
  </hgroup>
  <article data-timings="">
    <p><a href="http://en.wikipedia.org/wiki/Linear_regression">Linear regression</a> is a type of regression model with a specific set of assumptions and estimation methods. These include:</p>

<ul>
<li>Linearity</li>
<li>Exogeneity</li>
<li>Independence</li>
<li>Homoskedasticity</li>
<li>Invertability of the design matrix</li>
</ul>

<p>Mathematically the model take the form:</p>

<p>\[ y_i = \beta_0 + \beta_1 x_{i1} + \cdots + \beta_p x_{ip} + \varepsilon_i
 = \mathbf{x}^{\rm T}_i\boldsymbol\beta + \varepsilon_i,
 \qquad i = 1, \ldots, n \]</p>

<p>Again, the linear model seeks to describe how the conditional mean of the response changes as certain covariates are changed. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-393" style="background:;">
  <hgroup>
    <h2>GLM&#39;s (Linear, Logistic, Poisson, etc.)</h2>
  </hgroup>
  <article data-timings="">
    <p><a href="http://en.wikipedia.org/wiki/Generalized_linear_model">Generalized linear models</a> (GLM&#39;s) extend linear regression, allowing the response variable to be distirbuted according to a non-continuous, non-normal, probability model. </p>

<p>GLM&#39;s are specified in terms of 3 components:</p>

<ul>
<li>A probability model for the response variable selected from the exponential family of distributions.</li>
<li>A linear predictor: \(\eta = \mathbf{x}^{\rm T}_i\boldsymbol\beta\)</li>
<li>A link function \(g()\) such that: \(E(Y)=\mu=g^{-1}(\eta)\) </li>
</ul>

<p>Intuitively, the linear predictor can take on any value on \(\Re\). However, the mean of the probability distribution presumed to geenrate the data typically lies in some subset of \(\Re\). The link function acts to map the linear predictor from \(\Re\) to the a sensible range for a given probability model. Linear regression would fail to do this, and can make nonsensical predictions: e.g. probabilities outside the range of [0,1], negative rates of events, etc. </p>

<p>Given a probability distirbution for the response variable and a link function, a variance function arises: \(V(Y) = V(\mu) = V(g^{-1}(\mathbf{x}^{\rm T}_i\boldsymbol\beta))\).</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-394" style="background:;">
  <hgroup>
    <h2>GLM&#39;s (Linear, Logistic, Poisson, etc.)</h2>
  </hgroup>
  <article data-timings="">
    <p>Below we tabulate some of the technical details associated with each GLM type model:</p>

<table><thead>
<tr>
<th>Model</th>
<th>Distribution</th>
<th>Support</th>
<th>Link</th>
<th>Link Function</th>
<th align="right">Inverse Link</th>
</tr>
</thead><tbody>
<tr>
<td>Linear Regression</td>
<td>Normal</td>
<td>\(\Re\)</td>
<td>Identity</td>
<td>\(\mathbf{x}^{\rm T}_i\boldsymbol\beta = \mu\)</td>
<td align="right">\(\mu = \mathbf{x}^{\rm T}_i\boldsymbol\beta\)</td>
</tr>
<tr>
<td>Logistic Regression</td>
<td>Bernoulli</td>
<td>[0,1]</td>
<td>Logit</td>
<td>\(\mathbf{x}^{\rm T}_i\boldsymbol\beta = ln(\frac{\mu}{1-\mu})\)</td>
<td align="right">\(\mu = \frac{exp(\mathbf{x}^{\rm T}_i\boldsymbol\beta)}{1 + exp(\mathbf{x}^{\rm T}_i\boldsymbol\beta)}\)</td>
</tr>
<tr>
<td>Poisson Regression</td>
<td>Poisson</td>
<td>\(\Re^{+}\)</td>
<td>Log</td>
<td>\(\mathbf{x}^{\rm T}_i\boldsymbol\beta = ln(\mu)\)</td>
<td align="right">\(\mu = exp(\mathbf{x}^{\rm T}_i\boldsymbol\beta)\)</td>
</tr>
</tbody></table>

<p><br/>
In a nutshell:</p>

<ul>
<li>The <a href="http://en.wikipedia.org/wiki/Linear_regression">linear regression model</a> is useful for modelling a continuous normally distributed response variable.</li>
<li>The <a href="http://en.wikipedia.org/wiki/Logistic_regression">logistic regression model</a> is useful for modelling binary data.</li>
<li>The <a href="http://en.wikipedia.org/wiki/Poisson_regression">Poisson regression model</a> is useful for modelling count data. </li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-395" style="background:;">
  <hgroup>
    <h2>Cox Proportion Hazard Regression Model</h2>
  </hgroup>
  <article data-timings="">
    <p>The <a href="http://en.wikipedia.org/wiki/Proportional_hazards_model">Cox PH model</a> can be loosely viewed as an extension of a GLM. The Cox model is used to model the impact of covariates on the time to some event. </p>

<p>In this case the response is not longer a scalar quantity for each individual. Rather the response is vector based, with one quantity denoting whether the event of interest occurred or not (i.e. the person may have been censored), and the second quantity denoting the time to event/censoring. Mathemtcially we can represent the response as \(Y_i=(t_i,\delta_{i})\).</p>

<p>The model for the hazard rate at time t can be specified as:</p>

<p>\[ \lambda(t|X) = \lambda_0(t)\exp(\beta_1 x_{i1} + \cdots + \beta_p x_{ip}) = \lambda_0(t)\exp(\mathbf{x}^{\rm T}_i\boldsymbol\beta)\]</p>

<p>The proportional hazards assumption states that covariates have a multiplicative effect on the hazard rate, which is constant over t. Though the hazard rate itself may change (as a function of covariates), depending on the specification of the baseline hazard function. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-396" style="background:;">
  <hgroup>
    <h2>Regression Models in R</h2>
  </hgroup>
  <article data-timings="">
    <p>R has elegant functionality for fitting regression models, checking model assumptions (model diagnostics), and for doing forecasting/prediction.</p>

<p>The main functions we will explore are: <code>lm()</code> and <code>glm()</code> which are shipped with base R, and also <code>coxph()</code> from the <code>survival</code> package. </p>

<p>Classes are important when fitting regression models in R. Essentially, we will fit a model and store the returned list as an object. The object will have a certain class. As such, we are free to call base R generic function on these objects, and the result is very sensible output: e.g. <code>print()</code>, <code>summary()</code>, <code>plot()</code>, etc.</p>

<p>We can also call sensibly names extract functions on these objects and get back cool results: e.g. <code>coef()</code>, <code>vcov()</code>, <code>resid()</code>, <code>predict()</code>, etc.</p>

<p>A key function for regression modelling in R that we haven&#39;t really encountered is the model formula operator, <code>~</code>. Type <code>?&quot;~&quot;</code> into the console to learn more. Basically, you put your response variable on the LHS of the operator, and your covariates on the RHS of the operator, and you&#39;re off to the races.</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-397" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>In this example we going to work with the <code>ozone</code> dataset from the <code>faraway</code> package. We are going to attempt to investigate the relationship between ozone levels and various other meteorological variables(temperature, humidity, wind speed, etc.). Let&#39;s start by summarizing the data:</p>

<pre><code class="r">suppressPackageStartupMessages(library(faraway))
dim(ozone)
</code></pre>

<pre><code>## [1] 330  10
</code></pre>

<pre><code class="r">names(ozone)
</code></pre>

<pre><code>##  [1] &quot;O3&quot;       &quot;vh&quot;       &quot;wind&quot;     &quot;humidity&quot; &quot;temp&quot;     &quot;ibh&quot;     
##  [7] &quot;dpg&quot;      &quot;ibt&quot;      &quot;vis&quot;      &quot;doy&quot;
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-398" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">summary(ozone,digits=2)
</code></pre>

<pre><code>##        O3           vh            wind         humidity       temp   
##  Min.   : 1   Min.   :5320   Min.   : 0.0   Min.   :19   Min.   :25  
##  1st Qu.: 5   1st Qu.:5690   1st Qu.: 3.0   1st Qu.:47   1st Qu.:51  
##  Median :10   Median :5760   Median : 5.0   Median :64   Median :62  
##  Mean   :12   Mean   :5750   Mean   : 4.8   Mean   :58   Mean   :62  
##  3rd Qu.:17   3rd Qu.:5830   3rd Qu.: 6.0   3rd Qu.:73   3rd Qu.:72  
##  Max.   :38   Max.   :5950   Max.   :11.0   Max.   :93   Max.   :93  
##       ibh            dpg           ibt           vis           doy     
##  Min.   : 111   Min.   :-69   Min.   :-25   Min.   :  0   Min.   : 33  
##  1st Qu.: 878   1st Qu.: -9   1st Qu.:107   1st Qu.: 70   1st Qu.:120  
##  Median :2112   Median : 24   Median :168   Median :120   Median :206  
##  Mean   :2573   Mean   : 17   Mean   :161   Mean   :124   Mean   :209  
##  3rd Qu.:5000   3rd Qu.: 45   3rd Qu.:214   3rd Qu.:150   3rd Qu.:302  
##  Max.   :5000   Max.   :107   Max.   :332   Max.   :350   Max.   :390
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-399" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">round(cor(ozone),digits=2)
</code></pre>

<pre><code>##             O3    vh  wind humidity  temp   ibh   dpg   ibt   vis   doy
## O3        1.00  0.61  0.00     0.45  0.78 -0.59  0.21  0.75 -0.44  0.07
## vh        0.61  1.00 -0.23     0.07  0.81 -0.50 -0.15  0.85 -0.36  0.34
## wind      0.00 -0.23  1.00     0.22 -0.01  0.20  0.34 -0.16  0.13 -0.25
## humidity  0.45  0.07  0.22     1.00  0.34 -0.24  0.65  0.20 -0.40  0.04
## temp      0.78  0.81 -0.01     0.34  1.00 -0.53  0.19  0.86 -0.39  0.24
## ibh      -0.59 -0.50  0.20    -0.24 -0.53  1.00  0.04 -0.78  0.39  0.04
## dpg       0.21 -0.15  0.34     0.65  0.19  0.04  1.00 -0.10 -0.13 -0.15
## ibt       0.75  0.85 -0.16     0.20  0.86 -0.78 -0.10  1.00 -0.42  0.22
## vis      -0.44 -0.36  0.13    -0.40 -0.39  0.39 -0.13 -0.42  1.00 -0.22
## doy       0.07  0.34 -0.25     0.04  0.24  0.04 -0.15  0.22 -0.22  1.00
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-400" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/reg_plotpairs.png" title="plot of chunk reg_plotpairs" alt="plot of chunk reg_plotpairs" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-401" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>It appears a number of factors are related to ozone concentrations (as would be expected, given what we know from atmospheric chemistry).</p>

<pre><code class="r">o3mod &lt;- lm(O3 ~ vh + temp + ibh + ibt,data=ozone)
class(o3mod)
</code></pre>

<pre><code>## [1] &quot;lm&quot;
</code></pre>

<pre><code class="r">print(o3mod)
</code></pre>

<pre><code>## 
## Call:
## lm(formula = O3 ~ vh + temp + ibh + ibt, data = ozone)
## 
## Coefficients:
## (Intercept)           vh         temp          ibh          ibt  
##   60.298094    -0.012547     0.387684    -0.000915     0.012690
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-402" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">summary(o3mod)
</code></pre>

<pre><code>## 
## Call:
## lm(formula = O3 ~ vh + temp + ibh + ibt, data = ozone)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -11.775  -3.060  -0.241   2.939  13.065 
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept) 60.298094  29.106105    2.07   0.0391 *  
## vh          -0.012547   0.005360   -2.34   0.0198 *  
## temp         0.387684   0.040005    9.69   &lt;2e-16 ***
## ibh         -0.000915   0.000280   -3.27   0.0012 ** 
## ibt          0.012690   0.012836    0.99   0.3236    
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 4.72 on 325 degrees of freedom
## Multiple R-squared:  0.658,  Adjusted R-squared:  0.654 
## F-statistic:  156 on 4 and 325 DF,  p-value: &lt;2e-16
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-403" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/lin_diag.png" title="plot of chunk lin_diag" alt="plot of chunk lin_diag" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-404" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/lin_hist.png" title="plot of chunk lin_hist" alt="plot of chunk lin_hist" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-405" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Can anyone interpret the final coefficient estimates?</p>

<pre><code class="r">coef(o3mod)
</code></pre>

<pre><code>## (Intercept)          vh        temp         ibh         ibt 
##  60.2980942  -0.0125475   0.3876843  -0.0009151   0.0126900
</code></pre>

<pre><code class="r">confint(o3mod)
</code></pre>

<pre><code>##                 2.5 %     97.5 %
## (Intercept)  3.037942  1.176e+02
## vh          -0.023093 -2.002e-03
## temp         0.308983  4.664e-01
## ibh         -0.001466 -3.642e-04
## ibt         -0.012562  3.794e-02
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-406" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>R has a function called <code>stepAIC()</code>. It is used to perform model selection based on the AIC criteria. It can perform: forward, backward and stepwise regression.</p>

<p>Missing data handling is always an issue in model selection. The default operation in R is to conduct estimate a model on the complete case dataset. In other words, cases with any missing response or covariate information are thrown away prior to estimation of the regression coefficients.</p>

<ul>
<li>The implication is that you are comparing measures of model fit on entirely different samples. Is this acceptable practice? I think not, others proceed (blindly) in spite of this shortcoming.</li>
</ul>

<pre><code class="r">step.o3mod &lt;- stepAIC(lm(O3~vh+wind+humidity+temp+ibh+dpg+ibt+vis+doy,data=ozone))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-407" style="background:;">
  <hgroup>
    <h2>Linear Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The <code>predict()</code> function is useful for obtaining model based prediction for new observations and for forescating. </p>

<pre><code class="r">set.seed(13579)
newdat &lt;- data.frame(vh=sample(ozone$vh,3),temp=sample(ozone$temp,3),ibh=sample(ozone$ibh,3),ibt=sample(ozone$ibt,3))
newdat
</code></pre>

<pre><code>##     vh temp  ibh ibt
## 1 5490   58 3044  31
## 2 5850   69 3687 225
## 3 5600   64 5000  70
</code></pre>

<pre><code class="r">predict(o3mod,newdat,interval=&quot;prediction&quot;)
</code></pre>

<pre><code>##     fit   lwr   upr
## 1 11.51 1.931 21.08
## 2 13.13 3.736 22.52
## 3 11.16 1.737 20.58
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-408" style="background:;">
  <hgroup>
    <h2>Logistic Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We are going to use the <code>infert</code> dataset from the <code>datasets</code> library. It considers whether a woman is infertile as a function of a number of maternal characteristics. The outcome <code>case</code> is an element of \({0,1}\). Our goal will be to estimate the probability of being infertile as a function of age, education, parity and number of induced/surgical abortions.  </p>

<pre><code class="r"># Ignore the stratum variables (for this naive example)
infert1 &lt;- infert[,1:6]
infert1$induced &lt;- factor(infert1$induced)
infert1$spontaneous &lt;- factor(infert1$spontaneous)
infert1$case &lt;- factor(infert1$case)
dim(infert1)
</code></pre>

<pre><code>## [1] 248   6
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-409" style="background:;">
  <hgroup>
    <h2>Logistic Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r"># Ignore the stratum variables (for this naive example)
summary(infert1, digits=2)
</code></pre>

<pre><code>##    education        age         parity    induced case    spontaneous
##  0-5yrs : 12   Min.   :21   Min.   :1.0   0:143   0:165   0:141      
##  6-11yrs:120   1st Qu.:28   1st Qu.:1.0   1: 68   1: 83   1: 71      
##  12+ yrs:116   Median :31   Median :2.0   2: 37           2: 36      
##                Mean   :32   Mean   :2.1                              
##                3rd Qu.:35   3rd Qu.:3.0                              
##                Max.   :44   Max.   :6.0
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-410" style="background:;">
  <hgroup>
    <h2>Logistic Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We fit a number of bivariate logistic regression models to investigate the relationship between infertility and the variables in this dataset. It looks like only spontaneous abortions are predictive of infertility in a bivariate sense.</p>

<pre><code class="r"># Ignore the stratum variables (for this naive example)
m1 &lt;- glm(case~education,data=infert1,family=binomial(link=logit))
m2 &lt;- glm(case~age,data=infert1,family=binomial(link=logit))
m3 &lt;- glm(case~parity,data=infert1,family=binomial(link=logit))
m4 &lt;- glm(case~induced,data=infert1,family=binomial(link=logit))
m5 &lt;- glm(case~spontaneous,data=infert1,family=binomial(link=logit))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-411" style="background:;">
  <hgroup>
    <h2>Logistic Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">logit.mod &lt;- glm(case~parity+spontaneous+induced+age,data=infert1, family=binomial(link=logit))
logit.mod1 &lt;- update(logit.mod, . ~ . -age)
anova(logit.mod,logit.mod1)
</code></pre>

<pre><code>## Analysis of Deviance Table
## 
## Model 1: case ~ parity + spontaneous + induced + age
## Model 2: case ~ parity + spontaneous + induced
##   Resid. Df Resid. Dev Df Deviance
## 1       241        261            
## 2       242        264 -1    -3.03
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-412" style="background:;">
  <hgroup>
    <h2>Logistic Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">summary(logit.mod1)
</code></pre>

<pre><code>## 
## Call:
## glm(formula = case ~ parity + spontaneous + induced, family = binomial(link = logit), 
##     data = infert1)
## 
## Deviance Residuals: 
##    Min      1Q  Median      3Q     Max  
## -1.736  -0.876  -0.558   0.934   2.501  
## 
## Coefficients:
##              Estimate Std. Error z value Pr(&gt;|z|)    
## (Intercept)    -1.129      0.343   -3.29  0.00098 ***
## parity         -0.651      0.179   -3.64  0.00028 ***
## spontaneous1    1.723      0.372    4.63  3.7e-06 ***
## spontaneous2    3.686      0.610    6.04  1.6e-09 ***
## induced1        1.020      0.395    2.58  0.00976 ** 
## induced2        2.200      0.580    3.79  0.00015 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for binomial family taken to be 1)
## 
##     Null deviance: 316.17  on 247  degrees of freedom
## Residual deviance: 263.94  on 242  degrees of freedom
## AIC: 275.9
## 
## Number of Fisher Scoring iterations: 4
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-413" style="background:;">
  <hgroup>
    <h2>Logistic Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Does anyone want to interpret the estimated odds ratios?</p>

<pre><code class="r">exp(coef(logit.mod1)[-1])
</code></pre>

<pre><code>##       parity spontaneous1 spontaneous2     induced1     induced2 
##       0.5216       5.5988      39.8861       2.7737       9.0211
</code></pre>

<pre><code class="r">exp(confint(logit.mod1)[-1,])
</code></pre>

<pre><code>## Waiting for profiling to be done...
</code></pre>

<pre><code>##                2.5 %   97.5 %
## parity        0.3607   0.7294
## spontaneous1  2.7447  11.8790
## spontaneous2 12.7709 141.6208
## induced1      1.2939   6.1294
## induced2      2.9464  29.0263
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-414" style="background:;">
  <hgroup>
    <h2>Logistic Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Assessing GOF and explained variation in models with limitted dependent variables is more challenging than in the linear model. There are a number of methods that can be implmented:</p>

<ul>
<li>Deviance and Pearson \(\chi^{2}\) indices of GOF (statistic divided by DF)</li>
<li>Raw residuals, Pearson residuals, Deviance residuals, Studentized residuals, etc.</li>
<li>Hosmer-Lemeshow and related GOF tests</li>
<li>Various pseduo \(R^2\) measures</li>
<li>Raw accuracy measures and chance corrected accuracy (kappa)</li>
<li>ROC Curves and C-indices</li>
<li>Net reclassification indices and the integrated discrimination index</li>
<li>Cross-validation and bootstrap methods</li>
</ul>

<p>These all exist in user contributed R packages. Check them out if they are needed in your line of work.  </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-415" style="background:;">
  <hgroup>
    <h2>Poisson Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>We will use the <code>warpbreaks</code> dataset from the dataset package to investigate if the rate of warp breaks per loom as a function of 2 categorical predictors wool type and tension. </p>

<pre><code class="r">suppressPackageStartupMessages(library(datasets))
dim(warpbreaks)
</code></pre>

<pre><code>## [1] 54  3
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-416" style="background:;">
  <hgroup>
    <h2>Poisson Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Let&#39;s estimate the mean and variance of the number of warp breaks in each combination of wool type and tension. </p>

<pre><code class="r">suppressPackageStartupMessages(library(plyr))
ddply(warpbreaks, .(wool, tension), summarize, mean=mean(breaks), var=var(breaks))
</code></pre>

<pre><code>## Error: argument &quot;by&quot; is missing, with no default
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-417" style="background:;">
  <hgroup>
    <h2>Poisson Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">interaction.plot(warpbreaks$tension,warpbreaks$wool,warpbreaks$breaks,fun=mean,type=&quot;l&quot;, xlab=&quot;Tension&quot;,ylab=&quot;Mean Number Breaks&quot;,legend=FALSE)
legend(&quot;topright&quot;,c(&quot;A&quot;,&quot;B&quot;),lty=c(2,1),bty=&quot;n&quot;)
</code></pre>

<p><img src="assets/fig/regP_poisint.png" title="plot of chunk regP_poisint" alt="plot of chunk regP_poisint" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-418" style="background:;">
  <hgroup>
    <h2>Poisson Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">mod.int &lt;- glm(breaks~wool+tension+wool*tension,data=warpbreaks,family=poisson(link=log))
mod.noint &lt;- glm(breaks~wool+tension,data=warpbreaks,family=poisson(link=log))
anova(mod.noint,mod.int)
</code></pre>

<pre><code>## Analysis of Deviance Table
## 
## Model 1: breaks ~ wool + tension
## Model 2: breaks ~ wool + tension + wool * tension
##   Resid. Df Resid. Dev Df Deviance
## 1        50        210            
## 2        48        182  2     28.1
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-419" style="background:;">
  <hgroup>
    <h2>Poisson Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>The Poisson model appears to be struggling with the issue of over-dispersion. i.e. The ratio of the Pearson/Deviance statistic over the DF is far greater than 1. We could remedy this with a quasi-Poisson model or by fitting a negative binomial model. The problem with overdisperion is that inference regarding the coefficients may be impacted by incorrectly estimated standard errors. </p>

<pre><code class="r">suppressPackageStartupMessages(library(MASS))
quasi.int &lt;- glm(breaks~wool+tension+wool*tension,data=warpbreaks,family=quasipoisson(link=log))
nb.int &lt;- glm.nb(breaks~wool+tension+wool*tension,data=warpbreaks)
</code></pre>

<p>The impact of the over-dispersion is most pronounced on the Wald test of significance for the interaction term between tension and wool type. </p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-420" style="background:;">
  <hgroup>
    <h2>Poisson Regression in R</h2>
  </hgroup>
  <article data-timings="">
    <p>Again, there are a number of ways to assess model adequacy in Poisson regression models:</p>

<ul>
<li>Deviance and Pearson \(\chi^{2}\) indices of GOF (statistic divided by DF)</li>
<li>Raw residuals, Pearson residuals, Deviance residuals, Studentized residuals, etc.</li>
<li>Various pseduo \(R^2\) measures</li>
<li>Comparison of observed counts for various integers versus model predicted values</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-421" style="background:;">
  <hgroup>
    <h2>Cox Proportional Hazards Regression Model</h2>
  </hgroup>
  <article data-timings="">
    <p>Let us return to our favourite <code>pbc</code> dataset from the <code>survival</code> package. In this package there are two variables denoting time to death/censoring (<code>time</code>) as well as an indicator variable denoting whether a case experienced death over follow-up or was censored (<code>status</code>). </p>

<pre><code class="r">suppressPackageStartupMessages(library(survival))
pbc1 &lt;- pbc[pbc$status!=1,]
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="codemargin outmargin nobackground" id="slide-422" style="background:;">
  <hgroup>
    <h2>Cox Proportional Hazards Regression Model</h2>
  </hgroup>
  <article data-timings="">
    <p>Before starting, let&#39;s just plot the overall survival experience in this sample of patients using a non-parametric Kaplan-Meier estimator of the survival function.</p>

<pre><code class="r">suppressPackageStartupMessages(library(rms))
survplot(npsurv(Surv(as.numeric(time)/365,status1==1) ~ 1, data=pbc), time.inc=2, type=&quot;kaplan-meier&quot;, conf=&quot;none&quot;, label=FALSE)
text(7,0.01,&quot;Years Since Study Registration&quot;)
</code></pre>

<p><img src="assets/fig/reg_km.png" title="plot of chunk reg_km" alt="plot of chunk reg_km" style="display: block; margin: auto;" /></p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-423" style="background:;">
  <hgroup>
    <h2>Cox Proportional Hazards Regression Model</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">coxmod.trt &lt;- coxph(Surv(as.numeric(time),status1==1) ~ trt==2, data=pbc)
summary(coxmod.trt)
</code></pre>

<pre><code>## Call:
## coxph(formula = Surv(as.numeric(time), status1 == 1) ~ trt == 
##     2, data = pbc)
## 
##   n= 312, number of events= 168 
##    (106 observations deleted due to missingness)
## 
##                coef exp(coef) se(coef)   z Pr(&gt;|z|)
## trt == 2TRUE 0.0466    1.0477   0.1551 0.3     0.76
## 
##              exp(coef) exp(-coef) lower .95 upper .95
## trt == 2TRUE      1.05      0.954     0.773      1.42
## 
## Concordance= 0.512  (se = 0.023 )
## Rsquare= 0   (max possible= 0.992 )
## Likelihood ratio test= 0.09  on 1 df,   p=0.764
## Wald test            = 0.09  on 1 df,   p=0.764
## Score (logrank) test = 0.09  on 1 df,   p=0.764
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-424" style="background:;">
  <hgroup>
    <h2>Cox Proportional Hazards Regression Model</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">coxmod.trt &lt;- coxph(Surv(as.numeric(time),status1==1) ~ trt==2, data=pbc)
exp(coef(coxmod.trt))
</code></pre>

<pre><code>## trt == 2TRUE 
##        1.048
</code></pre>

<pre><code class="r">exp(confint(coxmod.trt))
</code></pre>

<pre><code>##               2.5 % 97.5 %
## trt == 2TRUE 0.7731   1.42
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-425" style="background:;">
  <hgroup>
    <h2>Cox Proportional Hazards Regression Model</h2>
  </hgroup>
  <article data-timings="">
    <p>Again, validating Cox PH models is likely a course in itself:</p>

<ul>
<li>Check proportional hazards</li>
<li>Various residuals (Martingal, Schoenfeld, etc.)</li>
<li>Time dependent C stats and extensions to AUC, etc.</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-426" style="background:;">
  <hgroup>
    <h2>Regression Models in R</h2>
  </hgroup>
  <article data-timings="">
    <p>As you can see R has many useful functions for fitting linear models, GLM&#39;s (logistic and Poisson models) and semi-parametric time-to-event models (the Cox PH model).</p>

<p>The backbone of all of these models is the <code>~</code> model formula operator. Typically, you stick your response variable(s) one the LHS of the operator and your covariates on the RHS and you&#39;re off to model fitting and estimation.</p>

<p>The generic functions <code>print</code>, <code>summary</code>, <code>plot</code> are indispensible in model fitting and evaluation. You apply them to objects of known classes and R returns very useful/sensible output.</p>

<p>The ease at which R can fit these and other complex parametric, semi-parametric and non-parametric regression models can be both a blessing and a curse. I purposefully glossed over many important details (this is an R programming course, not a regression course). A thorough treatment of all of these topics likely fill 4+ graduate courses in statistics/biostatistics. Pick up a dense book before delving into model fitting/estimation and make sure you know what you are doing so you don&#39;t shoot yourself in the foot!!</p>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-427" style="background:;">
  <hgroup>
    <h2>Lab Session (30 minutes)</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-428" style="background:;">
  <hgroup>
    <h2>Regression Models in R</h2>
  </hgroup>
  <article data-timings="">
    <ol>
<li><p>Ignore the time variable in the <code>pbc</code> dataset. Fit a logistic regression model where death/transplant is the outcome. Determine the best possible fitting model for these data. How would you justify your proposed model?</p></li>
<li><p>Now consider time, fit a Cox PH regression model to outcome considering time and the censoring versus death/transplant indicator. What is the best possible fitting model to these data? Again, how would you justify your answer?</p></li>
<li><p>Why are the models from part 1 and part 2 the same or different? i.e. What are they doing differently? And do you expect different results when you fit these two models?</p></li>
</ol>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="segue dark" id="slide-429" style="background:;">
  <hgroup>
    <h2>The End...Finally!!</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-430" style="background:;">
  <hgroup>
    <h2>Acknowledgements</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li><p>Thanks to Dr. Teresa To for inviting me to give this lecture and giving me the opportunity to collect my thoughts about the R programming language in an organized manner. It was a learning experience for me, and I hope you too.</p></li>
<li><p>Thanks to Ms. Devon Williams for organizing the workshop. It wouldn&#39;t be possible without all her hard work behind the scenes!!</p></li>
<li><p>Thanks to Dr. Tom Wright for volunteering his time to help run the lab sessions. </p></li>
<li><p>Thanks to Dr. Eva Grunfeld, Dr. Paul Krueger and Dr. Rahim Moineddin for creating such a wonderful work environment for me and others in the Research program at the Department of Family and Community Medicine at the University of Toronto. The trust and autonomy they afford in me allows for these types of projects to occur.</p></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>

<slide class="nobackground" id="slide-431" style="background:;">
  <hgroup>
    <h2>Acknowledgements</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>Thanks to the R Core Development Team for providing and continuing such a great environment to conduct statistical research.</li>
<li>Thanks to all the people at RStudio (the IDE I used when creating this presentation)</li>
<li>Thanks to Hadley Wickham for his works on <code>reshape2</code>, <code>plyr</code> and other great packages.</li>
<li>Thanks to Terry Therneau for his work on the <code>survival</code> package.</li>
<li>Thanks to Yihui Xie for the <code>knitr</code> package.</li>
<li>Thanks to Ramnath Vaidyanathan for <code>rCharts</code>...I love it!!</li>
<li>And big thanks again to Ramnath Vaidyanathan for the <code>slidify</code> package...and hopefully the death of ugly slideshows!!</li>
</ul>

<p>And all the other great R developers, contributors, authors, etc...thanks for helping me navigate my way with R!!!</p>

  </article>
  <!-- Presenter Notes -->
</slide>

    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='Overview of Workshop'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='Overview of Workshop'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='What is R?'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='So What is R?'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='Revolution Analytics Take on R'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='Why Bother Learning R?'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='What Some Bloggers are Saying About R'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='Some More Reasons to Learn R'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='And Even More Reasons to Learn R'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='Learning R Might Not be a &quot;Walk in the Park&quot;'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='Getting Started with R'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='We All Have to Start Our R Journey Somewhere...'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Learning Materials on the R Project Website'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Other Great Sources of R Information'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Some of the Books I Used to Learn R'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Our First R Session'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='How to Interact with R'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='How are R works in a Nutshell'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Interactive Mode or Scripts'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='What Your R Console Looks Like (for Mac OS X)'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='Hints About R Functionality Appear at Start-Up'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='Essential Functions for Controlling Your Workspace'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='R Packages'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='Getting Help in R'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='Before Getting Started...Some General R Principles'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='R Can be Used as a Big Calculator'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='R Can be Used as a Big Calculator'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='R Can be Used as a Big Calculator (with Objects)'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='R as a Big Calculator with Objects'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='Some Other Useful R Math Functions'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='R Functions for Descriptive Statistics'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='R Functions for Descriptive Statistics'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='Tabulation is easy in R'>
         33
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='Some Basic R Plots'>
         34
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='Some Basic R Plots'>
         35
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='R Functions for Descriptive Statistics'>
         36
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='Other useful R functions/operators'>
         37
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='Summary of our First R Session'>
         38
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=39 title='Laboratory Session (5-10 minutes)'>
         39
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=40 title=''>
         40
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=41 title='Data Structures in R'>
         41
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=42 title='Data Structures in R'>
         42
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=43 title='Data Structures in R'>
         43
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=44 title='Numeric vectors in R'>
         44
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=45 title='Integer vectors in R'>
         45
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=46 title='Logical vectors in R'>
         46
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=47 title='Characters vectors in R'>
         47
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=48 title='A few ways to create the same numeric vector'>
         48
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=49 title='Vector conversion in R'>
         49
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=50 title='Vector conversion in R'>
         50
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=51 title='Vector conversion in R'>
         51
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=52 title='Vector conversion in R'>
         52
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=53 title='We stray off on a tangent now...'>
         53
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=54 title='Another tangent...More special R values'>
         54
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=55 title='A final tangent...'>
         55
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=56 title='Getting back on track...vector indexing'>
         56
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=57 title='Named vector elements'>
         57
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=58 title='Vector Recycling'>
         58
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=59 title='Vector Recycling'>
         59
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=60 title='Other R Data Structures'>
         60
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=61 title='Matrices in R'>
         61
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=62 title='Matrices in R'>
         62
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=63 title='Matrices in R'>
         63
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=64 title='Matrices in R'>
         64
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=65 title='Matrices in R'>
         65
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=66 title='Matrices in R'>
         66
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=67 title='Matrices in R'>
         67
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=68 title='Matrices in R'>
         68
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=69 title='Matrices in R'>
         69
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=70 title='Matrices in R'>
         70
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=71 title='Lists in R'>
         71
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=72 title='Lists in R'>
         72
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=73 title='Lists in R'>
         73
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=74 title='Lists in R'>
         74
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=75 title='Lists in R'>
         75
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=76 title='Lists in R'>
         76
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=77 title='Lists in R'>
         77
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=78 title='Data frames in R'>
         78
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=79 title='Data frames in R'>
         79
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=80 title='Data frames in R'>
         80
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=81 title='Data frames in R'>
         81
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=82 title='Data frames in R'>
         82
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=83 title='Data frames in R'>
         83
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=84 title='Data frames in R'>
         84
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=85 title='Data frames in R'>
         85
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=86 title='Data frames in R'>
         86
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=87 title='Data frames in R'>
         87
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=88 title='Data frames in R'>
         88
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=89 title='Data frames in R'>
         89
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=90 title='Arrays in R'>
         90
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=91 title='Arrays in R'>
         91
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=92 title='Arrays in R'>
         92
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=93 title='Other interesting data types in R'>
         93
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=94 title='Factors in R'>
         94
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=95 title='Factors in R'>
         95
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=96 title='Factors in R'>
         96
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=97 title='Factors in R'>
         97
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=98 title='Factors in R'>
         98
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=99 title='Factors in R'>
         99
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=100 title='Factors in R'>
         100
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=101 title='Factors in R'>
         101
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=102 title='Dates in R'>
         102
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=103 title='Dates in R'>
         103
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=104 title='Dates in R'>
         104
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=105 title='Dates in R'>
         105
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=106 title='Dates in R'>
         106
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=107 title='Summary of Data Structures Module'>
         107
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=108 title='Lab Session (20 minutes)'>
         108
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=109 title='Lab Session Exercises'>
         109
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=110 title='Lab Session Exercises'>
         110
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=111 title='Lab Session Exercises'>
         111
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=112 title='Control Structures in R'>
         112
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=113 title='Control Structures in R'>
         113
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=114 title='The <code>if</code> and <code>else</code> statements'>
         114
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=115 title='The <code>if</code> and <code>else</code> statements'>
         115
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=116 title='The <code>if</code> and <code>else</code> statements'>
         116
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=117 title='The <code>if</code> and <code>else</code> statements'>
         117
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=118 title='The <code>if</code> and <code>else</code> statements'>
         118
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=119 title='The <code>for</code> loop'>
         119
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=120 title='The <code>for</code> loop'>
         120
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=121 title='The <code>for</code> loop'>
         121
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=122 title='The <code>for</code> loop'>
         122
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=123 title='The <code>while</code> loop'>
         123
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=124 title='The <code>while</code> loop'>
         124
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=125 title='The <code>while</code> loop'>
         125
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=126 title='The <code>while</code> loop'>
         126
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=127 title='The <code>while</code> loop'>
         127
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=128 title='The <code>apply</code> family of functions'>
         128
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=129 title='The <code>apply</code> family of functions'>
         129
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=130 title='The <code>apply</code> family of functions'>
         130
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=131 title='The <code>apply</code> family of functions'>
         131
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=132 title='Summary of control structures'>
         132
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=133 title='Lab Session (10-20 minutes)'>
         133
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=134 title='Lab Session'>
         134
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=135 title='Lab Session'>
         135
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=136 title='Functions in R'>
         136
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=137 title='Functions in R'>
         137
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=138 title='Functions in R'>
         138
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=139 title='Functions in R'>
         139
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=140 title='Functions in R'>
         140
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=141 title=''>
         141
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=142 title='Functions in R'>
         142
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=143 title='Functions in R'>
         143
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=144 title='Functions in R'>
         144
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=145 title='Functions in R'>
         145
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=146 title='Functions in R'>
         146
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=147 title='Functions in R'>
         147
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=148 title='Functions in R'>
         148
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=149 title='Functions in R'>
         149
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=150 title='Functions in R'>
         150
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=151 title='Functions in R'>
         151
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=152 title='Lab Session (20 minutes)'>
         152
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=153 title='Lab Session'>
         153
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=154 title='Functions in R'>
         154
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=155 title='String Manipulation in R'>
         155
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=156 title='String Manipulation in R'>
         156
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=157 title='String Manipulation in R'>
         157
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=158 title='String Manipulation in R'>
         158
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=159 title='String Manipulation in R'>
         159
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=160 title='String Manipulation in R'>
         160
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=161 title='String Manipulation in R'>
         161
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=162 title='String Manipulation in R'>
         162
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=163 title='String Manipulation in R'>
         163
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=164 title='String Manipulation in R'>
         164
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=165 title='String Manipulation in R'>
         165
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=166 title='String Manipulation in R'>
         166
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=167 title='String Manipulation in R'>
         167
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=168 title='String Manipulation in R'>
         168
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=169 title='String Manipulation in R'>
         169
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=170 title='String Manipulation in R'>
         170
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=171 title='String Manipulation in R'>
         171
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=172 title='String Manipulation in R'>
         172
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=173 title='String Manipulation in R'>
         173
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=174 title='String Manipulation in R'>
         174
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=175 title='String Manipulation in R'>
         175
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=176 title='String Manipulation in R'>
         176
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=177 title='String Manipulation in R'>
         177
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=178 title='String Manipulation in R'>
         178
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=179 title='Lab Session (20 minutes)'>
         179
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=180 title='Lab Session'>
         180
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=181 title='Lab Session'>
         181
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=182 title='Lab Session'>
         182
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=183 title='Data Manipulation in R'>
         183
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=184 title='Data Manipulation in R'>
         184
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=185 title='Data Manipulation in R'>
         185
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=186 title='Data Manipulation in R'>
         186
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=187 title='Data Manipulation in R'>
         187
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=188 title='Data Manipulation in R'>
         188
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=189 title='Data Manipulation in R'>
         189
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=190 title='Data Manipulation in R'>
         190
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=191 title='Data Manipulation in R'>
         191
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=192 title='Data Manipulation in R'>
         192
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=193 title='Data Manipulation inR'>
         193
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=194 title='Data Manipulation in R'>
         194
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=195 title='Data Manipulation in R'>
         195
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=196 title='Data Manipulation in R'>
         196
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=197 title='Data Manipulation in R'>
         197
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=198 title='Data Manipulation in R'>
         198
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=199 title='Data Manipulation in R'>
         199
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=200 title='Lab Session (20 minutes)'>
         200
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=201 title='Data Manipulation in R'>
         201
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=202 title='Data Manipulation in R'>
         202
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=203 title='Advanced Data Manipulation in R'>
         203
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=204 title='Advanced Data Manipulation in R'>
         204
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=205 title='Advanced Data Manipulation in R'>
         205
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=206 title='Advanced Data Manipulation in R'>
         206
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=207 title='Advanced Data Manipulation in R'>
         207
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=208 title='Advanced Data Manipulation in R'>
         208
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=209 title='Advanced Data Manipulation in R'>
         209
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=210 title='Advanced Data Manipulation in R'>
         210
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=211 title='Advanced Data Manipulation in R'>
         211
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=212 title='Advanced Data Manipulation in R'>
         212
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=213 title='Advanced Data Manipulation in R'>
         213
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=214 title='Advanced Data Manipulation in R'>
         214
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=215 title='Advanced Data Manipulation in R'>
         215
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=216 title='Advanced Data Manipulation in R'>
         216
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=217 title='Advanced Data Manipulation in R'>
         217
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=218 title='Advanced Data Manipulation in R'>
         218
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=219 title='Advanced Data Manipulation in R'>
         219
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=220 title='Advanced Data Manipulation in R'>
         220
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=221 title='Advanced Data Manipulation in R'>
         221
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=222 title='Lab Session (10 minutes)'>
         222
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=223 title='Advanced Data Manipulation in R'>
         223
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=224 title='Random Number Generation in R'>
         224
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=225 title='Random Number Generation in R'>
         225
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=226 title='Random Number Generation in R'>
         226
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=227 title='Random Number Generation in R'>
         227
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=228 title='Random Number Generation in R'>
         228
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=229 title='Random Number Generation in R'>
         229
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=230 title='Random Number Generation in R'>
         230
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=231 title='Random Number Generation in R'>
         231
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=232 title='Random Number Generation in R'>
         232
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=233 title='Random Number Generation in R'>
         233
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=234 title='Random Number Generation in R'>
         234
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=235 title='Random Number Generation in R'>
         235
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=236 title='Random Number Generation in R'>
         236
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=237 title='Random Number Generation in R'>
         237
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=238 title='Random Number Generation in R'>
         238
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=239 title='Lab Session (10 minutes)'>
         239
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=240 title='Random Number Generation in R'>
         240
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=241 title='Random Number Generation in R'>
         241
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=242 title='Data Input/Output in R'>
         242
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=243 title='Data Input/Output in R'>
         243
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=244 title='Data Input/Output in R'>
         244
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=245 title='Importing data into R with <code>read.table()</code>'>
         245
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=246 title='Importing data into R with <code>read.table()</code>'>
         246
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=247 title='<code>read.table()</code> versus <code>read.csv()</code>'>
         247
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=248 title='Excel and R'>
         248
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=249 title='Excel and R'>
         249
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=250 title='Excel and R'>
         250
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=251 title='R and SPSS, STATA and SAS files'>
         251
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=252 title='R and SPSS, STATA and SAS files'>
         252
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=253 title='R and SPSS, STATA and SAS files'>
         253
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=254 title='R and Databases'>
         254
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=255 title='Exporting Objects Out of R'>
         255
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=256 title='Connections in R'>
         256
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=257 title='Reading data from the Internet via <code>url()</code>'>
         257
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=258 title='Input/Output in R'>
         258
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=259 title='Lab Session (10 minutes)'>
         259
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=260 title='Input/Output in R'>
         260
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=261 title='R Graphics'>
         261
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=262 title='R Graphics'>
         262
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=263 title='R Graphics'>
         263
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=264 title='R Graphics'>
         264
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=265 title='Which Graphics Functions to Use?'>
         265
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=266 title='Base R Graphics'>
         266
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=267 title='<code>grid</code> Graphics'>
         267
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=268 title='Graphical Output and Graphics Devices'>
         268
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=269 title='Graphical Output and Graphics Devices'>
         269
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=270 title='An Overview of this Module'>
         270
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=271 title='An Overview of this Module'>
         271
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=272 title='Base R graphics'>
         272
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=273 title='Base R graphics'>
         273
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=274 title='Base R graphics'>
         274
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=275 title='Base R Graphics'>
         275
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=276 title='Base R Graphics'>
         276
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=277 title='Base R Graphics'>
         277
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=278 title='<code>lattice</code> and <code>ggplot2</code>'>
         278
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=279 title='<code>graphics</code>, <code>lattice</code> and <code>ggplot2</code>'>
         279
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=280 title='Pie Graphs'>
         280
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=281 title='Bar Graphs'>
         281
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=282 title='Bar Graphs'>
         282
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=283 title='Bar Graphs'>
         283
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=284 title='Bar Graphs'>
         284
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=285 title='Dot Charts'>
         285
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=286 title='Dot Charts'>
         286
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=287 title='Dot Charts'>
         287
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=288 title='Histograms'>
         288
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=289 title='Histograms'>
         289
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=290 title='Histograms'>
         290
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=291 title='Density Curves'>
         291
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=292 title='Density Curves'>
         292
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=293 title='Density Curves'>
         293
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=294 title='Box plots'>
         294
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=295 title='Box plots'>
         295
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=296 title='Box plots'>
         296
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=297 title='X-Y Scatter plots'>
         297
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=298 title='X-Y Scatter plots'>
         298
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=299 title='X-Y Scatter plots'>
         299
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=300 title='2D Density Surfaces'>
         300
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=301 title='2D Density Surfaces'>
         301
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=302 title='2D Density Surfaces'>
         302
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=303 title='Time Series Line Graphs'>
         303
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=304 title='Time Series Line Graphs'>
         304
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=305 title='Time Series Line Graphs'>
         305
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=306 title='Longitudinal Plots'>
         306
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=307 title='Longitudinal Plots'>
         307
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=308 title='Longitudinal Plots'>
         308
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=309 title='Plotting Math Functions'>
         309
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=310 title='Plotting Math Functions'>
         310
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=311 title='Plotting Math Functions'>
         311
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=312 title='Miscellaneous Graphs'>
         312
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=313 title='Scatter Plot Matrices'>
         313
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=314 title='Scatter Plot Matrices'>
         314
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=315 title='Scatter Plot Matrices'>
         315
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=316 title='Plotting Correlation Matrices'>
         316
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=317 title='Plotting Correlation Matrices'>
         317
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=318 title='Maps'>
         318
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=319 title='Maps'>
         319
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=320 title='Maps'>
         320
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=321 title='Interactive Data Visualization with R'>
         321
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=322 title='Interactive Data Visualization'>
         322
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=323 title='<code>rCharts</code> NVD3 multichart'>
         323
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=324 title='Summary of R Graphics'>
         324
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=325 title='Lab Session (30 minutes)'>
         325
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=326 title='R Graphics'>
         326
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=327 title='R Graphics'>
         327
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=328 title='R Graphics'>
         328
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=329 title='Descriptive Statistics in R'>
         329
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=330 title='Descriptive Statistics in R'>
         330
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=331 title='Descriptive Statistics in R'>
         331
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=332 title='Univariate Statistics'>
         332
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=333 title='Univariate Statistics'>
         333
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=334 title='Univariate Statistics'>
         334
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=335 title='Univariate Statistics'>
         335
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=336 title='Univariate Statistics'>
         336
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=337 title='Univariate Statistics'>
         337
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=338 title='Univariate Statistics'>
         338
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=339 title='Univariate Statistics'>
         339
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=340 title='Bivariate Statistics'>
         340
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=341 title='Bivariate Statistics'>
         341
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=342 title='Bivariate Statistics'>
         342
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=343 title='Bivariate Statistics'>
         343
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=344 title='Bivariate Statistics'>
         344
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=345 title='Bivariate Statistics'>
         345
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=346 title='Bivariate Statistics'>
         346
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=347 title='Bivariate Statistics'>
         347
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=348 title='Descriptive Statistics in R'>
         348
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=349 title='Lab Session (20 minutes)'>
         349
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=350 title='Descriptive Statistics in R'>
         350
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=351 title='Descriptive Statistics in R'>
         351
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=352 title='Inference: Estimation and Hypothesis Testing'>
         352
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=353 title='Inference: Estimation and Hypothesis Testing'>
         353
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=354 title='Point Estimation'>
         354
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=355 title='Poisson MLE example'>
         355
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=356 title='Poisson MLE example'>
         356
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=357 title='Poisson MLE example'>
         357
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=358 title='Interval Estimation'>
         358
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=359 title='Hypothesis Testing'>
         359
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=360 title='Duality: Interval Estimation and Hypothesis Testing'>
         360
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=361 title='Duality: Interval Estimation and Hypothesis Testing'>
         361
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=362 title='Interval Estimation and Hypothesis Testing in R'>
         362
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=363 title='Inference about a single proportion'>
         363
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=364 title='Inference about a single proportion'>
         364
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=365 title='Inference about a single proportion'>
         365
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=366 title='Inference about a single mean'>
         366
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=367 title='Inference about a location parameter'>
         367
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=368 title='Inference for contingency tables'>
         368
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=369 title='Inference for contingency tables'>
         369
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=370 title='Inference about two means'>
         370
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=371 title='Inference about two location parameters'>
         371
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=372 title='Inference about two location parameters'>
         372
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=373 title='Inference about two location parameters'>
         373
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=374 title='Inference about two location parameters'>
         374
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=375 title='Inference for R*C contingency tables'>
         375
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=376 title='Inference for R*C contingency tables'>
         376
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=377 title='Inference for R*C contingency tables'>
         377
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=378 title='Inference about multiple means'>
         378
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=379 title='Inference about multiple means'>
         379
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=380 title='Inference about multiple location parameters'>
         380
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=381 title='Inference about correlation coefficient'>
         381
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=382 title='Inference: Interval Estimation and Hypothesis Testing'>
         382
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=383 title='Lab Session (30 minutes)'>
         383
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=384 title='Inference: Interval Estimation and Hypothesis Testing'>
         384
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=385 title='Inference: Interval Estimation and Hypothesis Testing'>
         385
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=386 title='Inference: Interval Estimation and Hypothesis Testing'>
         386
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=387 title='Inference: Interval Estimation and Hypothesis Testing'>
         387
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=388 title='Inference: Interval Estimation and Hypothesis Testing'>
         388
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=389 title='Inference: Interval Estimation and Hypothesis Testing'>
         389
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=390 title='Regression Models in R'>
         390
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=391 title='Regression Models in R'>
         391
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=392 title='Linear Regression'>
         392
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=393 title='GLM&#39;s (Linear, Logistic, Poisson, etc.)'>
         393
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=394 title='GLM&#39;s (Linear, Logistic, Poisson, etc.)'>
         394
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=395 title='Cox Proportion Hazard Regression Model'>
         395
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=396 title='Regression Models in R'>
         396
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=397 title='Linear Regression in R'>
         397
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=398 title='Linear Regression in R'>
         398
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=399 title='Linear Regression in R'>
         399
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=400 title='Linear Regression in R'>
         400
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=401 title='Linear Regression in R'>
         401
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=402 title='Linear Regression in R'>
         402
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=403 title='Linear Regression in R'>
         403
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=404 title='Linear Regression in R'>
         404
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=405 title='Linear Regression in R'>
         405
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=406 title='Linear Regression in R'>
         406
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=407 title='Linear Regression in R'>
         407
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=408 title='Logistic Regression in R'>
         408
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=409 title='Logistic Regression in R'>
         409
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=410 title='Logistic Regression in R'>
         410
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=411 title='Logistic Regression in R'>
         411
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=412 title='Logistic Regression in R'>
         412
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=413 title='Logistic Regression in R'>
         413
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=414 title='Logistic Regression in R'>
         414
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=415 title='Poisson Regression in R'>
         415
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=416 title='Poisson Regression in R'>
         416
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=417 title='Poisson Regression in R'>
         417
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=418 title='Poisson Regression in R'>
         418
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=419 title='Poisson Regression in R'>
         419
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=420 title='Poisson Regression in R'>
         420
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=421 title='Cox Proportional Hazards Regression Model'>
         421
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=422 title='Cox Proportional Hazards Regression Model'>
         422
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=423 title='Cox Proportional Hazards Regression Model'>
         423
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=424 title='Cox Proportional Hazards Regression Model'>
         424
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=425 title='Cox Proportional Hazards Regression Model'>
         425
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=426 title='Regression Models in R'>
         426
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=427 title='Lab Session (30 minutes)'>
         427
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=428 title='Regression Models in R'>
         428
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=429 title='The End...Finally!!'>
         429
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=430 title='Acknowledgements'>
         430
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=431 title='Acknowledgements'>
         431
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>